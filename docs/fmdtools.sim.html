<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fmdtools.sim &mdash; fmdtools 2.0-alpha documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/fmdtools_ico.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fmdtools.analyze package" href="fmdtools.analyze.html" />
    <link rel="prev" title="fmdtools.define package" href="fmdtools.define.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html">
            <img src="../_static/logo_glow.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">README</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../README.html#contributions">Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../README.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#notices">Notices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../README.html#disclaimers">Disclaimers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Development%20Guide.html">Development Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#contributions">Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#repo-structure">Repo Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Development%20Guide.html#remote-structure">Remote Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#development-process">Development Process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Development%20Guide.html#upload-to-pypi">Upload to PyPI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#roles">Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#testing">Testing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#model-development-best-practices">Model Development Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#plan-your-model-to-avoid-technical-debt">Plan your model to avoid technical debt</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#don-t-copy-inherit-and-functionalize">Don’t copy, inherit and functionalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#document-your-code-sometimes-before-your-write-it">Document your code, sometimes <em>before</em> your write it</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#don-t-get-ahead-of-yourself-try-to-get-a-running-simulation-first">Don’t get ahead of yourself–try to get a running simulation first</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#preserve-your-prototype-setup-by-formalizing-it-as-a-test">Preserve your prototype setup by formalizing it as a test</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#edit-your-code">Edit your code</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#structuring-a-model">Structuring a model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#use-model-constructs-to-simplify-your-code">Use model constructs to simplify your code</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#style-advice">Style advice</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#see-also">See also</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Examples.html">Examples</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="fmdtools.html">Module Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fmdtools.define.html">fmdtools.define package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.block">fmdtools.define.block</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.common">fmdtools.define.common</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.flow">fmdtools.define.flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.mode">fmdtools.define.mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.model">fmdtools.define.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.parameter">fmdtools.define.parameter</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.rand">fmdtools.define.rand</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.state">fmdtools.define.state</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.time">fmdtools.define.time</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">fmdtools.sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fmdtools-sim-propagate">fmdtools.sim.propagate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fmdtools.sim.scenario">fmdtools.sim.scenario</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fmdtools.sim.approach">fmdtools.sim.approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fmdtools.sim.search">fmdtools.sim.search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fmdtools.analyze.html">fmdtools.analyze package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.graph">fmdtools.analyze.result</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.plot">fmdtools.analyze.plot</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-0">fmdtools.analyze.graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.tabulate">fmdtools.analyze.tabulate</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fmdtools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="fmdtools.html">Module Reference</a> &raquo;</li>
      <li>fmdtools.sim</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/docs/fmdtools.sim.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="fmdtools-sim">
<h1>fmdtools.sim<a class="headerlink" href="#fmdtools-sim" title="Permalink to this headline"></a></h1>
<dl class="simple">
<dt>The <code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim</span></code> package is used to simulate <code class="xref py py-class docutils literal notranslate"><span class="pre">fmdtools.define.Model</span></code> models. It consists of four modules:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#module-fmdtools.sim.propagate" title="fmdtools.sim.propagate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim.propagate</span></code></a>, which simulates the user-defined behaviors of a model over set time(s).</p></li>
<li><p><a class="reference internal" href="#module-fmdtools.sim.scenario" title="fmdtools.sim.scenario"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim.scenario</span></code></a>, which defines scenario information for simulations.</p></li>
<li><p><a class="reference internal" href="#module-fmdtools.sim.approach" title="fmdtools.sim.approach"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim.approach</span></code></a>, which defines the classes <code class="xref py py-class docutils literal notranslate"><span class="pre">SampleApproach</span></code> and :class`NominalApproach` for defining sets of scenarios to simulate.</p></li>
<li><p><a class="reference internal" href="#module-fmdtools.sim.search" title="fmdtools.sim.search"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim.search</span></code></a>, which provides an the <code class="xref py py-class docutils literal notranslate"><span class="pre">ProblemInterface</span></code> and <cite>DynamicInterface</cite> classes for enabling the search of parameters and/or scenarios.</p></li>
</ul>
</dd>
</dl>
<section id="fmdtools-sim-propagate">
<h2>fmdtools.sim.propagate<a class="headerlink" href="#fmdtools-sim-propagate" title="Permalink to this headline"></a></h2>
<a class="reference internal image-reference" href="../_images/simulation_types.png"><img alt="../_images/simulation_types.png" src="../_images/simulation_types.png" style="width: 800px;" /></a>
<p>The <a class="reference internal" href="#module-fmdtools.sim.propagate" title="fmdtools.sim.propagate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim.propagate</span></code></a> module is used to simulate the behaviors of a <a class="reference internal" href="fmdtools.define.html#fmdtools.define.block.Simulable" title="fmdtools.define.block.Simulable"><code class="xref py py-class docutils literal notranslate"><span class="pre">fmdtools.define.block.Simulable</span></code></a> (<cite>Model</cite> or <cite>Block</cite>) with and without faults. As shown above, each of the methods (described below) fit a given simulation use-case for resilience assessment–single/multiple scenarios, in nominal/faulty scenarios, and at a single set or multiple sets of parameters.</p>
<span class="target" id="module-fmdtools.sim.propagate"></span><p>Description: functions to propagate faults through a user-defined fault model.</p>
<dl class="simple">
<dt>Main Methods:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.nominal" title="fmdtools.sim.propagate.nominal"><code class="xref py py-func docutils literal notranslate"><span class="pre">nominal()</span></code></a>:            Runs the model over time in the nominal scenario.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.one_fault" title="fmdtools.sim.propagate.one_fault"><code class="xref py py-func docutils literal notranslate"><span class="pre">one_fault()</span></code></a>:          Runs one fault in the model at a specified time.</p></li>
<li><p>:func:<a href="#id1"><span class="problematic" id="id2">`</span></a>sequence()’         Runs arbitrary scenario of fault modes at specified times</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.single_faults" title="fmdtools.sim.propagate.single_faults"><code class="xref py py-func docutils literal notranslate"><span class="pre">single_faults()</span></code></a>:       Creates and propagates a list of failure scenarios in a model over given model times</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.approach" title="fmdtools.sim.propagate.approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">approach()</span></code></a>:             Injects and propagates faults in the model defined by a given sample approach.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.nominal_approach" title="fmdtools.sim.propagate.nominal_approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">nominal_approach()</span></code></a>:     Simulates a model over a range of parameters defined by a nominal approach.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.nested_approach" title="fmdtools.sim.propagate.nested_approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">nested_approach()</span></code></a>:      Injects and propagates faults in the model defined by a given sample approach over a range of parameters defined by a nominal approach.</p></li>
</ul>
</dd>
<dt>Shared Method Parameters:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a>:           Simulation keyword arguments.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a>:           Run keyword arguments.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a>:         Multi-scenario keyword arguments</p></li>
</ul>
</dd>
<dt>Private Methods:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.list_init_faults" title="fmdtools.sim.propagate.list_init_faults"><code class="xref py py-func docutils literal notranslate"><span class="pre">list_init_faults()</span></code></a>:   Creates a list of single-fault scenarios for the graph, given the modes set up in the fault model</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a>:      Runs a fault scenario in the model over time</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">propagate()</span></code>:          Injects and propagates faults through the graph at one time-step</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_time()</span></code>:          Propagates faults through model graph.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.save_helper" title="fmdtools.sim.propagate.save_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_helper()</span></code></a>:        Helper function for inline results saving.</p></li>
</ul>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.approach">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">approach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">app</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.approach" title="Permalink to this definition"></a></dt>
<dd><p>Injects and propagates faults in the model defined by a given sample approach</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<em>model</em>) – The model to inject faults in.</p></li>
<li><p><strong>app</strong> (<em>sampleapproach</em>) – SampleApproach used to define the list of faults and sample time for the model.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id3"><span class="problematic" id="id4">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options for <a class="reference internal" href="#fmdtools.sim.propagate.approach" title="fmdtools.sim.propagate.approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">approach()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>endclasses</strong> (<em>dict</em>) – A dictionary with the rate, cost, and expected cost of each scenario run with structure {scenname:{expected cost, cost, rate}}</p></li>
<li><p><strong>mdlhists</strong> (<em>dict</em>) – A dictionary with the history of all model states for each scenario (including the nominal)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_end_condition">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_end_condition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_end_condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_end_condition" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_hist_memory">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_hist_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdlhist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_hist_memory" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the memory will be exhausted given the size of the mdlhist and number of scenarios</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_mdl_memory">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_mdl_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_mdl_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_overwrite">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_overwrite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_overwrite" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_nom_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_nom_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_nom_helper" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for executing nominal scenarios</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_nom_par">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_nom_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_nom_par" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_scen">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_scen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indiv_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_scen" title="Permalink to this definition"></a></dt>
<dd><p>Executes a scenario and generates results and classifications given a model and nominal model history</p>
<blockquote>
<div><p>Parameters</p>
</div></blockquote>
<dl class="simple">
<dt>mdl<span class="classifier">model</span></dt><dd><p>The model to inject faults in.</p>
</dd>
<dt>scen<span class="classifier">scenario</span></dt><dd><p>scenario used to define time and faults where the fault is to be injected</p>
</dd>
<dt>nomhist:</dt><dd><p>history of results in the nominal model run</p>
</dd>
<dt>save_args<span class="classifier">dict</span></dt><dd><p>Save dictionary to use in save_helper defining when/how to save the dictionary</p>
</dd>
<dt>indiv_id<span class="classifier">str</span></dt><dd><p>ID str to insert into the file name (if saving individually)</p>
</dd>
<dt><a href="#id5"><span class="problematic" id="id6">**</span></a>kwargs<span class="classifier">kwargs</span></dt><dd><dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id7"><span class="problematic" id="id8">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_scen_par">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_scen_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_scen_par" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for executing the scenario in parallel</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.get_endclass_vars">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">get_endclass_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.get_endclass_vars" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.get_result">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">get_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdlhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomresult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.get_result" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.init_histrange">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">init_histrange</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">staged</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track_times</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.init_histrange" title="Permalink to this definition"></a></dt>
<dd><p>Determines the timerange the model will be simulated over and initializes
the history</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a>) – Model (with times)</p></li>
<li><p><strong>start_time</strong> (<em>float</em>) – Time to start the history over</p></li>
<li><p><strong>staged</strong> (<em>bool</em>) – Whether the simulation will be staged.</p></li>
<li><p><strong>track</strong> (<em>dict</em>) – Tracking dictionary.</p></li>
<li><p><strong>track_times</strong> (<em>dict/list</em>) – Specific tracking times to include in the history</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>mdlhist</strong> (<em>History</em>) – initialized model history</p></li>
<li><p><strong>histrange</strong> (<em>array</em>) – times to record history over</p></li>
<li><p><strong>timerange</strong> (<em>array</em>) – times to simulate the model over (which may be a subset of histrange)</p></li>
<li><p><strong>shift</strong> (<em>int</em>) – Time index to shift the history by.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.list_init_faults">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">list_init_faults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.list_init_faults" title="Permalink to this definition"></a></dt>
<dd><p>Creates a list of single-fault scenarios for the Model, given the modes set up in the fault model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>mdl</strong> (<em>Model/FxnBlock</em>) – Simulable with list of times in mdl.sp.times</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>faultlist</strong> – A list of fault scenarios, where a scenario is defined as: {faults:{functions:faultmodes}, properties:{(changes depending scenario type)} }</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.mult_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">mult_kwargs</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'max_mem':</span> <span class="pre">2000000000.0,</span> <span class="pre">'pool':</span> <span class="pre">False,</span> <span class="pre">'showprogress':</span> <span class="pre">True}</span></em><a class="headerlink" href="#fmdtools.sim.propagate.mult_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Multi-scenario keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> (<em>process pool</em><em>, </em><em>optional</em>) – Process Pool Object from multiprocessing or pathos packages. Pathos is recommended.
e.g. parallelpool = mp.pool(n) for n cores (multiprocessing)
or parallelpool = ProcessPool(nodes=n) for n cores (pathos)
If False, the set of scenarios is run serially. The default is False</p></li>
<li><p><strong>showprogress</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to show a progress bar during execution. default is true</p></li>
<li><p><strong>max_mem</strong> (<em>int</em>) – Max memory (warns the user when memory is above threshold)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nested_approach">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nested_approach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomapp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nested_approach" title="Permalink to this definition"></a></dt>
<dd><p>Simulates a set of fault modes within a set of nominal scenarios defined by a nominal approach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a>) – Model Object to use in the simulation.</p></li>
<li><p><strong>nomapp</strong> (<a class="reference internal" href="#fmdtools.sim.approach.NominalApproach" title="fmdtools.sim.approach.NominalApproach"><em>NominalApproach</em></a>) – NominalApproach defining the nominal situations the model will be run over</p></li>
<li><p><strong>get_phases</strong> (<em>Bool/List/Dict</em><em>, </em><em>optional</em>) – Whether and how to use nominal simulation phases to set up the SampleApproach. The default is False.
- If True, all phases from the nominal simulation are passed to SampleApproach()
- If a list [‘Fxn1’, ‘Fxn2’ etc.], only the phases from the listed functions will be passed.
- If a dict {‘Fxn1’:’phase1’}, only the phase ‘phase1’ in the function ‘Fxn1’ will be passed.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id9"><span class="problematic" id="id10">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options for <a class="reference internal" href="#fmdtools.sim.propagate.approach" title="fmdtools.sim.propagate.approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">approach()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a href="#id11"><span class="problematic" id="id12">**</span></a>app_args<span class="classifier">mdl_kwargs</span></dt><dd><p>Keyword arguments for the SampleApproach. See define.SampleApproach documentation.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>nested_results</strong> (<em>dict</em>) – A nested dictionary with the desired results of each scenario run with structure {‘nomscen1’:results, ‘nomscen2’:results}</p></li>
<li><p><strong>nested_mdlhists</strong> (<em>dict</em>) – A nested dictionary with the history of all model states for each scenario with structure {‘nomscen1’:mdlhists, ‘nomscen2’:mdlhists}</p></li>
<li><p><strong>apps</strong> (<em>dict</em>) – A dictionary of the SampleApproaches generated corresponding to each nominal scenario with structure {‘nomscen1’:app1}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nom_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nom_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nom_helper" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for initial run of nominal scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a><em> (</em><em>object</em><em> or </em><em>class</em><em>)</em>) – Model of the system</p></li>
<li><p><strong>time</strong> (<em>float/list</em>) – Times to copy the nominal model from</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> simulation options for :func:<a href="#id13"><span class="problematic" id="id14">`</span></a>prop_one_scen</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>result</strong> (<em>dict</em>) – results dict from nominal sim</p></li>
<li><p><strong>nommdlhist</strong> (<em>dict</em>) – result history from nominal sim</p></li>
<li><p><strong>nomscen</strong> (<em>dict</em>) – nominal scenario dict</p></li>
<li><p><strong>mdls</strong> (<em>list</em>) – Models from copy time(s) ctimes</p></li>
<li><p><strong>t_end_nom</strong> (<em>float</em>) – Nominal simulation end time</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nominal">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nominal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nominal" title="Permalink to this definition"></a></dt>
<dd><p>Runs the model over time in the nominal scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a>) – Model of the system</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id15"><span class="problematic" id="id16">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>result</em> – dict of result corresponding to desired result {‘endclass’:endclasses, ‘endfaults’: endfaults, ‘varname’: var, t: {‘endclass’:endclasses…} …}</p></li>
<li><p><strong>nomhist</strong> (<em>Dict</em>) – A dictionary with a history of modelstates</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nominal_approach">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nominal_approach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomapp</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nominal_approach" title="Permalink to this definition"></a></dt>
<dd><p>Simulates a set of nominal scenarios through a model. Useful to understand
the sets of parameters where the system will run nominally and/or lead to
a fault.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a>) – Model to simulate</p></li>
<li><p><strong>nomapp</strong> (<a class="reference internal" href="#fmdtools.sim.approach.NominalApproach" title="fmdtools.sim.approach.NominalApproach"><em>NominalApproach</em></a>) – Nominal Approach defining the nominal scenarios to run the system over.</p></li>
<li><p><strong>get_endclass</strong> (<em>bool</em>) – Whether to return endclasses from mdl.find_classification. Default is True.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id17"><span class="problematic" id="id18">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options for <a class="reference internal" href="#fmdtools.sim.propagate.approach" title="fmdtools.sim.propagate.approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">approach()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>nomresults</em> – dict of result corresponding to desired result {‘scenname’:return}</p></li>
<li><p><strong>nomhists</strong> (<em>Dict</em>) – Dictionary of model histories, with structure {‘scenname’:mdlhist}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.one_fault">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">one_fault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fxnfault</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.one_fault" title="Permalink to this definition"></a></dt>
<dd><p>Runs one fault in the model at a specified time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a>) – The model to inject the fault in.</p></li>
<li><p><strong>*fxnfault</strong> – <ul>
<li><p>fxnname, faultmode when a Model is provided, or</p></li>
<li><p>faultmode when a Block/FxnBlock is provided</p></li>
</ul>
</p></li>
<li><p><strong>time</strong> (<em>float</em><em>, </em><em>optional</em>) – Time to inject fault. Must be in the range of model times (i.e. in range(0, end, mdl.sp.dt)). The default is 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id19"><span class="problematic" id="id20">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>result</em> – dict of result corresponding to desired result {‘endclass’:endclasses, ‘endfaults’: endfaults, ‘varname’: var, t: {‘endclass’:endclasses…} …}</p></li>
<li><p><strong>mdlhists</strong> (<em>dict</em>) – A dictionary of the states of the model of each fault scenario over time with structure: {‘nominal’:nomhist, ‘faulty’:faulthist}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.pack_run_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">pack_run_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.pack_run_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Creates subset of run kwargs for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and <code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwarg</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.pack_sim_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">pack_sim_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.pack_sim_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Creates <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.phases_from_hist">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">phases_from_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_phases</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.phases_from_hist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.prop_one_scen">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">prop_one_scen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctimes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomresult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prevhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cut_hist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.prop_one_scen" title="Permalink to this definition"></a></dt>
<dd><p>Runs a fault scenario in the model over time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<em>model</em>) – The model to inject faults in.</p></li>
<li><p><strong>scen</strong> (<a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><em>Scenario</em></a>) – The Scenario to run.</p></li>
<li><p><strong>ctimes</strong> (<em>list</em><em>, </em><em>optional</em>) – List of times to copy the model (for use in staged execution). The default is [].</p></li>
<li><p><strong>nomhist</strong> (<em>dict</em><em>, </em><em>optional</em>) – Model history dictionary from previous runs, for use in creating the new mdlhist.</p></li>
<li><p><strong>nomhist</strong> – Model history dictionary from the nominal state, for use in Model.find_classification
and for initializing model history in staged execution option. The default is {}.</p></li>
<li><p><strong>nomresult</strong> (<em>dict</em><em>, </em><em>optional</em>) – Nominal result dictionary (to compare with current if desired)</p></li>
<li><p><strong>cut_hist</strong> (<em>bool</em>) – Whether to cut the model history to a given size. The default is True</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – simulation options, see <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>result</em> – dict of result corresponding to desired result {‘endclass’:endclasses, ‘endfaults’: endfaults, ‘varname’: var, t: {‘endclass’:endclasses…} …}</p></li>
<li><p><strong>mdlhist</strong> (<em>dict</em>) – A dictionary with a history of modelstates.</p></li>
<li><p><strong>c_mdl</strong> (<em>dict</em>) – A dictionary of models at each time given in ctimes with structure {time:model}</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – Last sim time</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.run_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">run_kwargs</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'mdl_kwargs':</span> <span class="pre">{},</span> <span class="pre">'protect':</span> <span class="pre">True,</span> <span class="pre">'save_args':</span> <span class="pre">{}}</span></em><a class="headerlink" href="#fmdtools.sim.propagate.run_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Run keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protect</strong> (<em>bool</em>) – <p>Whether or not to protect the model object via copying.
Options:</p>
<blockquote>
<div><ul>
<li><p>True (default): re-instances the model so that multiple simulations can be run successively without causing problems</p></li>
<li><p>False : Thus, the model object that is returned can be modified and analyzed if needed</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>save_args</strong> (<em>dict</em><em> (</em><em>optional</em><em>)</em>) – <p>Dictionary specifying if/how to save results. Default is {}, which doesn’t save anything.
Has structure:</p>
<blockquote>
<div><ul>
<li><p>{‘mdlhists’:mdlhistargs, ‘endclass’:endclassargs, ‘indiv’:indiv},</p></li>
<li><p>where mdlhistargs and endclassargs are dictionaries of arguments to</p></li>
<li><p>(i.e., {‘filename’:’filename.pkl’, ‘filetype’:’pickle’, ‘overwrite’:True})</p></li>
<li><p>and indiv is an (optional) bool specifying whether to save results individually (in a folder)</p></li>
</ul>
<p>or as a monolythic file</p>
</div></blockquote>
</p></li>
<li><p><strong>mdl_kwargs</strong> (<em>dict</em><em> (</em><em>optional</em><em>)</em>) – <dl class="simple">
<dt>Parameter dictionary to be instantiated in the model prior to simulation. Has structure:</dt><dd><ul>
<li><p>{“p”:Parameter, “sp”:SimParam, “track”:track}</p></li>
</ul>
</dd>
</dl>
<p>Parameter dictionaries do not need to be complete (if incomplete).</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.save_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">save_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdlhist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indiv_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.save_helper" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for inline results saving.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_args</strong> (<em>dict</em>) – Dict with structure: {‘mdlhists’:mdlhistargs, ‘endclass’:endclassargs, ‘indiv’:individual_saving},
where mdlhistargs and endclassargs are dictionaries of arguments to Result.save
(i.e., {‘filename’:’filename.pkl’, ‘filetype’:’pickle’, ‘overwrite’:True})
and individual_saving is a bool (True/False)</p></li>
<li><p><strong>endclass</strong> (<em>dict</em>) – dict of end-state classifications (from simulation)</p></li>
<li><p><strong>mdlhist</strong> (<em>dict</em>) – dict of model histories (from simulation)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.scenlist_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">scenlist_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.scenlist_helper" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.sequence">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultseq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.sequence" title="Permalink to this definition"></a></dt>
<dd><p>Runs a sequence of faults and disturbances in the model at given times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.html#fmdtools.define.model.Model" title="fmdtools.define.model.Model"><em>Model</em></a>) – The model to inject the fault in.</p></li>
<li><p><strong>seq</strong> (<em>dict</em>) – Scenario dict defining the scenario {time:{<cite>faults</cite>:faults, <cite>disturbances</cite>:disturbances}}</p></li>
<li><p><strong>faultseq</strong> (<em>dict</em>) – Dict of times and modes defining the fault scenario {time:{fxns: [modes]},}</p></li>
<li><p><strong>disturbances</strong> (<em>dict</em>) – Dict of times and modes defining the disturbances in the scenario {time:{fxns: [modes]},}</p></li>
<li><p><strong>scen</strong> (<a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><em>Scenario</em></a><em>, </em><em>optional</em>) – Scenario dictionary, if already constructed (for external calls)</p></li>
<li><p><strong>rate</strong> (<em>float</em><em>, </em><em>optional</em>) – Input rate for the sequence (must be calculated elsewhere)</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id21"><span class="problematic" id="id22">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>result</em> – dict of result corresponding to desired result {‘endclass’:endclasses, ‘endfaults’: endfaults, ‘varname’: var, t: {‘endclass’:endclasses…} …}</p></li>
<li><p><strong>mdlhists</strong> (<em>dict</em>) – A dictionary of the states of the model of each fault scenario over time with structure: {‘nominal’:nomhist, ‘faulty’:faulthist}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.sim_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">sim_kwargs</span></span><em class="property"> <span class="pre">=</span> <span class="pre">{'desired_result':</span> <span class="pre">'endclass',</span> <span class="pre">'run_stochastic':</span> <span class="pre">False,</span> <span class="pre">'staged':</span> <span class="pre">False,</span> <span class="pre">'track':</span> <span class="pre">'default',</span> <span class="pre">'track_times':</span> <span class="pre">'all',</span> <span class="pre">'use_end_condition':</span> <span class="pre">True}</span></em><a class="headerlink" href="#fmdtools.sim.propagate.sim_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Simulation keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>desired_result</strong> (<em>dict/str/list</em>) – <p>Desired quantities to return in the first argument.
Options are:</p>
<blockquote>
<div><ul>
<li><p>’endclass’: a dict returned by find_classification (default)</p></li>
<li><p>’endfaults’: a dict of returned fault modes and their propagation {‘endfaults’:faultdict, ‘faultprops’:faultpropdict}</p></li>
<li><p>’fxngraph’/’fxnflowgraph’/’typegraph’: a networkx graph of the model with fault modes superimposed</p></li>
<li><p>’fxnname.varname’: variable values to get</p></li>
<li><p>a list of the above arguments (for multiple at the end)</p></li>
<li><p>a dict of lists (for multiple over time), e.g. {time:[varnames,… ‘endclass’]}</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>track</strong> (<em>str</em><em>, </em><em>optional</em>) – <p>Which model states to track over time (overwrites mdl.default_track). Default is ‘default’
Options:</p>
<blockquote>
<div><ul>
<li><p>’default’</p></li>
<li><p>’all’</p></li>
<li><p>’none’</p></li>
<li><p>or a dict of form {‘functions’:{‘fxn1’:’att1’}, ‘flows’:{‘flow1’:’att1’}}</p></li>
</ul>
</div></blockquote>
<p>The default is ‘all’.</p>
</p></li>
<li><p><strong>track_times</strong> (<em>str/tuple</em>) – <p>Defines what times to include in the history.
Options are:</p>
<blockquote>
<div><ul>
<li><p>’all’–all simulated times</p></li>
<li><p>(‘interval’, n)–includes every nth time in the history</p></li>
<li><p>(‘times’, [t1, … tn])–only includes times defined in the vector [t1 … tn]</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>run_stochastic</strong> (<em>bool</em>) – Whether to run stochastic behaviors or use default values. Default is False.
Can set as ‘track_pdf’ to calculate/track the probability densities of random states over time.</p></li>
<li><p><strong>staged</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to inject the faults in a copy of the nominal model at the fault time (True) or
instantiate a new model for the fault (False). Setting to True roughly halves execution time. The default is False.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.single_faults">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">single_faults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.single_faults" title="Permalink to this definition"></a></dt>
<dd><p>Creates and propagates a list of failure scenarios in a model.</p>
<dl>
<dt>NOTE: When calling in a script using parallel=True, keep the script in the if statement:</dt><dd><dl class="simple">
<dt>“if __name__==’main’:</dt><dd><p>endclasses, mdlhists = single_faults(mdl)”</p>
</dd>
</dl>
<p>Otherwise, the method will keep spawning parallel processes. See multiprocessing documentation.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<em>model</em>) – The model to inject faults in</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <dl class="simple">
<dt>Additional keyword arguments, may include:</dt><dd><ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for :func:<a href="#id23"><span class="problematic" id="id24">`</span></a>prop_one_scen</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options for <a class="reference internal" href="#fmdtools.sim.propagate.approach" title="fmdtools.sim.propagate.approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">approach()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>results</em> – dict of result corresponding to desired result {scenname:result}</p></li>
<li><p><strong>mdlhists</strong> (<em>dict</em>) – A dictionary with the history of all model states for each scenario (including the nominal)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.unpack_mult_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">unpack_mult_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.unpack_mult_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Unpacks the mult kwarg parameters for the <a class="reference internal" href="#fmdtools.sim.propagate.approach" title="fmdtools.sim.propagate.approach"><code class="xref py py-func docutils literal notranslate"><span class="pre">approach()</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.unpack_res_list">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">unpack_res_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.unpack_res_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.unpack_sim_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">unpack_sim_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.unpack_sim_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Unpacks <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> parameters for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd></dl>

</section>
<section id="module-fmdtools.sim.scenario">
<span id="fmdtools-sim-scenario"></span><h2>fmdtools.sim.scenario<a class="headerlink" href="#module-fmdtools.sim.scenario" title="Permalink to this headline"></a></h2>
<p>Description: Classes for defining scenarios to simulate.</p>
<dl class="simple">
<dt>Classes:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.Injection" title="fmdtools.sim.scenario.Injection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Injection</span></code></a>:           Defines faults and disturbances to inject at a specific time</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a>:            Defines a generic scenario to simulation</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.SingleFaultScenario" title="fmdtools.sim.scenario.SingleFaultScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">SingleFaultScenario</span></code></a>: Defines the scenario of a single fault injected in a function</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.JointFaultScenario" title="fmdtools.sim.scenario.JointFaultScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointFaultScenario</span></code></a>:  Defines the scenario of multiple faults injected in a function at the same time</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.NominalScenario" title="fmdtools.sim.scenario.NominalScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">NominalScenario</span></code></a>:     Defines the scenario of a model having given parameters at the outset</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.ParamScenario" title="fmdtools.sim.scenario.ParamScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParamScenario</span></code></a>:       Defines the scenario of a model having parameters from a given paramfunc</p></li>
</ul>
</dd>
<dt>Functions::</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.create_sequence" title="fmdtools.sim.scenario.create_sequence"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_sequence()</span></code></a>:     Creates an overall sequence of Injections from a given sequence of faults and disturbances</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">Injection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faults</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Injection" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">recordclass.datatype.dataobject</span></code></p>
<p>–
Create class Injection instance</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection.disturbances">
<span class="sig-name descname"><span class="pre">disturbances</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Injection.disturbances" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection.faults">
<span class="sig-name descname"><span class="pre">faults</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Injection.faults" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Injection.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">JointFaultScenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'faulty'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">joint_faults</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">functions</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modes</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">fmdtools.sim.scenario.Scenario</span></code></a></p>
<p>–
Create class JointFaultScenario instance</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.functions">
<span class="sig-name descname"><span class="pre">functions</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.functions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.joint_faults">
<span class="sig-name descname"><span class="pre">joint_faults</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.joint_faults" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.modes">
<span class="sig-name descname"><span class="pre">modes</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.modes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">NominalScenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'nominal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">r</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputparams</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rangeid</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">fmdtools.sim.scenario.Scenario</span></code></a></p>
<p>–
Create class NominalScenario instance</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.inputparams">
<span class="sig-name descname"><span class="pre">inputparams</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.inputparams" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.p">
<span class="sig-name descname"><span class="pre">p</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.p" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.prob">
<span class="sig-name descname"><span class="pre">prob</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.prob" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.r">
<span class="sig-name descname"><span class="pre">r</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.r" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.rangeid">
<span class="sig-name descname"><span class="pre">rangeid</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.rangeid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.sp">
<span class="sig-name descname"><span class="pre">sp</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.sp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.NominalScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.NominalScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">ParamScenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">sequence:dict={}</span></em>, <em class="sig-param"><span class="pre">rate:float=1.0</span></em>, <em class="sig-param"><span class="pre">name:str='nominal'</span></em>, <em class="sig-param"><span class="pre">times:tuple=()</span></em>, <em class="sig-param"><span class="pre">time:float=0.0</span></em>, <em class="sig-param"><span class="pre">p:dict={}</span></em>, <em class="sig-param"><span class="pre">r:dict={}</span></em>, <em class="sig-param"><span class="pre">sp:dict={}</span></em>, <em class="sig-param"><span class="pre">inputparams:dict={}</span></em>, <em class="sig-param"><span class="pre">rangeid:str=''</span></em>, <em class="sig-param"><span class="pre">prob:float=1.0</span></em>, <em class="sig-param"><span class="pre">paramfunc:callable</span></em>, <em class="sig-param"><span class="pre">fixedargs:tuple=()</span></em>, <em class="sig-param"><span class="pre">fixedkwargs:dict={}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.NominalScenario" title="fmdtools.sim.scenario.NominalScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">fmdtools.sim.scenario.NominalScenario</span></code></a></p>
<p>–
Create class ParamScenario instance</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.fixedargs">
<span class="sig-name descname"><span class="pre">fixedargs</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.fixedargs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.fixedkwargs">
<span class="sig-name descname"><span class="pre">fixedkwargs</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.fixedkwargs" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.inputparams">
<span class="sig-name descname"><span class="pre">inputparams</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.inputparams" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.p">
<span class="sig-name descname"><span class="pre">p</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.p" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.paramfunc">
<span class="sig-name descname"><span class="pre">paramfunc</span></span><em class="property"><span class="pre">:</span> <span class="pre">callable</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.paramfunc" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.prob">
<span class="sig-name descname"><span class="pre">prob</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.prob" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.r">
<span class="sig-name descname"><span class="pre">r</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.r" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.rangeid">
<span class="sig-name descname"><span class="pre">rangeid</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.rangeid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.sp">
<span class="sig-name descname"><span class="pre">sp</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.sp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParamScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParamScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">Scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'nominal'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Scenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">recordclass.datatype.dataobject</span></code></p>
<p>–
Create class Scenario instance</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.copy_with">
<span class="sig-name descname"><span class="pre">copy_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.copy_with" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.get" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">SingleFaultScenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">dict</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'faulty'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">tuple</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">float</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">function</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fault</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">fmdtools.sim.scenario.Scenario</span></code></a></p>
<p>–
Create class SingleFaultScenario instance</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.fault">
<span class="sig-name descname"><span class="pre">fault</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.fault" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.function">
<span class="sig-name descname"><span class="pre">function</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.function" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="pre">:</span> <span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="pre">:</span> <span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="pre">:</span> <span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.create_sequence">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">create_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faultseq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.create_sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
<section id="module-fmdtools.sim.approach">
<span id="fmdtools-sim-approach"></span><h2>fmdtools.sim.approach<a class="headerlink" href="#module-fmdtools.sim.approach" title="Permalink to this headline"></a></h2>
<p>Description: A module for defining ways of sampling model faults/parameters.</p>
<dl class="simple">
<dt>Has classes:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.approach.NominalApproach" title="fmdtools.sim.approach.NominalApproach"><code class="xref py py-class docutils literal notranslate"><span class="pre">NominalApproach</span></code></a>:     Class for defining a set of nominal scenarios (i.e., parameters) to simulate over.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.approach.SampleApproach" title="fmdtools.sim.approach.SampleApproach"><code class="xref py py-class docutils literal notranslate"><span class="pre">SampleApproach</span></code></a>:      Class for defining a set of fault scenarios (modes and times) to sample over.</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.approach.</span></span><span class="sig-name descname"><span class="pre">NominalApproach</span></span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for defining sets of nominal simulations. To explain, a given system
may have a number of input situations (missions, terrain, etc) which the
user may want to simulate to ensure the system operates as desired. This
class (in conjunction with propagate.nominal_approach()) can be used to
perform these simulations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.scenarios">
<span class="sig-name descname"><span class="pre">scenarios</span></span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.scenarios" title="Permalink to this definition"></a></dt>
<dd><p>scenarios to inject based on the approach</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.num_scenarios">
<span class="sig-name descname"><span class="pre">num_scenarios</span></span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.num_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>number of scenarios in the approach</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.ranges">
<span class="sig-name descname"><span class="pre">ranges</span></span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.ranges" title="Permalink to this definition"></a></dt>
<dd><p>dict of the parameters defined in each method for the approach</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.add_param_ranges">
<span class="sig-name descname"><span class="pre">add_param_ranges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shared'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.add_param_ranges" title="Permalink to this definition"></a></dt>
<dd><p>Adds a set of scenarios to the approach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paramfunc</strong> (<em>method</em>) – Python method which generates a set of model parameters given the input arguments.
method should have form: method(fixedarg, fixedarg…, inputarg=X, inputarg=X)</p></li>
<li><p><strong>rangeid</strong> (<em>str</em>) – Name for the range being used. Default is ‘nominal’</p></li>
<li><p><strong>*args</strong> (<em>specifies values for positional args of paramfunc.</em>) – May be given as a fixed float/int/dict/str defining a set value for positional arguments</p></li>
<li><p><strong>replicates</strong> (<em>int</em>) – Number of points to take over each range (for random parameters). Default is 1.</p></li>
<li><p><strong>seeds</strong> (<em>str/list</em>) – <dl class="simple">
<dt>Options for seeding models/replicates: (Default is ‘shared’)</dt><dd><ul>
<li><p>’shared’ creates random seeds and shares them between parameters and models</p></li>
<li><p>’independent’ creates separate random seeds for models and parameter generation</p></li>
<li><p>’keep_model’ uses the seed provided in the model for all of the model</p></li>
</ul>
</dd>
</dl>
<p>When a list is provided, these seeds are are used (and shared). Must be of length replicates.</p>
</p></li>
<li><p><strong>set_args</strong> (<em>dict</em>) – Dictionary of lists of values for each param e.g., {‘param1’:[value1, value2, value3]}</p></li>
<li><p><strong>**kwargs</strong> (<em>specifies range for keyword args of paramfunc</em>) – May be given as a fixed float/int/dict/str (k=value) defining a set value for the range (if not the default) or
as a tuple k=(start, end, step) for the range, or</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.add_param_replicates">
<span class="sig-name descname"><span class="pre">add_param_replicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replicates</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ind_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.add_param_replicates" title="Permalink to this definition"></a></dt>
<dd><p>Adds a set of repeated scenarios to the approach. For use in (external) random scenario generation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paramfunc</strong> (<em>method</em>) – Python method which generates a set of model parameters given the input arguments.
method should have form: method(fixedarg, fixedarg…, inputarg=X, inputarg=X)</p></li>
<li><p><strong>rangeid</strong> (<em>str</em>) – Name for the set of replicates</p></li>
<li><p><strong>replicates</strong> (<em>int</em>) – Number of replicates to use</p></li>
<li><p><strong>*args</strong> (<em>any</em>) – arguments to send to paramfunc</p></li>
<li><p><strong>ind_seeds</strong> (<em>Bool/list</em>) – Whether the models should be run with different seeds (rather than the same seed). Default is True
When a list is provided, these seeds are are used. Must be of length replicates.</p></li>
<li><p><strong>**kwargs</strong> (<em>any</em>) – keyword arguments to send to paramfunc</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.add_rand_params">
<span class="sig-name descname"><span class="pre">add_rand_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramfunc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fixedargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1000</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shared'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">randvars</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.add_rand_params" title="Permalink to this definition"></a></dt>
<dd><p>Adds a set of random scenarios to the approach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>paramfunc</strong> (<em>method</em>) – Python method which generates a set of model parameters given the input arguments.
method should have form: method(fixedarg, fixedarg…, inputarg=X, inputarg=X)</p></li>
<li><p><strong>rangeid</strong> (<em>str</em>) – Name for the range being used. Default is ‘nominal’</p></li>
<li><p><strong>prob_weight</strong> (<em>float</em><em> (</em><em>0-1</em><em>)</em>) – Overall probability for the set of scenarios (to use if adding more ranges). Default is 1.0</p></li>
<li><p><strong>*fixedargs</strong> (<em>any</em>) – Fixed positional arguments in the parameter generator function.
Useful for discrete modes with different parameters.</p></li>
<li><p><strong>seeds</strong> (<em>str/list</em>) – <dl class="simple">
<dt>Options for seeding models/replicates: (Default is ‘shared’)</dt><dd><ul>
<li><p>’shared’ creates random seeds and shares them between parameters and models</p></li>
<li><p>’independent’ creates separate random seeds for models and parameter generation</p></li>
<li><p>’keep_model’ uses the seed provided in the model for all of the model</p></li>
</ul>
</dd>
</dl>
<p>When a list is provided, these seeds are are used (and shared). Must be of length replicates.</p>
</p></li>
<li><p><strong>**randvars</strong> (<em>key=tuple</em>) – Specification for each random input parameter, specified as
input = (randfunc, param1, param2…)
where randfunc is the method producing random outputs (e.g. numpy.random.rand)
and the successive parameters param1, param2, etc are inputs to the method</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.add_seed_replicates">
<span class="sig-name descname"><span class="pre">add_seed_replicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.add_seed_replicates" title="Permalink to this definition"></a></dt>
<dd><p>Generates an approach with different seeds to use for the model’s internal stochastic behaviors</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rangeid</strong> (<em>str</em>) – Name for the set of replicates</p></li>
<li><p><strong>seeds</strong> (<em>int/list</em>) – Number of seeds (if an int) or a list of seeds to use.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.assoc_probs">
<span class="sig-name descname"><span class="pre">assoc_probs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prob_weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">inputpdfs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.assoc_probs" title="Permalink to this definition"></a></dt>
<dd><p>Associates a probability model (assuming variable independence) with a
given previously-defined range of scenarios using given pdfs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rangeid</strong> (<em>str</em>) – Name of the range to apply the probability model to.</p></li>
<li><p><strong>prob_weight</strong> (<em>float</em><em>, </em><em>optional</em>) – Overall probability for the set of scenarios (to use if adding more ranges
or if the range does not cover the space of probability). The default is 1.0.</p></li>
<li><p><strong>**inputpdfs</strong> (<em>key=</em><em>(</em><em>pdf</em><em>, </em><em>params</em><em>)</em>) – pdf to associate with the different variables of the model.
Where the pdf has form pdf(x, <a href="#id25"><span class="problematic" id="id26">**</span></a>kwargs) where x is the location and <a href="#id27"><span class="problematic" id="id28">**</span></a>kwargs is parameters
(for example, scipy.stats.norm.pdf)
and params is a dictionary of parameters (e.g., {‘mu’:1,’std’:1}) to use ‘
as the key/parameter inputs to the pdf</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.copy">
<span class="sig-name descname"><span class="pre">copy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.copy" title="Permalink to this definition"></a></dt>
<dd><p>Copies the given sampleapproach. Used in nested scenario sampling.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.get_param_scens">
<span class="sig-name descname"><span class="pre">get_param_scens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">level_params</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.get_param_scens" title="Permalink to this definition"></a></dt>
<dd><p>Returns the scenarios of a range associated with given parameter ranges</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rangeid</strong> (<em>str</em>) – Range id to check</p></li>
<li><p><strong>level_params</strong> (<em>str</em><em> (</em><em>multiple</em><em>)</em>) – Level parameters iterate over</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param_scens</strong> – The scenarios associated with each level of parameter (or joint parameters)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.range_to_space">
<span class="sig-name descname"><span class="pre">range_to_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputranges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.range_to_space" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.NominalApproach.update_factor_seeds">
<span class="sig-name descname"><span class="pre">update_factor_seeds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rangeid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputparam</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'new'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.NominalApproach.update_factor_seeds" title="Permalink to this definition"></a></dt>
<dd><p>Changes/randomizes the seeds along a given factor in a range</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rangeid</strong> (<em>str</em>) – Name of the range being updated</p></li>
<li><p><strong>inputparam</strong> (<em>str</em>) – Name of the parameter to vary the seeds over</p></li>
<li><p><strong>seeds</strong> (<em>str/list</em><em>, </em><em>optional</em>) – List of seeds to update to. The default is ‘new’, which picks them randomly</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.approach.</span></span><span class="sig-name descname"><span class="pre">SampleApproach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'global'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modephases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_modephases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointfaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'faults':</span> <span class="pre">'None'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampparams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaultsamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'numpts':</span> <span class="pre">1,</span> <span class="pre">'samp':</span> <span class="pre">'evenspacing'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduce_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class for defining the sample approach to be used for a set of faults.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.phases">
<span class="sig-name descname"><span class="pre">phases</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.phases" title="Permalink to this definition"></a></dt>
<dd><p>phases given to sample the fault modes in</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.globalphases">
<span class="sig-name descname"><span class="pre">globalphases</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.globalphases" title="Permalink to this definition"></a></dt>
<dd><p>phases defined in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.modephases">
<span class="sig-name descname"><span class="pre">modephases</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.modephases" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of modes associated with each state</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.mode_phase_map">
<span class="sig-name descname"><span class="pre">mode_phase_map</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.mode_phase_map" title="Permalink to this definition"></a></dt>
<dd><p>Mapping of modes to their corresponding phases</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.tstep">
<span class="sig-name descname"><span class="pre">tstep</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.tstep" title="Permalink to this definition"></a></dt>
<dd><p>timestep defined in the model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.fxnrates">
<span class="sig-name descname"><span class="pre">fxnrates</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.fxnrates" title="Permalink to this definition"></a></dt>
<dd><p>overall failure rates for each function</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.comprates">
<span class="sig-name descname"><span class="pre">comprates</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.comprates" title="Permalink to this definition"></a></dt>
<dd><p>overall failure rates for each component</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.jointmodes">
<span class="sig-name descname"><span class="pre">jointmodes</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.jointmodes" title="Permalink to this definition"></a></dt>
<dd><p>(if any) joint fault modes to be injected in the approach</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">rates/comprates/rates_timeless</span></span></dt>
<dd><p>rates of each mode (fxn, mode) in each model phase, structured {fxnmode: {phaseid:rate}}</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.sampletimes">
<span class="sig-name descname"><span class="pre">sampletimes</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.sampletimes" title="Permalink to this definition"></a></dt>
<dd><p>faults to inject at each time in each phase, structured {phaseid:time:fnxmode}</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.weights">
<span class="sig-name descname"><span class="pre">weights</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.weights" title="Permalink to this definition"></a></dt>
<dd><p>weight to put on each time each fault was injected, structured {fxnmode:phaseid:time:weight}</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.sampparams">
<span class="sig-name descname"><span class="pre">sampparams</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.sampparams" title="Permalink to this definition"></a></dt>
<dd><p>parameters used to sample each mode</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.scenlist">
<span class="sig-name descname"><span class="pre">scenlist</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.scenlist" title="Permalink to this definition"></a></dt>
<dd><p>list of fault scenarios (dicts of faults and properties) that fault propagation iterates through</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.scenids">
<span class="sig-name descname"><span class="pre">scenids</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.scenids" title="Permalink to this definition"></a></dt>
<dd><p>a list of scenario ids associated with a given fault in a given phase, structured {(fxnmode,phaseid):listofnames}</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">mode_phase_map</span></span><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>a dict of modes and their respective phases to inject with structure {fxnmode:{mode_phase_map:[starttime, endtime]}}</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.units">
<span class="sig-name descname"><span class="pre">units</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.units" title="Permalink to this definition"></a></dt>
<dd><p>time-units to use in the approach probability model</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.unit_factors">
<span class="sig-name descname"><span class="pre">unit_factors</span></span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.unit_factors" title="Permalink to this definition"></a></dt>
<dd><p>multiplication factors for converting some time units to others.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.add_phasetimes">
<span class="sig-name descname"><span class="pre">add_phasetimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fxnmode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phaseid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasetimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.add_phasetimes" title="Permalink to this definition"></a></dt>
<dd><p>Adds a set of times for a given mode to sampletimes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.calc_intervaltime">
<span class="sig-name descname"><span class="pre">calc_intervaltime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tstep</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.calc_intervaltime" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.create_sampletimes">
<span class="sig-name descname"><span class="pre">create_sampletimes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'numpts':</span> <span class="pre">1,</span> <span class="pre">'samp':</span> <span class="pre">'evenspacing'}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.create_sampletimes" title="Permalink to this definition"></a></dt>
<dd><p>Initializes weights and sampletimes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.create_scenarios">
<span class="sig-name descname"><span class="pre">create_scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.create_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Creates list of scenarios to be iterated over in fault injection. Added as scenlist and scenids</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.get_id_weights">
<span class="sig-name descname"><span class="pre">get_id_weights</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.get_id_weights" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dictionary with weights for each scenario with structure {scenid:weight}</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.get_scenid_groups">
<span class="sig-name descname"><span class="pre">get_scenid_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_by</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'phases'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.get_scenid_groups" title="Permalink to this definition"></a></dt>
<dd><p>Returns a dict with different scenario ids grouped according to group_by.
group_by: str, with options:
- ‘none’:           Returns {‘scenid’:’scenid’} for all scenarios
- ‘phase’:          Returns {(fxnmode, fxnphase):{scenids}}–identical scenarios within a given phase are grouped
- ‘fxnfault’:       Returns {fxnmode:{scenids}} All identical scenarios (fxn, mode) are grouped
- ‘mode’:           Returns {mode:{scenids}}. All scenarios with the same mode name are grouped
- ‘mode type’:      Returns {modetype:scenids}. All scenarios with the same mode type (mode types must be given to the sampleapproach) are grouped
- ‘functions’:      Returns {function:scenids}. All scenarios and modes from a given function are grouped.
- ‘times’:          Returns {time:scenids}. All scenarios at a given time are grouped.
- ‘fxnclassfault’:  Returns {(fxnclass, mode):scenids}. All scenarios (fxnclass, mode) from a given function class are grouped.
- ‘fxnclass’:       Returns {fxnclass:scendis}. All scenarios from a given function class are grouped.
For ‘fxnclass’, ‘fxnclassfault’, and ‘modetype’, a group_dict dictionary must be provided that groups the function/mode classes/types.
——————-
Returns:
- grouped_scens: dict</p>
<blockquote>
<div><p>A dictionary of the scenario ids associated with the given group {group:scenids}</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.init_modelist">
<span class="sig-name descname"><span class="pre">init_modelist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faults</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointfaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'faults':</span> <span class="pre">'None'}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.init_modelist" title="Permalink to this definition"></a></dt>
<dd><p>Initializes comprates, jointmodes internal list of modes</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.init_rates">
<span class="sig-name descname"><span class="pre">init_rates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">jointfaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'faults':</span> <span class="pre">'None'}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modephases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">join_modephases</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.init_rates" title="Permalink to this definition"></a></dt>
<dd><p>Initializes rates, rates_timeless</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.list_moderates">
<span class="sig-name descname"><span class="pre">list_moderates</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.list_moderates" title="Permalink to this definition"></a></dt>
<dd><p>Returns the rates for each mode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.list_modes">
<span class="sig-name descname"><span class="pre">list_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">joint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.list_modes" title="Permalink to this definition"></a></dt>
<dd><p>Returns a list of modes in the approach</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.prune_scenarios">
<span class="sig-name descname"><span class="pre">prune_scenarios</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endclasses</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">samptype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'piecewise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampparam</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{'numpts':</span> <span class="pre">1,</span> <span class="pre">'samp':</span> <span class="pre">'evenspacing'}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.prune_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Finds the best sample approach to approximate the full integral (given the approach was the full integral).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>endclasses</strong> (<em>dict</em>) – dict of results (cost, rate, expected cost) for the model run indexed by scenid</p></li>
<li><p><strong>samptype</strong> (<em>str</em><em> (</em><em>'piecewise'</em><em> or </em><em>'bestpt'</em><em>)</em><em>, </em><em>optional</em>) – Method to use.
If ‘bestpt’, finds the point in the interval that gives the average cost.
If ‘piecewise’, attempts to split the inverval into sub-intervals of continuity
The default is ‘piecewise’.</p></li>
<li><p><strong>threshold</strong> (<em>float</em><em>, </em><em>optional</em>) – If ‘piecewise,’ the threshold for detecting a discontinuity based on deviation from linearity. The default is 0.1.</p></li>
<li><p><strong>sampparam</strong> (<em>float</em><em>, </em><em>optional</em>) – If ‘piecewise,’ the sampparam sampparam to prune to. The default is {‘samp’:’evenspacing’,’numpts’:1}, which would be a single point (optimal for linear).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.reduce_scens_to_samp">
<span class="sig-name descname"><span class="pre">reduce_scens_to_samp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">samp_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.reduce_scens_to_samp" title="Permalink to this definition"></a></dt>
<dd><p>Reduces the number of scenarios (in the scenlist) to a given sample size samp_size. Useful for
choosing a random subset of an approach which would otherwise have a large number of scenarios.
Note that many structures may not be preserved and some artefacts may be present.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.approach.SampleApproach.select_points">
<span class="sig-name descname"><span class="pre">select_points</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">possible_pts</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.SampleApproach.select_points" title="Permalink to this definition"></a></dt>
<dd><p>Selects points in the list possible_points according to a given sample strategy.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>dict</em>) – <dl class="simple">
<dt>Sample parameter. Has structure:</dt><dd><ul>
<li><dl class="simple">
<dt>’samp’<span class="classifier">str (‘quad’, ‘fullint’, ‘evenspacing’,’randtimes’,’symrandtimes’)</span></dt><dd><p>sample strategy to use (quadrature, full integral, even spacing, random times, or symmetric random times)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’numpts’<span class="classifier">float</span></dt><dd><p>number of points to use (for evenspacing, randtimes, and symrandtimes only)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>’quad’<span class="classifier">dict</span></dt><dd><p>dict with structure {‘nodes’[nodelist], ‘weights’:weightlist}
where the nodes in the nodelist range between -1 and 1
and the weights in the weightlist sum to 2.</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>possible_pts</strong> – list of possible points in time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>pts</strong> (<em>list</em>) – selected points</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – weights for each point</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.approach.find_overlap_n">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.approach.</span></span><span class="sig-name descname"><span class="pre">find_overlap_n</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">intervals</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.approach.find_overlap_n" title="Permalink to this definition"></a></dt>
<dd><p>Finds the overlap between given intervals.
Used to sample joint fault modes with different (potentially overlapping) phases</p>
</dd></dl>

</section>
<section id="module-fmdtools.sim.search">
<span id="fmdtools-sim-search"></span><h2>fmdtools.sim.search<a class="headerlink" href="#module-fmdtools.sim.search" title="Permalink to this headline"></a></h2>
<p>Description: Functions and Classes to enable optimization and search of fault model states and parameters.</p>
<dl class="simple">
<dt>Classes:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.search.ProblemInterface" title="fmdtools.sim.search.ProblemInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProblemInterface</span></code></a>:  Creates an interface for model simulations for optimization methods</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.search.DynamicInterface" title="fmdtools.sim.search.DynamicInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicInterface</span></code></a>:  Creates an interface for model simulations for dynamic optimization of a single sim</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">DynamicInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_stochastic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'track_pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_end_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface for dynamic search of model states (e.g., AST)</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.t">
<span class="sig-name descname"><span class="pre">t</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.t" title="Permalink to this definition"></a></dt>
<dd><p>float
time</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.t_max">
<span class="sig-name descname"><span class="pre">t_max</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.t_max" title="Permalink to this definition"></a></dt>
<dd><p>float
max time</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.t_ind">
<span class="sig-name descname"><span class="pre">t_ind</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.t_ind" title="Permalink to this definition"></a></dt>
<dd><p>int
time index in log</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.desired_result">
<span class="sig-name descname"><span class="pre">desired_result</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.desired_result" title="Permalink to this definition"></a></dt>
<dd><p>list
variables to get from the model at each time-step</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.log">
<span class="sig-name descname"><span class="pre">log</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.log" title="Permalink to this definition"></a></dt>
<dd><p>dict
mdlhist for simulation</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.check_sim_end">
<span class="sig-name descname"><span class="pre">check_sim_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">external_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.check_sim_end" title="Permalink to this definition"></a></dt>
<dd><p>Checks the model end-condition (and sim time) and clips the simulation log if necessary</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>external_condition</strong> (<em>bool</em><em>, </em><em>optional</em>) – External end-condition to trigger simulation end. The default is False.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>end</strong> – Whether the simulation is finished</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.update" title="Permalink to this definition"></a></dt>
<dd><p>Updates the model states at the simulation time and iterates time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<em>seed</em><em>, </em><em>optional</em>) – Seed for the simulation. The default is {}.</p></li>
<li><p><strong>faults</strong> (<em>dict</em><em>, </em><em>optional</em>) – faults to inject in the model, with structure {fxn:[faults]}. The default is {}.</p></li>
<li><p><strong>disturbances</strong> (<em>dict</em><em>, </em><em>optional</em>) – Variables to change in the model, with structure {fxn.var:value}. The default is {}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>returns</strong> – dictionary of returns with values corresponding to desired_result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ProblemInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_form</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">log_iter_hist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interfaces for resilience optimization problems.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.simulations">
<span class="sig-name descname"><span class="pre">simulations</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.simulations" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of simulations and their corresponding arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.variables" title="Permalink to this definition"></a></dt>
<dd><p>List of variables and their properties</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.objectives">
<span class="sig-name descname"><span class="pre">objectives</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.objectives" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of objectives and their times/arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.constraints">
<span class="sig-name descname"><span class="pre">constraints</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.constraints" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of constraints and their times/arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.current_iter">
<span class="sig-name descname"><span class="pre">current_iter</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.current_iter" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of current values for variables/objectives/constraints/etc.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.add_combined_objective">
<span class="sig-name descname"><span class="pre">add_combined_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">objnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sum'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.add_combined_objective" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.add_constraints">
<span class="sig-name descname"><span class="pre">add_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'endclass'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'end'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('less',</span> <span class="pre">0.0)</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.add_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Adds constraints to the given problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simname</strong> (<em>str</em>) – identifier for the simulation</p></li>
<li><p><strong>*args</strong> (<em>strs/tuples</em>) – variables to use as constraints (auto-named to f1, f2…)
may take form: (variablename, objtype (optional), t (optional), threshold) or variablename, where
variablename is the name of the variable (from Parameter, SimParam) or index of the callable (for external)
and objtype and t may override the default objtype and t (see below)</p></li>
<li><p><strong>objtype</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – default type of constraint: <cite>vars</cite>, <cite>endclass</cite>, or <cite>external</cite>. Default is ‘endclass’</p></li>
<li><p><strong>t</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – default time to get constraint: ‘end’ or set time t</p></li>
<li><p><strong>threshold</strong> (<em>tuple</em>) – Specifies the threshold for the constraint (‘less’/’greater’, val) where value is the threshold value</p></li>
<li><p><strong>**kwargs</strong> (<em>str=strs/tuples</em>) – Named objectives with their corresponding arg values (see args)
constraintname = variablename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.add_objectives">
<span class="sig-name descname"><span class="pre">add_objectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'endclass'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'end'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj_const</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'objectives'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">agg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('+',</span> <span class="pre">'sum')</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.add_objectives" title="Permalink to this definition"></a></dt>
<dd><p>Adds objective to the given problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simname</strong> (<em>str</em>) – identifier for the simulation</p></li>
<li><p><strong>*args</strong> (<em>strs/tuples</em>) – variables to use as objectives (auto-named to f1, f2…)
may take form: (variablename, objtype (optional), t (optional), agg (optional))
or variablename, where variablename is the name of the variable (from Parameter, SimParam)
or index of the callable (for external)and objtype, t, and agg may override
the default objtype and t (see below)</p></li>
<li><p><strong>objtype</strong> (<em>str</em><em> (</em><em>optional</em><em>)</em>) – default type of objective: <cite>vars</cite>, <cite>endclass</cite>, or <cite>external</cite>. Default is ‘endclass’</p></li>
<li><p><strong>t</strong> (<em>int</em><em> (</em><em>optional</em><em>)</em>) – default time to get objective: ‘end’ or set time t</p></li>
<li><p><strong>agg</strong> (<em>tuple</em>) – <p>Specifies the aggregation of the objective/constraint:
- for objectives: (‘+’/’-‘,’sum’/’difference’/’mult’/’max’/’min’), specifying
(1) whether the objective is:</p>
<blockquote>
<div><ul>
<li><p>”+”: positive (for minimization of the variable if the algorithm minimizes)</p></li>
<li><p>”-”: negative (for maximization of the variable if the algorithm minimizes)</p></li>
</ul>
</div></blockquote>
<p>(2) how to aggregate objectives over scenarios
- for constraints: (less’/’greater’, val) where value is the threshold value</p>
</p></li>
<li><p><strong>**kwargs</strong> (<em>str=strs/tuples</em>) – Named objectives with their corresponding arg values (see args)
objectivename = variablename</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.add_simulation">
<span class="sig-name descname"><span class="pre">add_simulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simtype</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.add_simulation" title="Permalink to this definition"></a></dt>
<dd><p>Defines a simulation to be used with the model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simname</strong> (<em>str</em>) – Name/identifier for the simulation.</p></li>
<li><p><strong>simtype</strong> (<em>str</em><em>, </em><em>optional</em>) – <dl class="simple">
<dt>Type of simulation(s) to run (aligns with propagate methods):</dt><dd><ul>
<li><dl class="simple">
<dt>single:      simulates a single scenario (the default)</dt><dd><ul>
<li><p>args: sequence: sequence defining fault scenario {time:{‘faults’:(fxn:mode), ‘disturbances’:{‘Fxn1.var1’}})}</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>multi:       simulates multiple scenarios (provided approach or nominalapproach)</dt><dd><ul>
<li><dl class="simple">
<dt>args: scenlist: dict with structure {“scenname”:Scenario}</dt><dd><p>(can be gotten from prop.list_init_faults, SampleApproach, or NominalApproach)</p>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>nested:      simulates nested scenarios (provided approach and nominalapproach)</dt><dd><ul>
<li><p>args: see prop.nested_approach</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>external_func:    calls an external function (rather than a simulation)</dt><dd><ul>
<li><p>args: callable</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>custom_sim:       calls an external function with arguments (mdl) or (mdl, mdlhist)</dt><dd><ul>
<li><p>args: callable</p></li>
</ul>
</dd>
</dl>
</li>
<li><p>set_const:        used for set constraints</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>*args</strong> (<em>args</em>) – Custom arguments for the given simulation type (see above)</p></li>
<li><p><strong>**kwargs</strong> (<em>dict</em>) – <p>run, sim, and mult_kwargs from prop.</p>
<dl class="simple">
<dt>include_nominal: bool</dt><dd><p>whether to include nominal scenario in multi simulation. default is True</p>
</dd>
<dt>upstream_sims: dict</dt><dd><dl class="simple">
<dt>Dictionary specifying connection with an upstream simulation. With structure:</dt><dd><p>{‘upstream_simname’:{‘p’:{‘ext_varname’:’paramname’}}}, ‘vars’:{‘ext_varname’:’varname’}}</p>
</dd>
</dl>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.add_variables">
<span class="sig-name descname"><span class="pre">add_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simnames</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vartype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vars'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.add_variables" title="Permalink to this definition"></a></dt>
<dd><p>Adds variable of specified type (‘p’, ‘vars’, or ‘faults’) to a given problem.
Also adds variable set constraints (if given)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simnames</strong> (<em>str/list</em>) – identifier for the simulation(s) the variable is optimized over</p></li>
<li><p><strong>*args</strong> (<em>tuples</em>) – <p>variables to add, where each tuple has the form:
(varname, set_const (optional), vartype (optional), t (optional)), where
- varname is:</p>
<blockquote>
<div><p>an element of mdl.p (if vartype=’params’)
a model variable (if vartype=’vars’)
a function name (if vartype=’faults’)</p>
</div></blockquote>
<ul>
<li><dl class="simple">
<dt>set_const defines the variable set constraints, which may be:</dt><dd><p>None (for none/inf)
A two-element tuple (for continuous variable bounds)
A multi-element list (for discrete variables)</p>
</dd>
</dl>
</li>
<li><p>vartype is the individual variable type (overrides vartype)</p></li>
<li><p>t is the individual time (overrides t)</p></li>
</ul>
</p></li>
<li><p><strong>vartype</strong> (<em>str</em>) – <dl class="simple">
<dt>overall variable type defining the variable(s). The default is ‘vars’</dt><dd><ul>
<li><p><cite>param</cite>: element(s) of mdl.p (set pre-simulation)</p></li>
<li><p><cite>vars</cite>: function/flow variables (set during the simulation)</p></li>
<li><p>’faults’: fault scenario variables (set during the simulation)</p></li>
<li><p>’external’: variables for external func</p></li>
<li><p>paramfunc: generates p from variable in function paramfunc</p></li>
</ul>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clearvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clearhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.clear" title="Permalink to this definition"></a></dt>
<dd><p>Clears the optimization variables/constraints/sim</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.get_constraint_dict">
<span class="sig-name descname"><span class="pre">get_constraint_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_set_consts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.get_constraint_dict" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.get_constraint_list">
<span class="sig-name descname"><span class="pre">get_constraint_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_set_consts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.get_constraint_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.get_var_obj_con">
<span class="sig-name descname"><span class="pre">get_var_obj_con</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.get_var_obj_con" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.init_iter_hist">
<span class="sig-name descname"><span class="pre">init_iter_hist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_iter_hist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.init_iter_hist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.plot_obj_const">
<span class="sig-name descname"><span class="pre">plot_obj_const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.plot_obj_const" title="Permalink to this definition"></a></dt>
<dd><p>Plots the objectives, variables, and constraints over time at the current variable value. Note that simulation tracking must be turned on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simname</strong> (<em>str</em>) – Name of the simulation.</p></li>
<li><p><strong>kwargs</strong> (<em>kwargs</em>) – Keyword arguments for plot.mdlhists</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.show_architecture">
<span class="sig-name descname"><span class="pre">show_architecture</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.show_architecture" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.time_sims">
<span class="sig-name descname"><span class="pre">time_sims</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simnames</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printtimes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_prep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.time_sims" title="Permalink to this definition"></a></dt>
<dd><p>Prints/returns the simulation time for the given simulations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> (<em>list</em>) – List of variables (must be for all sims)</p></li>
<li><p><strong>simnames</strong> (<em>list/str</em><em>, </em><em>optional</em>) – Simname/simnames to check. The default is “all”.</p></li>
<li><p><strong>printtimes</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to print times. The default is True.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>simtimes</strong> – Dictionary of times for each sim</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.to_pymoo_problem">
<span class="sig-name descname"><span class="pre">to_pymoo_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objectives</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.to_pymoo_problem" title="Permalink to this definition"></a></dt>
<dd><p>Creates and exports a pymoo Problem object for the interface</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.update_current_iter">
<span class="sig-name descname"><span class="pre">update_current_iter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.update_current_iter" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.update_scenlist">
<span class="sig-name descname"><span class="pre">update_scenlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenlist</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.update_scenlist" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.update_sim_options">
<span class="sig-name descname"><span class="pre">update_sim_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simnames</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.update_sim_options" title="Permalink to this definition"></a></dt>
<dd><dl class="simple">
<dt>Update options for simulation kwargs. Useful for changing simulation parameters, e.g.:</dt><dd><ul class="simple">
<li><p>passing pools that can’t be instantiated in a script</p></li>
<li><p>turning off unnecessary model histories for optimization</p></li>
<li><p>turning on/off sim logs</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simnames</strong> (<em>list/str</em>) – Name(s) of the simulation (or “all”)</p></li>
<li><p><strong>log_iter_hist</strong> (<em>bool</em>) – Whether to log the history of variables/objectives</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – kwargs for the simulation.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.update_sim_vars">
<span class="sig-name descname"><span class="pre">update_sim_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">simname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newvars</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">newsequence</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.update_sim_vars" title="Permalink to this definition"></a></dt>
<dd><p>Update the simulation with new default variables/parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>simname</strong> (<em>string</em>) – Name of simulation to update.</p></li>
<li><p><strong>new_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Params to update in the sim. The default is {}.</p></li>
<li><p><strong>newvars</strong> (<em>dict</em><em>, </em><em>optional</em>) – Variables to update in the sim (at t=0). The default is {}.</p></li>
<li><p><strong>newsequence</strong> (<em>TYPE</em><em>, </em><em>optional</em>) – New default sequence of faults/disturbances (updated accross all scenarios). The default is {}.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemInterface.x_to_obj_const">
<span class="sig-name descname"><span class="pre">x_to_obj_const</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">simnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemInterface.x_to_obj_const" title="Permalink to this definition"></a></dt>
<dd><p>Calculates objectives and constraints for a given variable value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>x</strong> (<em>list/array</em>) – Variable values corresponding to self.variables</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>objectives</strong> (<em>dict</em>) – Dictionary of objectives and their values</p></li>
<li><p><em>constraints</em> – Dictionary of constraints and their values</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.eval_con">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">eval_con</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">greater_less</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">negative_form</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.eval_con" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.get_pos_negative">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">get_pos_negative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pos_str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.get_pos_negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.get_pos_str">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">get_pos_str</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">factor</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.get_pos_str" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.get_text_time">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">get_text_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.get_text_time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.greater_to_factor">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">greater_to_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">greater_less</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.greater_to_factor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.n_to_factor">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">n_to_factor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">n</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.n_to_factor" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.update_sequence">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">update_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sequence_to_update</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_sequence</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.update_sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fmdtools.define.html" class="btn btn-neutral float-left" title="fmdtools.define package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fmdtools.analyze.html" class="btn btn-neutral float-right" title="fmdtools.analyze package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright .</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
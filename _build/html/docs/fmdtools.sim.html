<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>fmdtools.sim &mdash; fmdtools 2.0-rc-3 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/fmdtools_ico.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="fmdtools.analyze" href="fmdtools.analyze.html" />
    <link rel="prev" title="fmdtools.define.object" href="fmdtools.define.object.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/logo-main.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                2.0-rc-3
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../README.html">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../README.html#about">About</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../README.html#flexible-modelling-paradigm">Flexible Modelling Paradigm</a></li>
<li class="toctree-l3"><a class="reference internal" href="../README.html#powerful-simulation-techniques">Powerful Simulation Techniques</a></li>
<li class="toctree-l3"><a class="reference internal" href="../README.html#efficient-analysis-process">Efficient Analysis Process</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#getting-started">Getting Started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../README.html#set-up-python-environment">Set up python environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../README.html#install-fmdtools">Install fmdtools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../README.html#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../README.html#explore-tutorials-and-resources">Explore Tutorials and Resources</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#contributions">Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../README.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#citing-this-repository">Citing this repository</a></li>
<li class="toctree-l2"><a class="reference internal" href="../README.html#license-notices">License/Notices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../README.html#disclaimers">Disclaimers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Development%20Guide.html">Development Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#why-fmdtools">Why fmdtools?</a></li>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#introductory-tutorial">Introductory Tutorial</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html">Intro to resilience modeling, simulation, and visualization in Python with fmdtools.</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Intro_to_fmdtools.html#author-daniel-hulse">Author: Daniel Hulse</a></li>
<li class="toctree-l4"><a class="reference internal" href="Intro_to_fmdtools.html#version-2-0-rc-3">Version: 2.0-rc-3</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#motivation-modeling-system-resilience">Motivation: Modeling System Resilience</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#why-is-resilience-important">Why is Resilience Important?</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#enabling-proactive-design-process">Enabling proactive design process</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#why-fmdtools-possible-competitors">Why fmdtools? Possible Competitors:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#why-fmdtools-pros">Why fmdtools? Pros:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#why-not-fmdtools-cons">Why <strong>not</strong> fmdtools? Cons:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#what-is-fmdtools-a-python-package-for-design-simulation-and-analysis-of-resilience">What is fmdtools? A Python package for <strong>design</strong>, <strong>simulation</strong>, and <strong>analysis</strong> of resilience.</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#what-is-fmdtools-repo-structure">What is fmdtools? Repo Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#activity-download-and-install-fmdtools">Activity: Download and Install fmdtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#analysis-workflow-structure">Analysis Workflow/Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#defining-a-model">Defining a Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#id1">Defining a Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#function-code-template">Function Code Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#model-code-template">Model Code Template</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#demo-model-activity-examples-pump-ex-pump-py">Demo Model Activity: examples/pump/ex_pump.py</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#more-resources-for-model-definition">More Resources for Model Definition</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#notebook-activity">Notebook Activity:</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#simulation-concepts-static-undirected-propagation">Simulation Concepts: Static/Undirected Propagation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#simulation-concepts-propagation-over-time">Simulation Concepts: Propagation over Time</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#simulation-concepts-types-of-simulations">Simulation Concepts: Types of Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#simulation-concepts-sampling-approaches">Simulation Concepts: Sampling Approaches</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#simulation-concepts-things-to-consider">Simulation Concepts: Things to Consider</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#activity-simulate-the-model">Activity: Simulate the Model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#analysis-modules">Analysis Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#analysis-activity">Analysis Activity</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#conclusions-summary">Conclusions/Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="Intro_to_fmdtools.html#further-reading-links">Further Reading/Links</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#glossary">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#model-development-best-practices">Model Development Best Practices</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#pay-attention-to-and-document-the-fmdtools-version">Pay attention to and document the fmdtools version</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#plan-your-model-to-avoid-technical-debt">Plan your model to avoid technical debt</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#don-t-copy-inherit-and-functionalize">Don’t copy, inherit and functionalize</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#document-your-code-sometimes-before-your-write-it">Document your code, sometimes <em>before</em> your write it</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#don-t-get-ahead-of-yourself-try-to-get-a-running-simulation-first">Don’t get ahead of yourself–try to get a running simulation first</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#preserve-your-prototype-setup-by-formalizing-it-as-a-test">Preserve your prototype setup by formalizing it as a test</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#edit-your-code">Edit your code</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#structuring-a-model">Structuring a model</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#use-model-constructs-to-simplify-your-code">Use model constructs to simplify your code</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#style-advice">Style advice</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Development%20Guide.html#how-to-contribute">How to Contribute</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#repo-structure">Repo Structure</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Development%20Guide.html#remote-structure">Remote Structure</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#development-process">Development Process</a><ul>
<li class="toctree-l4"><a class="reference internal" href="Development%20Guide.html#release-checklist">Release Checklist</a></li>
<li class="toctree-l4"><a class="reference internal" href="Development%20Guide.html#upload-to-pypi">Upload to PyPI</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#roles">Roles</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#documentation">Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#style-formatting">Style/Formatting</a></li>
<li class="toctree-l3"><a class="reference internal" href="Development%20Guide.html#testing">Testing</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/Examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#pump">Pump</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/readme.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/Tutorial_complete.html">fmdtools Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Tutorial_complete.html#1.)-Loading-the-environment-and-model">1.) Loading the environment and model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Tutorial_complete.html#2.),-3.),-and-4.)-Simulate-and-visualize-the-results!">2.), 3.), and 4.) Simulate and visualize the results!</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Tutorial_complete.html#5.)-Saving-Work">5.) Saving Work</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html">Pump Example Notebook</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html#Initial-Model-Checks">Initial Model Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html#History">History</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html#Propagating-and-Viewing-Results-for-Individual-Faults">Propagating and Viewing Results for Individual Faults</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html#Visualization-of-resilience-metrics">Visualization of resilience metrics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html#Running-a-List-of-Faults">Running a List of Faults</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Pump_Example_Notebook.html#Running-a-Fault-Sampling-Approach">Running a Fault Sampling Approach</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html">Using Parallel Computing in fmdtools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html#Model-Checks">Model Checks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html#Using-Parallelism-in-Simulation">Using Parallelism in Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html#Performance-Comparison">Performance Comparison</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html#Comparison:-Lower-Tracking-Time-Resolution">Comparison: Lower Tracking Time Resolution</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html#Comparison-Conclusions:">Comparison Conclusions:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Parallelism_Tutorial.html#Further-Computational-Cost-Reduction-via-Profiling">Further Computational Cost Reduction via Profiling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/Optimization.html">Optimization using the ProblemInterface class</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Optimization.html#Problem-Setup">Problem Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Optimization.html#Problem-interfaces">Problem interfaces</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Optimization.html#Optimization:">Optimization:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Optimization.html#Multi-scenario-Optimization">Multi-scenario Optimization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/Stochastic_Modelling.html">Stochastic Modelling in fmdtools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Stochastic_Modelling.html#Model-Setup">Model Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/Stochastic_Modelling.html#Simulation-and-Analysis">Simulation and Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/pump/AST_Sampling.html">fmdtools-AdaStress integration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/AST_Sampling.html#Python-setup:">Python setup:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/AST_Sampling.html#Running-AdaStress-Methods">Running AdaStress Methods</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/AST_Sampling.html#MCTS">MCTS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/AST_Sampling.html#Pump">Pump</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/pump/AST_Sampling.html#Simulator">Simulator</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#multirotor">Multirotor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/multirotor/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/readme.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/multirotor/Demonstration.html">fmdtools Paper Demonstration</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Demonstration.html#Initial-Network-Model">Initial Network Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Demonstration.html#Setting-Node-Positions">Setting Node Positions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Demonstration.html#Static-Model">Static Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Demonstration.html#Dynamic-Model">Dynamic Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Demonstration.html#Hierarchical-Model">Hierarchical Model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/multirotor/Urban_Drone_Demo.html">Urban Drone Demo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Urban_Drone_Demo.html#Model-Overview">Model Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Urban_Drone_Demo.html#Nominal-Simulation">Nominal Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Urban_Drone_Demo.html#Resilience-model">Resilience model</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/multirotor/Multirotor_Optimization.html">Integrated Resilience Optimization Architectures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Multirotor_Optimization.html#Design-Model">Design Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Multirotor_Optimization.html#Operational-Model">Operational Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Multirotor_Optimization.html#Resilience-Model">Resilience Model</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multirotor/Multirotor_Optimization.html#Combined-Simulation/Optimization">Combined Simulation/Optimization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#tank">Tank</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/tank/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/readme.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/tank/Tank_Analysis.html">Hold-up Tank Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Analysis.html#Verifying-the-nominal-state:">Verifying the nominal state:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Analysis.html#History">History</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Analysis.html#What-happens-under-component-faults?">What happens under component faults?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Analysis.html#What-about-human-induced-faults?">What about human-induced faults?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Analysis.html#Evaluating-Joint-Component-Human-fault-modes">Evaluating Joint Component-Human fault modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Analysis.html#Testing-different-reaction-times">Testing different reaction times</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/tank/Tank_Optimization.html">Cooling Tank Model Optimization</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/tank/Tank_Optimization.html#Simulation">Simulation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Optimization.html#Verifying-the-nominal-state:">Verifying the nominal state:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Optimization.html#What-happens-under-component-faults?">What happens under component faults?</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Optimization.html#Full-set-of-modes">Full set of modes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Optimization.html#Defining-Optimization-Problem">Defining Optimization Problem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/tank/Tank_Optimization.html#Optimization">Optimization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#eps">EPS</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/eps/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/eps/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/eps/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/eps/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/eps/readme.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/eps/EPS_Example_Notebook.html">EPS Example Notebook</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#action-sequence-graph">Action Sequence Graph</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/asg_demo/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/asg_demo/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/asg_demo/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/asg_demo/readme.html#notebooks">Notebooks</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/asg_demo/Action_Sequence_Graph.html">Action Sequence Graph Tutorial</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/asg_demo/Action_Sequence_Graph.html#Function-level-Simulation">Function-level Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/asg_demo/Action_Sequence_Graph.html#Model-Simulation">Model Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/asg_demo/Action_Sequence_Graph.html#Fault-Simulation">Fault Simulation</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#rover">Rover</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/readme.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/Rover_Setup_Notebook.html">Rover Model Explanation and Preliminaries</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Rover_Setup_Notebook.html#Model-Setup">Model Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Rover_Setup_Notebook.html#Model-simulation">Model simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/Model_Structure_Visualization_Tutorial.html">Defining and Visualizing fmdtools Model Structures</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Model_Structure_Visualization_Tutorial.html#Basics">Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Model_Structure_Visualization_Tutorial.html#Model-Setup">Model Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Model_Structure_Visualization_Tutorial.html#Graph-Views">Graph Views</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Model_Structure_Visualization_Tutorial.html#Run-Order">Run Order</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/Model_Structure_Visualization_Tutorial.html#Behavior/Fault-Visualization">Behavior/Fault Visualization</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/FaultSample_Use-Cases.html">Defining Fault Sampling Approaches in fmdtools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/FaultSample_Use-Cases.html#Basics">Basics</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/FaultSample_Use-Cases.html#Model-Setup">Model Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/FaultSample_Use-Cases.html#Setting-up-a-FaultSample">Setting up a FaultSample</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/FaultSample_Use-Cases.html#Propagating-Faults">Propagating Faults</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/ParameterSample_Use-Cases.html">Defining Parameter Samples in fmdtools</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/ParameterSample_Use-Cases.html#Quantifying-probabilities">Quantifying probabilities</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/ParameterSample_Use-Cases.html#Nested-Scenario-Sampling">Nested Scenario Sampling</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/HFAC_Analyses/HFAC_Analyses.html">More Human Failure Analyses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/HFAC_Analyses/IDETC_Human_Paper_Analysis.html">Human Failure Representation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/HFAC_Analyses/IDETC_Human_Paper_Analysis.html#Testing-behavioral-simulation">Testing behavioral simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/HFAC_Analyses/IDETC_Human_Paper_Analysis.html#Testing-Faults">Testing Faults</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/HFAC_Analyses/IDETC_Human_Paper_Analysis.html#Examining-Performance-Shaping-Factors">Examining Performance Shaping Factors</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/degradation_modelling/Degradation_Modelling_Notebook.html">Degradation Modelling</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/degradation_modelling/Degradation_Modelling_Notebook.html#Drive-Degradation">Drive Degradation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/degradation_modelling/Degradation_Modelling_Notebook.html#Human-Degradation">Human Degradation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/degradation_modelling/Degradation_Modelling_Notebook.html#Combined-Degradation">Combined Degradation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/fault_sampling/Rover_Mode_Notebook.html">Synthetic Mode Generation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/fault_sampling/Rover_Mode_Notebook.html#Cluster-Analysis">Cluster Analysis</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/optimization/Search_Comparison.html">Faulty State-Space Search Method Comparison</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/optimization/Search_Comparison.html#Performance-Comparison">Performance Comparison</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/optimization/Search_Comparison.html#Comparing-Solutions-over-weights---Fault-Space-Formulation">Comparing Solutions over weights - Fault-Space Formulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/optimization/Search_Comparison.html#Comparing-Solutions-over-weights---Result-Space-Formulation">Comparing Solutions over weights - Result-Space Formulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/rover/optimization/Rover_Response_Optimization.html">Rover Response Optimization</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/rover/optimization/Rover_Response_Optimization.html#Optimization">Optimization</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#multiflow-demo">Multiflow Demo</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/multiflow_demo/readme.html">MultiFlow Demo Model</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/multiflow_demo/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multiflow_demo/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multiflow_demo/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/multiflow_demo/readme.html#references">References</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../examples/Examples.html#taxiway">Taxiway</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../examples/taxiway/readme.html">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/readme.html#models">Models</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/readme.html#scripts-and-tests">Scripts and tests:</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/readme.html#notebooks">Notebooks</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/readme.html#references">References</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/taxiway/Paper_Notebook.html">Taxiway Model Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/Paper_Notebook.html#Model-Simulation">Model Simulation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../examples/taxiway/Paper_Notebook.html#Fault-Simulation-and-Analysis">Fault Simulation and Analysis</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/Paper_Notebook.html#Perception-Fault---AC-Vision-Fault">Perception Fault - AC Vision Fault</a></li>
<li class="toctree-l4"><a class="reference internal" href="../examples/taxiway/Paper_Notebook.html#Communications-Fault---Poor-land-command-by-ATC">Communications Fault - Poor land command by ATC</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="fmdtools.html">Module Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="fmdtools.define.html">fmdtools.define</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.architecture.html">fmdtools.define.architecture</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.architecture.html#fmdtools-define-architecture-base">fmdtools.define.architecture.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.architecture.html#fmdtools-define-architecture-action">fmdtools.define.architecture.action</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.architecture.html#fmdtools-define-architecture-component">fmdtools.define.architecture.component</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.architecture.html#fmdtools-define-architecture-function">fmdtools.define.architecture.function</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.architecture.html#fmdtools-define-architecture-geom">fmdtools.define.architecture.geom</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.block.html">fmdtools.define.block</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.block.html#module-fmdtools.define.block.base">fmdtools.define.block.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.block.html#module-fmdtools.define.block.action">fmdtools.define.block.action</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.block.html#module-fmdtools.define.block.component">fmdtools.define.block.component</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.block.html#module-fmdtools.define.block.function">fmdtools.define.block.function</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.container.html">fmdtools.define.container</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.container.html#fmdtools-define-container-base">fmdtools.define.container.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.container.html#module-fmdtools.define.container.mode">fmdtools.define.container.mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.container.html#fmdtools-define-container-state">fmdtools.define.container.state</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.container.html#fmdtools-define-container-parameter">fmdtools.define.container.parameter</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.container.html#module-fmdtools.define.container.rand">fmdtools.define.container.rand</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.container.html#module-fmdtools.define.container.time">fmdtools.define.container.time</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.flow.html">fmdtools.define.flow</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.flow.html#fmdtools-define-flow-base">fmdtools.define.flow.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.flow.html#module-fmdtools.define.flow.multiflow">fmdtools.define.flow.multiflow</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.flow.html#module-fmdtools.define.flow.commsflow">fmdtools.define.flow.commsflow</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.object.html">fmdtools.define.object</a><ul>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.object.html#module-fmdtools.define.object.base">fmdtools.define.object.base</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.object.html#module-fmdtools.define.object.timer">fmdtools.define.object.timer</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.object.html#module-fmdtools.define.object.geom">fmdtools.define.object.geom</a></li>
<li class="toctree-l4"><a class="reference internal" href="fmdtools.define.object.html#module-fmdtools.define.object.coords">fmdtools.define.object.coords</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#fmdtools-define-base">fmdtools.define.base</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.define.html#module-fmdtools.define.environment">fmdtools.define.environment</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">fmdtools.sim</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#fmdtools-sim-propagate">fmdtools.sim.propagate</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fmdtools.sim.scenario">fmdtools.sim.scenario</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fmdtools.sim.sample">fmdtools.sim.sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="#module-fmdtools.sim.search">fmdtools.sim.search</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="fmdtools.analyze.html">fmdtools.analyze</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.common">fmdtools.analyze.common</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.result">fmdtools.analyze.result</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.history">fmdtools.analyze.history</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.graph">fmdtools.analyze.graph</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.tabulate">fmdtools.analyze.tabulate</a></li>
<li class="toctree-l3"><a class="reference internal" href="fmdtools.analyze.html#module-fmdtools.analyze.phases">fmdtools.analyze.phases</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTORS.html">Contributors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../CONTRIBUTORS.html#nasa-contributors">NASA Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CONTRIBUTORS.html#external-contributors">External Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CONTRIBUTORS.html#alumni-and-interns">Alumni and Interns</a></li>
<li class="toctree-l2"><a class="reference internal" href="../CONTRIBUTORS.html#fmdtools-at-osu">fmdtools at OSU</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">fmdtools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="fmdtools.html">Module Reference</a></li>
      <li class="breadcrumb-item active">fmdtools.sim</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/nasa/fmdtools/blob/main/docs/fmdtools.sim.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-fmdtools.sim">
<span id="fmdtools-sim"></span><h1>fmdtools.sim<a class="headerlink" href="#module-fmdtools.sim" title="Permalink to this heading"></a></h1>
<dl class="simple">
<dt>The <a class="reference internal" href="#module-fmdtools.sim" title="fmdtools.sim"><code class="xref py py-mod docutils literal notranslate"><span class="pre">fmdtools.sim</span></code></a> package is used to simulate models. It consists of four modules:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#module-fmdtools.sim.propagate" title="fmdtools.sim.propagate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">propagate</span></code></a>, which simulates the user-defined behaviors of a model over set time(s).</p></li>
<li><p><a class="reference internal" href="#module-fmdtools.sim.scenario" title="fmdtools.sim.scenario"><code class="xref py py-mod docutils literal notranslate"><span class="pre">scenario</span></code></a>, which defines scenario information for simulations.</p></li>
<li><p><a class="reference internal" href="#module-fmdtools.sim.sample" title="fmdtools.sim.sample"><code class="xref py py-mod docutils literal notranslate"><span class="pre">sample</span></code></a>, which provides classes for defining sets of scenarios to simulate.</p></li>
<li><p><a class="reference internal" href="#module-fmdtools.sim.search" title="fmdtools.sim.search"><code class="xref py py-mod docutils literal notranslate"><span class="pre">search</span></code></a>, which provides classes for enabling the search of parameters and/or scenarios.</p></li>
</ul>
</dd>
</dl>
<section id="fmdtools-sim-propagate">
<h2>fmdtools.sim.propagate<a class="headerlink" href="#fmdtools-sim-propagate" title="Permalink to this heading"></a></h2>
<a class="reference internal image-reference" href="../_images/simulation_types1.png"><img alt="../_images/simulation_types1.png" src="../_images/simulation_types1.png" style="width: 800px;" /></a>
<p>The <a class="reference internal" href="#module-fmdtools.sim.propagate" title="fmdtools.sim.propagate"><code class="xref py py-mod docutils literal notranslate"><span class="pre">propagate</span></code></a> module is used to simulate the behaviors of a <a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><code class="xref py py-class docutils literal notranslate"><span class="pre">Simulable</span></code></a> (<cite>Model</cite> or <cite>Block</cite>) with and without faults. As shown above, each of the methods (described below) fit a given simulation use-case for resilience assessment–single/multiple scenarios, in nominal/faulty scenarios, and at a single set or multiple sets of parameters.</p>
<span class="target" id="module-fmdtools.sim.propagate"></span><p>Description: functions to propagate faults through a user-defined fault model.</p>
<p>Main Methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.nominal" title="fmdtools.sim.propagate.nominal"><code class="xref py py-func docutils literal notranslate"><span class="pre">nominal()</span></code></a>: Runs the model over time in the nominal scenario.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.one_fault" title="fmdtools.sim.propagate.one_fault"><code class="xref py py-func docutils literal notranslate"><span class="pre">one_fault()</span></code></a>:  Runs one fault in the model at a specified time.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.sequence" title="fmdtools.sim.propagate.sequence"><code class="xref py py-func docutils literal notranslate"><span class="pre">sequence()</span></code></a>: Runs arbitrary scenario of fault modes at specified times.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.single_faults" title="fmdtools.sim.propagate.single_faults"><code class="xref py py-func docutils literal notranslate"><span class="pre">single_faults()</span></code></a>: Creates and propagates a list of failure scenarios in a model
over given model times.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.fault_sample" title="fmdtools.sim.propagate.fault_sample"><code class="xref py py-func docutils literal notranslate"><span class="pre">fault_sample()</span></code></a>: Injects and propagates faults defined by a FaultSample.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.parameter_sample" title="fmdtools.sim.propagate.parameter_sample"><code class="xref py py-func docutils literal notranslate"><span class="pre">parameter_sample()</span></code></a>: Simulates a model over a range of parameters defined by a
ParameterSample</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.nested_sample" title="fmdtools.sim.propagate.nested_sample"><code class="xref py py-func docutils literal notranslate"><span class="pre">nested_sample()</span></code></a>: Injects and propagates faults in the model defined by a
given SampleApproach over a range of parameters defined by a ParameterSample.</p></li>
</ul>
<p>Shared Method Parameters:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a>: Simulation keyword arguments.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a>: Run keyword arguments.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a>: Multi-scenario keyword arguments</p></li>
</ul>
<p>Private Methods:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.list_init_faults" title="fmdtools.sim.propagate.list_init_faults"><code class="xref py py-func docutils literal notranslate"><span class="pre">list_init_faults()</span></code></a>: Creates a list of single-fault scenarios for the graph,
given the modes set up in the fault model</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a>: Runs a fault scenario in the model over time</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.save_helper" title="fmdtools.sim.propagate.save_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">save_helper()</span></code></a>: Helper function for inline results saving.</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">unpack</span> <span class="pre">_res_list()</span></code>: Helper function for unpacking results</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.exec_nom_par" title="fmdtools.sim.propagate.exec_nom_par"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec_nom_par()</span></code></a>: Helper function for executing nominal scenarios in parallel</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.exec_nom_helper" title="fmdtools.sim.propagate.exec_nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec_nom_helper()</span></code></a>: Helper function for executing nominal scenarios</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a>: Helper function for initial run of nominal scenario</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.scenlist_helper" title="fmdtools.sim.propagate.scenlist_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">scenlist_helper()</span></code></a>: Helper function for <cite>approach</cite></p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.exec_scen_par" title="fmdtools.sim.propagate.exec_scen_par"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec_scen_par()</span></code></a>:  Helper function for executing the scenario in parallel</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.exec_scen" title="fmdtools.sim.propagate.exec_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">exec_scen()</span></code></a>: Executes a scenario and generates results and classifications given
a model and nominal model history</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.check_hist_memory" title="fmdtools.sim.propagate.check_hist_memory"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_hist_memory()</span></code></a>: Checks if the memory will be exhausted given the size of
the mdlhist and number of scenarios</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.check_mdl_memory" title="fmdtools.sim.propagate.check_mdl_memory"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_mdl_memory()</span></code></a>: Raises exception if model size is too large.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.check_overwrite" title="fmdtools.sim.propagate.check_overwrite"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_overwrite()</span></code></a>: Checks if file can be overwritten</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.check_end_condition" title="fmdtools.sim.propagate.check_end_condition"><code class="xref py py-func docutils literal notranslate"><span class="pre">check_end_condition()</span></code></a>: Helper function for <cite>prop_one_scen</cite> to end simulation
earlier.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.get_result" title="fmdtools.sim.propagate.get_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_result()</span></code></a>: Helper function for <cite>prop_one_scen</cite> to get result at specific
timestep.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.propagate.get_endclass_vars" title="fmdtools.sim.propagate.get_endclass_vars"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_endclass_vars()</span></code></a>: Helper function for <cite>get_result</cite></p></li>
</ul>
<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_end_condition">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_end_condition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_end_condition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_end_condition" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the end condition of the simulate has been met.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – Model with or without a given end condition and simparam</p></li>
<li><p><strong>use_end_condition</strong> (<em>bool</em>) – Whether to use the end condition</p></li>
<li><p><strong>t</strong> (<em>float</em>) – time.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>end_condition</strong> – Whether to end the simulation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_hist_memory">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_hist_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdlhist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_hist_memory" title="Permalink to this definition"></a></dt>
<dd><p>Checks if the memory will be exhausted given the size of the mdlhist and number
of scenarios</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_mdl_memory">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_mdl_memory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nscens</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_mem</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2000000000.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_mdl_memory" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.check_overwrite">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">check_overwrite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.check_overwrite" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.close_pool">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">close_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.close_pool" title="Permalink to this definition"></a></dt>
<dd><p>Closes pool to avoid memory problems</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_nom_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_nom_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_nom_helper" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for executing nominal scenarios</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_nom_par">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_nom_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_nom_par" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_scen">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_scen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indiv_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_scen" title="Permalink to this definition"></a></dt>
<dd><p>Executes a scenario and generates results and classifications given a model and
nominal model history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – The model to inject faults in</p></li>
<li><p><strong>scen</strong> (<em>scenario</em>) – scenario used to define time and faults where the fault is to be injected</p></li>
<li><p><strong>save_args</strong> (<em>dict</em>) – Save dictionary to use in save_helper defining when/how to save the dictionary</p></li>
<li><p><strong>indiv_id</strong> (<em>str</em>) – ID str to insert into the file name (if saving individually)</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.exec_scen_par">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">exec_scen_par</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.exec_scen_par" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for executing the scenario in parallel</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.fault_sample">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">fault_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_nominal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.fault_sample" title="Permalink to this definition"></a></dt>
<dd><p>Injects and propagates faults in the model defined by a FaultSample/SampleApproach.</p>
<p>NOTE: When calling in a script/module using parallel=True, execute using the
protection statement</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
    <span class="n">results</span><span class="p">,</span> <span class="n">mdlhists</span> <span class="o">=</span> <span class="n">fault_sample</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">fs</span><span class="p">)</span>
</pre></div>
</div>
<p>Otherwise, the method will keep spawning parallel processes.
See multiprocessing documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – The model to inject faults in.</p></li>
<li><p><strong>fs</strong> (<em>FaultSample/SampleApproach</em>) – FaultSample used to define the list of faults and sample time for the model.</p></li>
<li><p><strong>include_nominal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to return nominal hists/results back. Default is True.</p></li>
<li><p><strong>get_phasemap</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to regenerate the FaultSample using new phase information.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>results</strong> (<em>Result</em>) – A Result dictionary with results desired from each scenario corresponding to
desired_result over the set of scenarios.</p></li>
<li><p><strong>mdlhists</strong> (<em>History</em>) – A History dictionary with the tracked scenario (including the nominal)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.fault_sample_from">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">fault_sample_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultdomains</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_nominal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.fault_sample_from" title="Permalink to this definition"></a></dt>
<dd><p>Create and simulate a fault_sample from the given arguments.</p>
<p>Use to generate and sample from phases in the same simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – Model to simulate</p></li>
<li><p><strong>faultdomains</strong> (<em>dict</em>) – Dict of arguments to SampleApproach.add_faultdomains</p></li>
<li><p><strong>faultsamples</strong> (<em>dict</em>) – Dict of arguments to SampleApproach.add_faultsamples
FaultSamples to add to othe SampleApproach and their arguments.
Has structure::
{‘fs_name’: (<a href="#id1"><span class="problematic" id="id2">*</span></a>args, <a href="#id3"><span class="problematic" id="id4">**</span></a>kwargs)}
where args and kwargs are arguments/kwargs to SampleApproach.add_faultsamples.</p></li>
<li><p><strong>get_phasemap</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to generate the FaultSample from the phasemap. The default is True.</p></li>
<li><p><strong>scen</strong> (<em>scenario</em><em>, </em><em>optional</em>) – Scenario to use as nominal. The default is {}.</p></li>
<li><p><strong>include_nominal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to return nominal hists/results back. Default is False.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – kwargs to simulate over</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>res</strong> (<em>Result</em>) – A Result dictionary with results desired from each scenario corresponding to
desired_result over the set of scenarios.</p></li>
<li><p><strong>hist</strong> (<em>History</em>) – A History dictionary with the tracked scenario (including the nominal)</p></li>
<li><p><strong>app</strong> (<em>SampleApproach</em>) – Generated SampleApproach</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.gen_sampleapproach">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">gen_sampleapproach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultdomains</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.gen_sampleapproach" title="Permalink to this definition"></a></dt>
<dd><p>Generate a SampleApproach from faultdomain and faultsample arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.get_endclass_vars">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">get_endclass_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.get_endclass_vars" title="Permalink to this definition"></a></dt>
<dd><p>Get variables in the model corresponding to the provided desired_result dictionary.</p>
<p>Appends them to provided result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – fmdtools Simulation (e.g., Model)</p></li>
<li><p><strong>desired_result</strong> (<em>dict</em>) – dictionary arguments for desired_result</p></li>
<li><p><strong>result</strong> (<a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.result.Result" title="fmdtools.analyze.result.Result"><em>Result</em></a>) – Result to append results to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.get_result">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">get_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_result</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomresult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.get_result" title="Permalink to this definition"></a></dt>
<dd><p>Get the desired_result specified from the model.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.list_init_faults">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">list_init_faults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.list_init_faults" title="Permalink to this definition"></a></dt>
<dd><p>Create list of single-fault scenarios for the given Model mode information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<em>Simulable/Function</em>) – Simulable</p></li>
<li><p><strong>times</strong> – list with list of times in (start_time, end_time)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>faultlist</strong> – A list of SingleFaultScenario</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.mult_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">mult_kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'close_pool':</span> <span class="pre">True,</span> <span class="pre">'max_mem':</span> <span class="pre">2000000000.0,</span> <span class="pre">'pool':</span> <span class="pre">False,</span> <span class="pre">'showprogress':</span> <span class="pre">True}</span></em><a class="headerlink" href="#fmdtools.sim.propagate.mult_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Multi-scenario keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pool</strong> (<em>process pool</em><em>, </em><em>optional</em>) – Process Pool Object from multiprocessing or pathos packages.
e.g. parallelpool = mp.pool(n) for n cores (multiprocessing)
or parallelpool = ProcessPool(nodes=n) for n cores (pathos)
If False, the set of scenarios is run serially. The default is False</p></li>
<li><p><strong>showprogress</strong> (<em>bool</em><em>, </em><em>optional</em>) – whether to show a progress bar during execution. default is true</p></li>
<li><p><strong>max_mem</strong> (<em>int</em>) – Max memory (warns the user when memory is above threshold)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nested_sample">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nested_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultdomains</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultsamples</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_nominal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nested_sample" title="Permalink to this definition"></a></dt>
<dd><p>Simulate a set of fault scenarios within a ParameterSample.</p>
<p>NOTE: When calling in a script/module using parallel=True, execute using the
protection statement</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;main&quot;</span><span class="p">:</span>
    <span class="n">results</span><span class="p">,</span> <span class="n">mdlhists</span> <span class="o">=</span> <span class="n">nested_sample</span><span class="p">(</span><span class="n">mdl</span><span class="p">,</span> <span class="n">ps</span><span class="p">)</span>
</pre></div>
</div>
<p>Otherwise, the method will keep spawning parallel processes.
See multiprocessing documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – Model Object to use in the simulation.</p></li>
<li><p><strong>ps</strong> (<a class="reference internal" href="#fmdtools.sim.sample.ParameterSample" title="fmdtools.sim.sample.ParameterSample"><em>ParameterSample</em></a>) – Parameter Scenario defining the parameters the model will be run over</p></li>
<li><p><strong>get_phasemap</strong> (<em>Bool/List/Dict</em><em>, </em><em>optional</em>) – Whether to use nominal simulation phasemap to set up the SampleApproach.</p></li>
<li><p><strong>faultdomains</strong> (<em>dict</em>) – Dict of arguments to SampleApproach.add_faultdomains</p></li>
<li><p><strong>faultsamples</strong> (<em>dict</em>) – Dict of arguments to SampleApproach.add_faultsamples
FaultSamples to add to othe SampleApproach and their arguments.
Has structure::
{‘fs_name’: (<a href="#id5"><span class="problematic" id="id6">*</span></a>args, <a href="#id7"><span class="problematic" id="id8">**</span></a>kwargs)}
where args and kwargs are arguments/kwargs to SampleApproach.add_faultsamples.</p></li>
<li><p><strong>include_nominal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to return nominal hists/results back. Default is False.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a>.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>app_args<span class="classifier">mdl_kwargs</span></dt><dd><p>Keyword arguments for the SampleApproach.
See sim.sample.SampleApproach documentation.</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>nested_results</strong> (<em>Result</em>) – A nested Result dictionary with the desired results of each scenario.</p></li>
<li><p><strong>nested_mdlhists</strong> (<em>History</em>) – A nested History dictionary with the history of all model states for each
scenario</p></li>
<li><p><strong>apps</strong> (<em>dict</em>) – A dictionary of the SampleApproaches generated corresponding to each nominal
scenario with structure {‘nomscen1’: app1}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nom_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nom_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctimes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protect</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">warn_faults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nom_helper" title="Permalink to this definition"></a></dt>
<dd><p>Run initial run of nominal scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a><em> (</em><em>object</em><em> or </em><em>class</em><em>)</em>) – Model of the system</p></li>
<li><p><strong>ctimes</strong> (<em>float/list</em>) – Times to copy the nominal model from</p></li>
<li><p><strong>protect</strong> (<em>bool</em>) – <p>Whether or not to protect the model object via copying.
Options:</p>
<blockquote>
<div><ul>
<li><p>True (default): re-instances the model so that multiple simulations can</p></li>
</ul>
<p>be run successively without causing problems
- False : Thus, the model object that is returned can be modified and
analyzed if needed</p>
</div></blockquote>
</p></li>
<li><p><strong>save_args</strong> (<em>dict</em><em> (</em><em>optional</em><em>)</em>) – <p>Dictionary specifying if/how to save results. Default is {}, which doesn’t
save anything.
Has structure</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;mdlhists&#39;</span><span class="p">:</span><span class="n">mdlhistargs</span><span class="p">,</span> <span class="s1">&#39;endclass&#39;</span><span class="p">:</span><span class="n">endclassargs</span><span class="p">,</span> <span class="s1">&#39;indiv&#39;</span><span class="p">:</span><span class="n">indiv</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>mdl_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – <p>Model arameter dictionary.
Has structure</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="n">Parameter</span><span class="p">,</span> <span class="s2">&quot;sp&quot;</span><span class="p">:</span><span class="n">SimParam</span><span class="p">,</span> <span class="s2">&quot;track&quot;</span><span class="p">:</span><span class="n">track</span><span class="p">}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>scen</strong> (<em>scenario</em><em>, </em><em>optional</em>) – Scenario to use. The default is {}.</p></li>
<li><p><strong>warn_faults</strong> (<em>bool</em>) – choose whether to display a warning message if faults are identified during
nominal runs. Default is True.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>result</strong> (<em>Result</em>) – results dict from nominal sim</p></li>
<li><p><strong>nommdlhist</strong> (<em>History</em>) – result history from nominal sim</p></li>
<li><p><strong>nomscen</strong> (<em>dict</em>) – nominal scenario dict</p></li>
<li><p><strong>mdls</strong> (<em>list</em>) – Models from copy time(s) ctimes</p></li>
<li><p><strong>t_end_nom</strong> (<em>float</em>) – Nominal simulation end time</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.nominal">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">nominal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.nominal" title="Permalink to this definition"></a></dt>
<dd><p>Run the model over time in the nominal scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – Model of the system</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>result</strong> (<em>Result</em>) –</p>
<p>dict of result corresponding to desired_result, e.g.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Result</span><span class="p">({</span><span class="s1">&#39;endclass&#39;</span><span class="p">:</span> <span class="n">endclasses</span><span class="p">,</span>
        <span class="s1">&#39;endfaults&#39;</span><span class="p">:</span> <span class="n">endfaults</span><span class="p">,</span>
        <span class="s1">&#39;varname&#39;</span><span class="p">:</span> <span class="n">var</span><span class="p">,</span>
        <span class="n">t</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;endclass&#39;</span><span class="p">:</span> <span class="n">endclasses</span><span class="o">...</span><span class="p">}</span> <span class="o">...</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p><strong>nomhist</strong> (<em>History</em>) – A History dict with a history of modelstates</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.one_fault">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">one_fault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fxnfault</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.one_fault" title="Permalink to this definition"></a></dt>
<dd><p>Run one fault in the model at a specified time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – The model to inject the fault in.</p></li>
<li><p><strong>*fxnfault</strong> (<em>str</em>) – Has options:
- ‘fxnname’, ‘faultmode’ when a Model is provided, or
- ‘faultmode’ when a Block/Function is provided</p></li>
<li><p><strong>time</strong> (<em>float</em><em>, </em><em>optional</em>) – Time to inject fault. Must be in the range of model times
(i.e. in range(0, end, mdl.sp.dt)). The default is 0.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>result</strong> (<em>Result</em>) –</p>
<p>Result dict of result corresponding to desired_result, with structure,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Result</span><span class="p">({</span><span class="s1">&#39;nominal&#39;</span><span class="p">:</span> <span class="n">nomresult</span><span class="p">,</span> <span class="s1">&#39;faulty&#39;</span><span class="p">:</span> <span class="n">faultyresult</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p><strong>mdlhists</strong> (<em>History</em>) – A dictionary of the states of the model of each fault scenario over time with
structure: {‘nominal’: nomhist, ‘faulty’: faulthist}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.pack_mult_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">pack_mult_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.pack_mult_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Create subset of mult kwargs.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.pack_run_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">pack_run_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.pack_run_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Creates subset of run kwargs for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and <code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwarg</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.pack_sim_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">pack_sim_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.pack_sim_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Creates <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.parameter_sample">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">parameter_sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ps</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.parameter_sample" title="Permalink to this definition"></a></dt>
<dd><p>Simulate a set of nominal scenarios through a model.</p>
<p>Useful for exploring/understanding the sets of parameters where the system will run
nominally and/or fail.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – Model to simulate</p></li>
<li><p><strong>ps</strong> (<a class="reference internal" href="#fmdtools.sim.sample.ParameterSample" title="fmdtools.sim.sample.ParameterSample"><em>ParameterSample</em></a>) – Parameter Sample defining the nominal scenarios to run the system over.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>nomresults</strong> (<em>Result</em>) – Result dict of result corresponding to desired result {‘scenname’: result}</p></li>
<li><p><strong>nomhists</strong> (<em>History</em>) – History of model histories, with structure {‘scenname’: mdlhist}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.process_nominal">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">process_nominal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdlhists</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomresult</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_end_nom</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.process_nominal" title="Permalink to this definition"></a></dt>
<dd><p>Add/save nominal hists/result to overall hist/result.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.prop_one_scen">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">prop_one_scen</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctimes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomhist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nomresult</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.prop_one_scen" title="Permalink to this definition"></a></dt>
<dd><p>Runs a fault scenario in the model over time</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – The model to inject faults in.</p></li>
<li><p><strong>scen</strong> (<a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><em>Scenario</em></a>) – The Scenario to run.</p></li>
<li><p><strong>ctimes</strong> (<em>list</em><em>, </em><em>optional</em>) – List of times to copy the model (for use in staged execution).
The default is [].</p></li>
<li><p><strong>nomhist</strong> (<em>dict</em><em>, </em><em>optional</em>) – Model history dictionary from previous runs, for use in creating the new
mdlhist. The default is {}.</p></li>
<li><p><strong>nomresult</strong> (<em>dict</em><em>, </em><em>optional</em>) – Nominal result dictionary (to compare with current if desired)</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – simulation options, see <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>result</strong> (<em>Result</em>) – dict of result corresponding to desired_result.</p></li>
<li><p><strong>mdlhist</strong> (<em>dict</em>) – A dictionary with a history of modelstates.</p></li>
<li><p><strong>c_mdl</strong> (<em>dict</em>) – A dictionary of models at each time given in ctimes with structure {time:model}</p></li>
<li><p><strong>t_end</strong> (<em>float</em>) – Last sim time</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.run_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">run_kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'mdl_kwargs':</span> <span class="pre">{},</span> <span class="pre">'protect':</span> <span class="pre">True,</span> <span class="pre">'save_args':</span> <span class="pre">{}}</span></em><a class="headerlink" href="#fmdtools.sim.propagate.run_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Run keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>protect</strong> (<em>bool</em>) – <p>Whether or not to protect the model object via copying.
Options:</p>
<blockquote>
<div><ul>
<li><p>True (default): re-instances the model so that multiple simulations can
be run successively without causing problems</p></li>
<li><p>False : Thus, the model object that is returned can be modified and
analyzed if needed</p></li>
</ul>
</div></blockquote>
</p></li>
<li><p><strong>save_args</strong> (<em>dict</em><em> (</em><em>optional</em><em>)</em>) – <p>Dictionary specifying if/how to save results. Default is {}, which doesn’t
save anything.
Has structure</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;mdlhists&#39;</span><span class="p">:</span><span class="n">mdlhistargs</span><span class="p">,</span> <span class="s1">&#39;endclass&#39;</span><span class="p">:</span><span class="n">endclassargs</span><span class="p">,</span> <span class="s1">&#39;indiv&#39;</span><span class="p">:</span><span class="n">indiv</span><span class="p">}</span>
</pre></div>
</div>
<p>where mdlhistargs and endclassargs are dictionaries of save arguments, e.g.,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;filename&#39;</span><span class="p">:</span><span class="s1">&#39;filename.npz&#39;</span><span class="p">,</span> <span class="s1">&#39;filetype&#39;</span><span class="p">:</span><span class="s1">&#39;npz&#39;</span><span class="p">,</span> <span class="s1">&#39;overwrite&#39;</span><span class="p">:</span><span class="kc">True</span><span class="p">}</span>
</pre></div>
</div>
<p>and indiv is an (optional) bool specifying whether to save results individually
(in a folder) or as a monolythic file.</p>
</p></li>
<li><p><strong>mdl_kwargs</strong> (<em>dict</em><em> (</em><em>optional</em><em>)</em>) – <p>Parameter dictionary to be instantiated in the model prior to simulation.
Has structure</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;p&quot;</span><span class="p">:</span> <span class="n">Parameter</span><span class="p">,</span> <span class="s2">&quot;sp&quot;</span><span class="p">:</span><span class="n">SimParam</span><span class="p">,</span> <span class="s2">&quot;track&quot;</span><span class="p">:</span><span class="n">track</span><span class="p">}</span>
</pre></div>
</div>
<p>Parameter dictionaries do not need to be complete (if incomplete).</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.save_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">save_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">save_args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">endclass</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdlhist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indiv_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.save_helper" title="Permalink to this definition"></a></dt>
<dd><p>Helper function for inline results saving.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>save_args</strong> (<em>dict</em>) – <p>Dict with structure</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;mdlhists&#39;</span><span class="p">:</span> <span class="n">mdlhistargs</span><span class="p">,</span>
 <span class="s1">&#39;endclass&#39;</span><span class="p">:</span> <span class="n">endclassargs</span><span class="p">,</span>
 <span class="s1">&#39;indiv&#39;</span><span class="p">:</span> <span class="n">individual_saving</span><span class="p">}</span>
</pre></div>
</div>
<p>where mdlhistargs and endclassargs are dictionaries of arguments to Result.save
(i.e., {‘filename’:’filename.pkl’, ‘filetype’:’pickle’, ‘overwrite’:True})
and individual_saving is a bool (True/False)</p>
</p></li>
<li><p><strong>endclass</strong> (<em>dict</em>) – dict of end-state classifications (from simulation)</p></li>
<li><p><strong>mdlhist</strong> (<em>dict</em>) – dict of model histories (from simulation)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.scenlist_helper">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">scenlist_helper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scenlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">c_mdl</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.scenlist_helper" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.sequence">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultseq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scen</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">nan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_nominal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.sequence" title="Permalink to this definition"></a></dt>
<dd><p>Run a sequence of faults and disturbances in the model at given times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – The model to inject the fault in.</p></li>
<li><p><strong>seq</strong> (<em>dict</em>) – Scenario dict defining the scenario
{time:{<cite>faults</cite>:faults, <cite>disturbances</cite>:disturbances}}</p></li>
<li><p><strong>faultseq</strong> (<em>dict</em>) – Dict of times and modes defining the fault scenario {time:{fxns: [modes]},}</p></li>
<li><p><strong>disturbances</strong> (<em>dict</em>) – <p>Dict of times and states defining the disturbances in the scenario:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">time</span><span class="p">:</span> <span class="p">{</span><span class="n">path</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">state</span><span class="p">:</span> <span class="n">stateval</span><span class="p">}}</span>
</pre></div>
</div>
</p></li>
<li><p><strong>scen</strong> (<a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><em>Scenario</em></a><em>, </em><em>optional</em>) – Scenario dictionary, if already constructed (for external calls)</p></li>
<li><p><strong>rate</strong> (<em>float</em><em>, </em><em>optional</em>) – Input rate for the sequence (must be calculated elsewhere)</p></li>
<li><p><strong>include_nominal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to return nominal hists/results back. Default is True.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul>
<li><p><strong>result</strong> (<em>Result</em>) –</p>
<p>Result dict of result corresponding to desired_result, with structure,:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Result</span><span class="p">({</span><span class="s1">&#39;nominal&#39;</span><span class="p">:</span> <span class="n">nomresult</span><span class="p">,</span> <span class="s1">&#39;faulty&#39;</span><span class="p">:</span> <span class="n">faultyresult</span><span class="p">})</span>
</pre></div>
</div>
</li>
<li><p><strong>mdlhists</strong> (<em>dict</em>) – A dictionary of the states of the model of each fault scenario over time with
structure: {‘nominal’: nomhist, ‘faulty’: faulthist}</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.sim_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">sim_kwargs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'cut_hist':</span> <span class="pre">True,</span> <span class="pre">'desired_result':</span> <span class="pre">'endclass',</span> <span class="pre">'run_stochastic':</span> <span class="pre">False,</span> <span class="pre">'staged':</span> <span class="pre">False,</span> <span class="pre">'use_end_condition':</span> <span class="pre">True,</span> <span class="pre">'warn_faults':</span> <span class="pre">True}</span></em><a class="headerlink" href="#fmdtools.sim.propagate.sim_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Simulation keyword arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>desired_result</strong> (<em>dict/str/list</em>) – <p>Desired quantities to return in the first argument.
Options are:</p>
<ul>
<li><p>’endclass’: a dict returned by find_classification (default)</p></li>
<li><p>’endfaults’: a dict of returned fault modes and their propagation, e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s1">&#39;endfaults&#39;</span><span class="p">:</span><span class="n">faultdict</span><span class="p">,</span> <span class="s1">&#39;faultprops&#39;</span><span class="p">:</span><span class="n">faultpropdict</span><span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>’graph’/’flowgraph’/etc: a networkx graph of the model with fault modes
superimposed</p></li>
<li><p>’fxnname.varname’: variable values to get</p></li>
<li><p>a list of the above arguments (for multiple at the end)</p></li>
<li><p>a dict of lists (for multiple over time), e.g.,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="n">time</span><span class="p">:[</span><span class="n">varnames</span><span class="p">,</span><span class="o">...</span> <span class="s1">&#39;endclass&#39;</span><span class="p">]}</span>
</pre></div>
</div>
</li>
</ul>
<p>The default is ‘all’.</p>
</p></li>
<li><p><strong>run_stochastic</strong> (<em>bool</em>) – Whether to run stochastic behaviors or use default values. Default is False.
Can set as ‘track_pdf’ to calculate/track the probability densities of random
states over time.</p></li>
<li><p><strong>staged</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to inject the faults in a copy of the nominal model at the fault time
(True) or instantiate a new model for the fault (False). Setting to True
roughly halves execution time. The default is False.</p></li>
<li><p><strong>warn_faults</strong> (<em>bool</em>) – Whether to produce a warning when faults occur in a nominal sim.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.single_faults">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">single_faults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">times</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0.0]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_nominal</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.single_faults" title="Permalink to this definition"></a></dt>
<dd><p>Create and propagates a list of failure scenarios in a model.</p>
<p>NOTE: When calling in a script/module using parallel=True, execute using the
protection statement</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">&#39;main&#39;</span><span class="p">:</span>
    <span class="n">results</span><span class="p">,</span> <span class="n">mdlhists</span> <span class="o">=</span> <span class="n">single_faults</span><span class="p">(</span><span class="n">mdl</span><span class="p">)</span>
</pre></div>
</div>
<p>Otherwise, the method will keep spawning parallel processes.
See multiprocessing documentation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mdl</strong> (<a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable"><em>Simulable</em></a>) – The model to inject faults in</p></li>
<li><p><strong>times</strong> (<em>list</em>) – List of times to inject the single faults in. Default is [1.0]</p></li>
<li><p><strong>include_nominal</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether to return nominal hists/results back. Default is True.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – <p>Additional keyword arguments, may include:</p>
<ul>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Simulation options for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.run_kwargs" title="fmdtools.sim.propagate.run_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">run_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Run options for <a class="reference internal" href="#fmdtools.sim.propagate.nom_helper" title="fmdtools.sim.propagate.nom_helper"><code class="xref py py-func docutils literal notranslate"><span class="pre">nom_helper()</span></code></a> and others</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="#fmdtools.sim.propagate.mult_kwargs" title="fmdtools.sim.propagate.mult_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">mult_kwargs</span></code></a><span class="classifier">kwargs</span></dt><dd><p>Multi-scenario options</p>
</dd>
</dl>
</li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>results</strong> (<em>Result</em>) – Result dict of result corresponding to desired_result {scenname:result}</p></li>
<li><p><strong>mdlhists</strong> (<em>History</em>) – History dict with the history of all tracked model states for each scenario
(including the nominal)</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.unpack_mult_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">unpack_mult_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.unpack_mult_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Unpack the mult kwarg parameters for the <a class="reference internal" href="#fmdtools.sim.propagate.parameter_sample" title="fmdtools.sim.propagate.parameter_sample"><code class="xref py py-func docutils literal notranslate"><span class="pre">parameter_sample()</span></code></a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.unpack_res_list">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">unpack_res_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenlist</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res_list</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.unpack_res_list" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.propagate.unpack_sim_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.propagate.</span></span><span class="sig-name descname"><span class="pre">unpack_sim_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.propagate.unpack_sim_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Unpacks <a class="reference internal" href="#fmdtools.sim.propagate.sim_kwargs" title="fmdtools.sim.propagate.sim_kwargs"><code class="xref py py-data docutils literal notranslate"><span class="pre">sim_kwargs</span></code></a> parameters for <a class="reference internal" href="#fmdtools.sim.propagate.prop_one_scen" title="fmdtools.sim.propagate.prop_one_scen"><code class="xref py py-func docutils literal notranslate"><span class="pre">prop_one_scen()</span></code></a></p>
</dd></dl>

</section>
<section id="module-fmdtools.sim.scenario">
<span id="fmdtools-sim-scenario"></span><h2>fmdtools.sim.scenario<a class="headerlink" href="#module-fmdtools.sim.scenario" title="Permalink to this heading"></a></h2>
<p>Description: Classes for defining scenarios to simulate.</p>
<p>Classes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.Injection" title="fmdtools.sim.scenario.Injection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Injection</span></code></a>: Defines faults and disturbances to inject at a specific time.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.Scenario" title="fmdtools.sim.scenario.Scenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scenario</span></code></a>: Defines a generic scenario to simulation.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.SingleFaultScenario" title="fmdtools.sim.scenario.SingleFaultScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">SingleFaultScenario</span></code></a>: Defines the scenario of a single fault injected in a function.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.JointFaultScenario" title="fmdtools.sim.scenario.JointFaultScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">JointFaultScenario</span></code></a>: Defines the scenario of multiple faults injected in a function at the same time.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NominalScenario</span></code>: Defines the scenario of a model having given parameters at the outset.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">ParamScenario</span></code>: Defines the scenario of a model having parameters from a given paramfunc.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code></a>: Creates an overall sequence of Injections from a given sequence of faults and disturbances.</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenObj">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">BaseScenObj</span></span><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenObj" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dataobject</span></code></p>
<p>Base class for Scenarios and injections.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenObj.copy_with">
<span class="sig-name descname"><span class="pre">copy_with</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenObj.copy_with" title="Permalink to this definition"></a></dt>
<dd><p>Copy the Scen with the given kwargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>kwargs</em>) – Fields to change in the copy</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>copy</strong> – Copy of self with optional kwargs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#fmdtools.sim.scenario.BaseScenObj" title="fmdtools.sim.scenario.BaseScenObj">BaseScenObj</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenObj.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fallback</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenObj.get" title="Permalink to this definition"></a></dt>
<dd><p>Get entry if present, otherwise return fallback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>entry</strong> (<em>str</em>) – Name of field to get.</p></li>
<li><p><strong>fallback</strong> (<em>val</em>) – Fallback value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>val_to_get</strong> – Value of entry (or fallback, if no entry)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>val</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">BaseScenario</span></span><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.BaseScenObj" title="fmdtools.sim.scenario.BaseScenObj"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScenObj</span></code></a></p>
<p>Base class for scenarios.</p>
<p>…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sequence</strong> (<a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><em>Sequence</em></a>) – Sequence of faults and distrubances over time defined by Sequence</p></li>
<li><p><strong>times</strong> (<em>tuple</em>) – Times faunts/distrubances will occur.</p></li>
<li><p><strong>Variables</strong> (<em>Class</em>) – </p></li>
<li><p><strong>---------------</strong> – </p></li>
<li><p><strong>prob</strong> (<em>float</em>) – Scenario probability</p></li>
<li><p><strong>rate</strong> (<em>float</em>) – Scenario rate.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Scenario name.</p></li>
<li><p><strong>time</strong> (<em>float</em>) – Start of scenario.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'nominal'</span></em><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.prob">
<span class="sig-name descname"><span class="pre">prob</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.prob" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1.0</span></em><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><span class="pre">Sequence</span></a></em><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.start_time">
<span class="sig-name descname"><span class="pre">start_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.start_time" title="Permalink to this definition"></a></dt>
<dd><p>Get the first time in the scenario.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0.0</span></em><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.BaseScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.BaseScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">Injection</span></span><a class="headerlink" href="#fmdtools.sim.scenario.Injection" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.BaseScenObj" title="fmdtools.sim.scenario.BaseScenObj"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScenObj</span></code></a></p>
<p>Defines a single fault/disturbance injection.</p>
<p>…</p>
<dl class="simple">
<dt>faults<span class="classifier">dict</span></dt><dd><p>Faults to inject with structure {‘fxnname’: [faults]}</p>
</dd>
<dt>disturbances<span class="classifier">dict</span></dt><dd><p>Disturbances to inject with structure {‘path.to.state’: statevalue}</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection.disturbances">
<span class="sig-name descname"><span class="pre">disturbances</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Injection.disturbances" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection.faults">
<span class="sig-name descname"><span class="pre">faults</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Injection.faults" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Injection.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inj</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Injection.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the injection with the given faults/disturbances.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inj</strong> (<em>dict</em>) – Dict with structure {‘faults’: faults, ‘disturbances’: disturbances}</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">JointFaultScenario</span></span><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.BaseScenario" title="fmdtools.sim.scenario.BaseScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScenario</span></code></a></p>
<p>Class defining a joint fault occuring. Extends BaseScenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>joint_faults</strong> (<em>int</em>) – Joint Faults in the scenario</p></li>
<li><p><strong>functions</strong> (<em>tuple</em>) – Functions where the faults are to occur</p></li>
<li><p><strong>modes</strong> (<em>tuple</em>) – Names of the fault modes</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.from_faults">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_faults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulttups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baserate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ind'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_cond</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.from_faults" title="Permalink to this definition"></a></dt>
<dd><p>Generate JointFaultScenario given fault names, time.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.functions">
<span class="sig-name descname"><span class="pre">functions</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.functions" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.joint_faults">
<span class="sig-name descname"><span class="pre">joint_faults</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.joint_faults" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.modes">
<span class="sig-name descname"><span class="pre">modes</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.modes" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.phase">
<span class="sig-name descname"><span class="pre">phase</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.phase" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><span class="pre">Sequence</span></a></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.JointFaultScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.JointFaultScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">ParameterScenario</span></span><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.BaseScenario" title="fmdtools.sim.scenario.BaseScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScenario</span></code></a></p>
<p>Class defining a nominal (non-fault-injection) Scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>p</strong> (<em>dict</em>) – non-default Parameter fields</p></li>
<li><p><strong>r</strong> (<em>dict</em>) – non-default Rand fields</p></li>
<li><p><strong>sp</strong> (<em>dict</em>) – non-default SimParam fields</p></li>
<li><p><strong>prob</strong> (<em>float</em>) – probability</p></li>
<li><p><strong>inputparams</strong> (<em>dict</em>) – inputs to parameter generator</p></li>
<li><p><strong>rangeid</strong> (<em>str</em>) – name of containing range</p></li>
<li><p><strong>name</strong> (<em>str</em>) – scenario name</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.get_param">
<span class="sig-name descname"><span class="pre">get_param</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">param</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NA'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.get_param" title="Permalink to this definition"></a></dt>
<dd><p>Get a parameter from the scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>param</strong> (<em>str</em>) – Name of parameter (e.g., “p.size”)</p></li>
<li><p><strong>default</strong> (<em>val</em><em>, </em><em>optional</em>) – Default value for field (if not present). The default is “NA”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pval</strong> – Value of the parameter.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>val</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.get_params">
<span class="sig-name descname"><span class="pre">get_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'NA'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.get_params" title="Permalink to this definition"></a></dt>
<dd><p>Get a list of parameters for the scenarios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*params</strong> (<em>str</em>) – Name of parameters</p></li>
<li><p><strong>default</strong> (<em>val</em><em>, </em><em>optional</em>) – Default value for parameters (if not present). The default is “NA”.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>params</strong> – List of parameters.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.inputparams">
<span class="sig-name descname"><span class="pre">inputparams</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.inputparams" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.p">
<span class="sig-name descname"><span class="pre">p</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.p" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.prob">
<span class="sig-name descname"><span class="pre">prob</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.prob" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.r">
<span class="sig-name descname"><span class="pre">r</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.r" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.rangeid">
<span class="sig-name descname"><span class="pre">rangeid</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.rangeid" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><span class="pre">Sequence</span></a></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.sp">
<span class="sig-name descname"><span class="pre">sp</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">dict</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.sp" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.start_time">
<span class="sig-name descname"><span class="pre">start_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.start_time" title="Permalink to this definition"></a></dt>
<dd><p>Return the start time for a parameter scenario–0.0.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.ParameterScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.ParameterScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">Scenario</span></span><a class="headerlink" href="#fmdtools.sim.scenario.Scenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.BaseScenario" title="fmdtools.sim.scenario.BaseScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScenario</span></code></a></p>
<p>Class defining generic scenarios. Extends BaseScenario.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><span class="pre">Sequence</span></a></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Scenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.Scenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Sequence">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">Sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faultseq</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Sequence" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">UserDict</span></code></p>
<p>Defines a dict with a sequence of faults and disturbances.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="n">faultseq</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;fxnname&#39;</span><span class="p">:[</span><span class="s1">&#39;mode1&#39;</span><span class="p">]}},</span>
<span class="gp">... </span>             <span class="n">disturbances</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;state.name&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">Injection(faults={&#39;fxnname&#39;: [&#39;mode1&#39;]}, disturbances={})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">Injection(faults={}, disturbances={&#39;state.name&#39;: 1.0})</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Sequence</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;fxnname&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mode1&#39;</span><span class="p">]}},</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;state.name&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}})</span>
<span class="go">{1: Injection(faults={&#39;fxnname&#39;: [&#39;mode1&#39;]}, disturbances={&#39;state.name&#39;: 1.0})}</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Sequence.from_fault">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulttup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Sequence.from_fault" title="Permalink to this definition"></a></dt>
<dd><p>Generate sequence from single fault mode faulttup (fxn, mode).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.Sequence.update_sequence">
<span class="sig-name descname"><span class="pre">update_sequence</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_sequence</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.Sequence.update_sequence" title="Permalink to this definition"></a></dt>
<dd><p>Update the sequence given a different sequence.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>new_sequence</strong> (<a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><em>Sequence</em></a>) – Sequence to update from</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">(</span><span class="n">faultseq</span><span class="o">=</span><span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;fxnname&#39;</span><span class="p">:[</span><span class="s1">&#39;mode1&#39;</span><span class="p">]}},</span>
<span class="gp">... </span>             <span class="n">disturbances</span><span class="o">=</span><span class="p">{</span><span class="mi">2</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;state.name&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s2</span> <span class="o">=</span> <span class="n">Sequence</span><span class="p">({</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;fxnname&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;mode2&#39;</span><span class="p">]}},</span> <span class="p">{</span><span class="mi">1</span><span class="p">:</span> <span class="p">{</span><span class="s1">&#39;state.name&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">}})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">update_sequence</span><span class="p">(</span><span class="n">s2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">{1: Injection(faults={&#39;fxnname&#39;: [&#39;mode2&#39;]}, disturbances={&#39;state.name&#39;: 1.0}), 2: Injection(faults={}, disturbances={&#39;state.name&#39;: 1.0})}</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">SingleFaultScenario</span></span><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.scenario.BaseScenario" title="fmdtools.sim.scenario.BaseScenario"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseScenario</span></code></a></p>
<p>Class defining a single fault occuring. Extends BaseScenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>function</strong> (<em>str</em>) – Function where the fault occurs</p></li>
<li><p><strong>fault</strong> (<em>str</em>) – Name of the fault</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.fault">
<span class="sig-name descname"><span class="pre">fault</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.fault" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.from_fault">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_fault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulttup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">starttime</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.from_fault" title="Permalink to this definition"></a></dt>
<dd><p>Generate the fault scenario for faulttup at time.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.function">
<span class="sig-name descname"><span class="pre">function</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.function" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.phase">
<span class="sig-name descname"><span class="pre">phase</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.phase" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.rate">
<span class="sig-name descname"><span class="pre">rate</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.rate" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.sequence">
<span class="sig-name descname"><span class="pre">sequence</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#fmdtools.sim.scenario.Sequence" title="fmdtools.sim.scenario.Sequence"><span class="pre">Sequence</span></a></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.sequence" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.SingleFaultScenario.times">
<span class="sig-name descname"><span class="pre">times</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.scenario.SingleFaultScenario.times" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.scenario.create_scenname">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.scenario.</span></span><span class="sig-name descname"><span class="pre">create_scenname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulttup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.scenario.create_scenname" title="Permalink to this definition"></a></dt>
<dd><p>Create a scenario name for a given fault scenario.</p>
</dd></dl>

</section>
<section id="module-fmdtools.sim.sample">
<span id="fmdtools-sim-sample"></span><h2>fmdtools.sim.sample<a class="headerlink" href="#module-fmdtools.sim.sample" title="Permalink to this heading"></a></h2>
<p>Module for Fault Sampling. Takes the place of approach classes.</p>
<p>Has classes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.sample.ParameterDomain" title="fmdtools.sim.sample.ParameterDomain"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterDomain</span></code></a>: Defines domain for sampling from Parameters.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.sample.FaultDomain" title="fmdtools.sim.sample.FaultDomain"><code class="xref py py-class docutils literal notranslate"><span class="pre">FaultDomain</span></code></a>: Defines domain for sampling from Faults.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.sample.FaultSample" title="fmdtools.sim.sample.FaultSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">FaultSample</span></code></a>: Defines a sample of fault scenarios.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.sample.SampleApproach" title="fmdtools.sim.sample.SampleApproach"><code class="xref py py-class docutils literal notranslate"><span class="pre">SampleApproach</span></code></a>: Defines a set of fault scenario samples.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.sample.ParameterSample" title="fmdtools.sim.sample.ParameterSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterSample</span></code></a>: Defines a sample of a set of parameters.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.sample.ParameterResultSample" title="fmdtools.sim.sample.ParameterResultSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterResultSample</span></code></a>: Defines a sample from Result values.</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.sample.ParameterHistSample" title="fmdtools.sim.sample.ParameterHistSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterHistSample</span></code></a>: Defines a sample from History values.</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">BaseSample</span></span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Overarching sample class (for FaultSample and SampleApproach).</p>
<dl class="simple">
<dt>Subclasses should have methods:</dt><dd><ul class="simple">
<li><p>scenarios() for getting all scenarios from the sample</p></li>
<li><p>times() for getting all times from the sample</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.get_factor_metrics">
<span class="sig-name descname"><span class="pre">get_factor_metrics</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['cost']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">factors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['time']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_stat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'expected'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ci_metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ci_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.get_factor_metrics" title="Permalink to this definition"></a></dt>
<dd><p>Make a dict of the statistic for given metrics over given factors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>res</strong> (<a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.result.Result" title="fmdtools.analyze.result.Result"><em>Result</em></a>) – Result with the given metrics over a number of scenarios.</p></li>
<li><p><strong>metrics</strong> (<em>list</em>) – metrics in res to tabulate over time. Default is [‘cost’].</p></li>
<li><p><strong>factors</strong> (<em>list</em>) – Factors (Scenario properties e.g., ‘name’, ‘time’, ‘var’) in samp to take the
statistic over. Default is [‘time’]</p></li>
<li><p><strong>default_stat</strong> (<em>str</em>) – statistic to take for given metrics my default.
(e.g., ‘average’, ‘percent’… see Result methods). Default is ‘expected’.</p></li>
<li><p><strong>stats</strong> (<em>dict</em>) – Non-default statistics to take for each individual metric.
e.g. {‘cost’: ‘average’}. Default is {}</p></li>
<li><p><strong>ci_metrics</strong> (<em>list</em>) – Metrics to calculate a confidence interval for (using bootstrap_ci).
Default is [].</p></li>
<li><p><strong>ci_kwargs</strong> (<em>dict</em>) – kwargs to bootstrap_ci</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>met_table</strong> – pandas dataframe with the statistic of the metric over the corresponding
set of scenarios for the given factor level.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.get_groups_scens">
<span class="sig-name descname"><span class="pre">get_groups_scens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">groupnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">groups</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.get_groups_scens" title="Permalink to this definition"></a></dt>
<dd><p>Get scenarios related to the given groups.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>groupnames</strong> (<em>list</em>) – List of scenario properties to group (e.g., ‘function’’, ‘fault’)</p></li>
<li><p><strong>groups</strong> (<em>list</em>) – Groups to get e.g, [ (‘fxnname1’, ‘fault1’)]</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scen_groups</strong> – dict of scenarios for each group with structure
{(field1_val, field2_val) : [scenarios]}</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.get_scen_groups">
<span class="sig-name descname"><span class="pre">get_scen_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">groupnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.get_scen_groups" title="Permalink to this definition"></a></dt>
<dd><p>Get all groups of scenarios grouped by <a href="#id9"><span class="problematic" id="id10">*</span></a>groupnames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*groupnames</strong> (<em>str</em>) – Fields of the underlying scenarios in self.scenarios()</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scen_groups</strong> – Dict of scenarios</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.get_scens">
<span class="sig-name descname"><span class="pre">get_scens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.get_scens" title="Permalink to this definition"></a></dt>
<dd><p>Get scenarios with the values corresponding to <a href="#id11"><span class="problematic" id="id12">**</span></a>kwargs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**kwargs</strong> (<em>kwargs</em>) – key-value pairs for the Scenario (e.g., fault=’faultname’)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scens</strong> – Dict of scenarios with the given properties.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.group_scens">
<span class="sig-name descname"><span class="pre">group_scens</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">groupnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.group_scens" title="Permalink to this definition"></a></dt>
<dd><p>Get the groups of scenario parameters corresponding to <a href="#id13"><span class="problematic" id="id14">*</span></a>groupnames.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*groupnames</strong> (<em>str</em>) – Fields of the scenarios to group. e.g., ‘function’ or ‘fault’</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>groups</strong> – List of tuples corresponding to the groups</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.named_scenarios">
<span class="sig-name descname"><span class="pre">named_scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.named_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Get dict of scenarios by name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.num_scenarios">
<span class="sig-name descname"><span class="pre">num_scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.num_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Get the number of scenarios in the sample.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.BaseSample.scen_names">
<span class="sig-name descname"><span class="pre">scen_names</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.BaseSample.scen_names" title="Permalink to this definition"></a></dt>
<dd><p>Get list of scen names.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ExNestedParam">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">ExNestedParam</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict_immutability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_pickle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_lim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ExNestedParam" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="fmdtools.define.container.html#fmdtools.define.container.parameter.Parameter" title="fmdtools.define.container.parameter.Parameter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Parameter</span></code></a></p>
<p>Example nested parameter for testing ParamDomain.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ExNestedParam.ex_param">
<span class="sig-name descname"><span class="pre">ex_param</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">ExampleParameter</span></em><a class="headerlink" href="#fmdtools.sim.sample.ExNestedParam.ex_param" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ExNestedParam.k">
<span class="sig-name descname"><span class="pre">k</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.sample.ExNestedParam.k" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">FaultDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines the faults which will be sampled from in an approach.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.fxns">
<span class="sig-name descname"><span class="pre">fxns</span></span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.fxns" title="Permalink to this definition"></a></dt>
<dd><p>Dict of fxns in the given Simulable (to simulate)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.faults">
<span class="sig-name descname"><span class="pre">faults</span></span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.faults" title="Permalink to this definition"></a></dt>
<dd><p>Dict of faults to inject in the simulable</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_all">
<span class="sig-name descname"><span class="pre">add_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_all" title="Permalink to this definition"></a></dt>
<dd><p>Add all faults in the Simulable to the FaultDomain.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">Drone</span><span class="p">()</span><span class="o">.</span><span class="n">fxns</span><span class="p">[</span><span class="s1">&#39;ctl_dof&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_all</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span>
<span class="go">FaultDomain with faults:</span>
<span class="go"> -(&#39;ctl_dof&#39;, &#39;noctl&#39;)</span>
<span class="go"> -(&#39;ctl_dof&#39;, &#39;degctl&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_all_fxn_modes">
<span class="sig-name descname"><span class="pre">add_all_fxn_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fxnnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_all_fxn_modes" title="Permalink to this definition"></a></dt>
<dd><p>Add all modes in the given simname.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*fxnnames</strong> (<em>str</em>) – Names of the functions (e.g., “affect_dof”, “move_water”).</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">Drone</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_all_fxn_modes</span><span class="p">(</span><span class="s2">&quot;hold_payload&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span>
<span class="go">FaultDomain with faults:</span>
<span class="go"> -(&#39;hold_payload&#39;, &#39;break&#39;)</span>
<span class="go"> -(&#39;hold_payload&#39;, &#39;deform&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_all_fxnclass_modes">
<span class="sig-name descname"><span class="pre">add_all_fxnclass_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fxnclasses</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_all_fxnclass_modes" title="Permalink to this definition"></a></dt>
<dd><p>Add all modes corresponding to the given fxnclasses.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*fxnclasses</strong> (<em>str</em>) – Name of the fxnclass (e.g., “AffectDOF”, “MoveWater”)</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.eps.eps</span> <span class="kn">import</span> <span class="n">EPS</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd1</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">EPS</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd1</span><span class="o">.</span><span class="n">add_all_fxnclass_modes</span><span class="p">(</span><span class="s2">&quot;ExportHE&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd1</span>
<span class="go">FaultDomain with faults:</span>
<span class="go"> -(&#39;export_he&#39;, &#39;hot_sink&#39;)</span>
<span class="go"> -(&#39;export_he&#39;, &#39;ineffective_sink&#39;)</span>
<span class="go"> -(&#39;export_waste_h1&#39;, &#39;hot_sink&#39;)</span>
<span class="go"> -(&#39;export_waste_h1&#39;, &#39;ineffective_sink&#39;)</span>
<span class="go"> -(&#39;export_waste_ho&#39;, &#39;hot_sink&#39;)</span>
<span class="go"> -(&#39;export_waste_ho&#39;, &#39;ineffective_sink&#39;)</span>
<span class="go"> -(&#39;export_waste_hm&#39;, &#39;hot_sink&#39;)</span>
<span class="go"> -(&#39;export_waste_hm&#39;, &#39;ineffective_sink&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_all_modes">
<span class="sig-name descname"><span class="pre">add_all_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">modenames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_all_modes" title="Permalink to this definition"></a></dt>
<dd><p>Add all modes with the given modenames to the FaultDomain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*modenames</strong> (<em>str</em>) – Names of the modes</p></li>
<li><p><strong>exact</strong> (<em>bool</em><em>, </em><em>optional</em>) – Whether the mode name must be an exact match. The default is True.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_fault">
<span class="sig-name descname"><span class="pre">add_fault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fxnname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultmode</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_fault" title="Permalink to this definition"></a></dt>
<dd><p>Add a fault to the FaultDomain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fxnname</strong> (<em>str</em>) – Name of the simulable to inject in</p></li>
<li><p><strong>faultmode</strong> (<em>str</em>) – Name of the faultmode to inject.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_faults">
<span class="sig-name descname"><span class="pre">add_faults</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">faults</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_faults" title="Permalink to this definition"></a></dt>
<dd><p>Add multiple faults to the FaultDomain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*faults</strong> (<em>tuple</em>) – Faults (simname, faultmode) to inject</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">Drone</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_faults</span><span class="p">((</span><span class="s1">&#39;ctl_dof&#39;</span><span class="p">,</span> <span class="s1">&#39;noctl&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;affect_dof&#39;</span><span class="p">,</span> <span class="s1">&#39;rr_ctldn&#39;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span>
<span class="go">FaultDomain with faults:</span>
<span class="go"> -(&#39;ctl_dof&#39;, &#39;noctl&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;rr_ctldn&#39;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultDomain.add_singlecomp_modes">
<span class="sig-name descname"><span class="pre">add_singlecomp_modes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">fxns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultDomain.add_singlecomp_modes" title="Permalink to this definition"></a></dt>
<dd><p>Add all single-component modes in functions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*fxns</strong> (<em>str</em>) – Names of the functions containing the components.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">Drone</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_singlecomp_modes</span><span class="p">(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span>
<span class="go">FaultDomain with faults:</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_short&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_openc&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_ctlup&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_ctldn&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_ctlbreak&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_mechbreak&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_mechfriction&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_propwarp&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_propstuck&#39;)</span>
<span class="go"> -(&#39;affect_dof&#39;, &#39;lf_propbreak&#39;)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">FaultSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faultdomain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">def_mdl_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.sample.BaseSample" title="fmdtools.sim.sample.BaseSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSample</span></code></a></p>
<p>Defines a sample of a given faultdomain.</p>
<p>…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>faultdomain</strong> (<a class="reference internal" href="#fmdtools.sim.sample.FaultDomain" title="fmdtools.sim.sample.FaultDomain"><em>FaultDomain</em></a>) – Domain of faults to sample from</p></li>
<li><p><strong>phasemap</strong> (<a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.phases.PhaseMap" title="fmdtools.analyze.phases.PhaseMap"><em>PhaseMap</em></a><em>, </em><em>(</em><em>optional</em><em>)</em>) – Phases of operation to sample over.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample._scenarios">
<span class="sig-name descname"><span class="pre">_scenarios</span></span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample._scenarios" title="Permalink to this definition"></a></dt>
<dd><p>List of scenarios to sample.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample._times">
<span class="sig-name descname"><span class="pre">_times</span></span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample._times" title="Permalink to this definition"></a></dt>
<dd><p>Set of times where the scenarios will occur</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>set</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.add_fault_phases">
<span class="sig-name descname"><span class="pre">add_fault_phases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">phases_to_sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'even'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_methods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phase_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_joint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">joint_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.add_fault_phases" title="Permalink to this definition"></a></dt>
<dd><p>Sample scenarios in the given phases using a set sampling method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*phases_to_sample</strong> (<em>str</em>) – Names of phases to sample. If no</p></li>
<li><p><strong>method</strong> (<em>str</em><em>, </em><em>optional</em>) – ‘even’, ‘quad’, ‘all’, which selects whether to use sample_times_even or
sample_times_quad, or gets all times, respectively. The default is ‘even’.</p></li>
<li><p><strong>args</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Arguments to the sampling method. The default is (1,).</p></li>
<li><p><strong>phase_methods</strong> (<em>dict</em><em>, </em><em>optional</em>) – Method (‘even’ or ‘quad’) to use of individual phases (if not default).
The default is {}.</p></li>
<li><p><strong>phase_args</strong> (<em>dict</em><em>, </em><em>optional</em>) – Method args to use for individual phases (if not default).
The default is {}.</p></li>
<li><p><strong>n_joint</strong> (<em>int</em>) – Number of joint fault modes to include in sample.</p></li>
<li><p><strong>**joint_kwargs</strong> (<em>kwargs</em>) – baserate and p_cond arguments to add_joint_fault_scenario.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mdl</span> <span class="o">=</span> <span class="n">Drone</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">mdl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_fault</span><span class="p">(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span> <span class="o">=</span> <span class="n">FaultSample</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">phasemap</span><span class="o">=</span><span class="n">PhaseMap</span><span class="p">({</span><span class="s2">&quot;on&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add_fault_phases</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span>
<span class="go">FaultSample of scenarios:</span>
<span class="go"> - affect_dof_rf_propwarp_t4p0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.add_fault_times">
<span class="sig-name descname"><span class="pre">add_fault_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_joint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">joint_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.add_fault_times" title="Permalink to this definition"></a></dt>
<dd><p>Add all single-fault scenarios to the list of scenarios at the given times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>list</em>) – List of times.</p></li>
<li><p><strong>weights</strong> (<em>list</em><em>, </em><em>optional</em>) – Weight factors corresponding to the times The default is [].</p></li>
<li><p><strong>n_joint</strong> (<em>int</em>) – Number of joint fault modes.</p></li>
<li><p><strong>**joint_kwargs</strong> (<em>kwargs</em>) – baserate and p_cond arguments to add_joint_fault_scenario.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mdl</span> <span class="o">=</span> <span class="n">Drone</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">mdl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_fault</span><span class="p">(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span> <span class="o">=</span> <span class="n">FaultSample</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">phasemap</span><span class="o">=</span><span class="n">PhaseMap</span><span class="p">({</span><span class="s2">&quot;on&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add_fault_times</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span>
<span class="go">FaultSample of scenarios:</span>
<span class="go"> - affect_dof_rf_propwarp_t1</span>
<span class="go"> - affect_dof_rf_propwarp_t2</span>
<span class="go"> - affect_dof_rf_propwarp_t3</span>
<span class="go"> &gt;&gt;&gt; fd.add_fault(&quot;affect_dof&quot;, &quot;lf_propwarp&quot;)</span>
<span class="go"> &gt;&gt;&gt; fd.add_fault(&quot;affect_dof&quot;, &quot;rr_propwarp&quot;)</span>
<span class="go"> &gt;&gt;&gt; fs = FaultSample(fd)</span>
<span class="go"> &gt;&gt;&gt; fs.add_fault_times([5], n_joint=2)</span>
<span class="go"> &gt;&gt;&gt; fs</span>
<span class="go"> FaultSample of scenarios:</span>
<span class="go">  - affect_dof_rf_propwarp__affect_dof_lf_propwarp_t5</span>
<span class="go">  - affect_dof_rf_propwarp__affect_dof_rr_propwarp_t5</span>
<span class="go">  - affect_dof_lf_propwarp__affect_dof_rr_propwarp_t5</span>
<span class="go"> &gt;&gt;&gt; fs = FaultSample(fd)</span>
<span class="go"> &gt;&gt;&gt; fs.add_fault_times([5], n_joint=3)</span>
<span class="go"> &gt;&gt;&gt; fs</span>
<span class="go"> FaultSample of scenarios:</span>
<span class="go">  - affect_dof_rf_propwarp__affect_dof_lf_propwarp__affect_dof_rr_propwarp_t5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.add_joint_fault_scenario">
<span class="sig-name descname"><span class="pre">add_joint_fault_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulttups</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">baserate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ind'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p_cond</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.add_joint_fault_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Add a single fault scenario to the list of scenarios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>faulttups</strong> (<em>tuple</em>) – Faults to add ((‘blockname’, ‘faultname’), (‘blockname2’, ‘faultname2’)).</p></li>
<li><p><strong>time</strong> (<em>float</em>) – Time of the fault scenario.</p></li>
<li><p><strong>weight</strong> (<em>float</em><em>, </em><em>optional</em>) – Weighting factor for the scenario rate. The default is 1.0.</p></li>
<li><p><strong>baserate</strong> (<em>str/tuple</em>) – Fault (fxn, mode) to get base rate for the scenario from (for joint faults).
Default is ‘ind’ which calculates the rate as independent (rate1*rate2*…).
Can also be ‘max’, which uses the max fault likelihood.</p></li>
<li><p><strong>p_cond</strong> (<em>float</em>) – Conditional fault probability for joint fault modes. Used if not using
independent base rate assumptions to calculate. Default is 1.0.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">Drone</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_fault</span><span class="p">(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_fault</span><span class="p">(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;lf_propwarp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span> <span class="o">=</span> <span class="n">FaultSample</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">phasemap</span><span class="o">=</span><span class="n">PhaseMap</span><span class="p">({</span><span class="s2">&quot;on&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add_joint_fault_scenario</span><span class="p">(((</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">),(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;lf_propwarp&quot;</span><span class="p">)),</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span>
<span class="go">FaultSample of scenarios:</span>
<span class="go"> - affect_dof_rf_propwarp__affect_dof_lf_propwarp_t5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">sequence</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">.</span><span class="n">faults</span>
<span class="go">{&#39;affect_dof&#39;: [&#39;rf_propwarp&#39;, &#39;lf_propwarp&#39;]}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add_single_fault_scenario</span><span class="p">((</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add_single_fault_scenario</span><span class="p">((</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;lf_propwarp&quot;</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">rate</span> <span class="o">==</span> <span class="n">fs</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">rate</span><span class="o">*</span><span class="n">fs</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span><span class="o">.</span><span class="n">rate</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.add_single_fault_scenario">
<span class="sig-name descname"><span class="pre">add_single_fault_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">faulttup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.add_single_fault_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Add a single fault scenario to the list of scenarios.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>faulttup</strong> (<em>tuple</em>) – Fault to add (‘blockname’, ‘faultname’).</p></li>
<li><p><strong>time</strong> (<em>float</em>) – Time of the fault scenario.</p></li>
<li><p><strong>weight</strong> (<em>float</em><em>, </em><em>optional</em>) – Weighting factor for the scenario rate. The default is 1.0.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mdl</span> <span class="o">=</span> <span class="n">Drone</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span> <span class="o">=</span> <span class="n">FaultDomain</span><span class="p">(</span><span class="n">mdl</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fd</span><span class="o">.</span><span class="n">add_fault</span><span class="p">(</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span> <span class="o">=</span> <span class="n">FaultSample</span><span class="p">(</span><span class="n">fd</span><span class="p">,</span> <span class="n">phasemap</span><span class="o">=</span><span class="n">PhaseMap</span><span class="p">({</span><span class="s2">&quot;on&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span> <span class="s2">&quot;off&quot;</span><span class="p">:</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">]}))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span><span class="o">.</span><span class="n">add_single_fault_scenario</span><span class="p">((</span><span class="s2">&quot;affect_dof&quot;</span><span class="p">,</span> <span class="s2">&quot;rf_propwarp&quot;</span><span class="p">),</span> <span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fs</span>
<span class="go">FaultSample of scenarios:</span>
<span class="go"> - affect_dof_rf_propwarp_t5</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.prune_scenarios">
<span class="sig-name descname"><span class="pre">prune_scenarios</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scen_var='rate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparator=&lt;ufunc</span> <span class="pre">'greater'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value=0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.prune_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Prune scenarios from the FaultSample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scen_var</strong> (<em>str</em><em>, </em><em>optional</em>) – Variable to prune. The default is ‘rate’.</p></li>
<li><p><strong>comparator</strong> (<em>method</em><em>, </em><em>optional</em>) – Numpy method. The default is np.greater_equal.</p></li>
<li><p><strong>value</strong> (<em>float</em><em>, </em><em>optional</em>) – Value to compare against. The default is 0.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.scenarios">
<span class="sig-name descname"><span class="pre">scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Get all sampled scenarios.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.FaultSample.times">
<span class="sig-name descname"><span class="pre">times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.FaultSample.times" title="Permalink to this definition"></a></dt>
<dd><p>Get all sampled times.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.JointFaultSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">JointFaultSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">faultdomains</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">def_mdl_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.JointFaultSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.sample.FaultSample" title="fmdtools.sim.sample.FaultSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">FaultSample</span></code></a></p>
<p>FaultSample for faults in multiple faultdomains and phasemaps.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">ParameterDomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parameter_init</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines a domain to sample from a Parameter.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.parameter_init">
<span class="sig-name descname"><span class="pre">parameter_init</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.parameter_init" title="Permalink to this definition"></a></dt>
<dd><p>Method which may be used to initialize a parameter. If a method is provided, it
may only take kwargs as input (which will map to ParameterDomain variables).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Parameter/method</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.variables" title="Permalink to this definition"></a></dt>
<dd><p>Variables (inputs to parameter_init) and their range/set constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.constants">
<span class="sig-name descname"><span class="pre">constants</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.constants" title="Permalink to this definition"></a></dt>
<dd><p>Variables (inputs to parameter_init) with set parameter values.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>Given the parameter:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExampleParameter</span><span class="p">(</span><span class="n">Parameter</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">x</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="gp">... </span>   <span class="n">y</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">10.0</span>
<span class="gp">... </span>   <span class="n">z</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span>
<span class="gp">... </span>   <span class="n">x_lim</span> <span class="o">=</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="gp">... </span>   <span class="n">y_set</span> <span class="o">=</span> <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">)</span>
</pre></div>
</div>
<p>We can then define the following domain, which by default gets set constraints:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span> <span class="o">=</span> <span class="n">ParameterDomain</span><span class="p">(</span><span class="n">ExampleParameter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">add_variables</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">add_constants</span><span class="p">(</span><span class="n">z</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span>
<span class="go">ParameterDomain with:</span>
<span class="go"> - variables: {&#39;y&#39;: {1.0, 2.0, 3.0, 4.0}, &#39;x&#39;: (0, 10)}</span>
<span class="go"> - constants: {&#39;z&#39;: 20}</span>
<span class="go"> - parameter_initializer: ExampleParameter</span>
</pre></div>
</div>
<p>This ParameterDomain then becomes a callable with the given variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">ExampleParameter(x=2.0, y=1.0, z=20.0)</span>
</pre></div>
</div>
<p>And we can separately check the set contraints for the variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">get_set_constraints</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">(False, False)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">get_set_constraints</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)</span>
<span class="go">(True, True)</span>
</pre></div>
</div>
<p>This can also work with nested parameters:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ExNestedParam</span><span class="p">(</span><span class="n">Parameter</span><span class="p">):</span>
<span class="gp">... </span>   <span class="n">ex_param</span><span class="p">:</span> <span class="n">ExampleParameter</span> <span class="o">=</span> <span class="n">ExampleParameter</span><span class="p">()</span>
<span class="gp">... </span>   <span class="n">k</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">20.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expd1</span> <span class="o">=</span> <span class="n">ParameterDomain</span><span class="p">(</span><span class="n">ExNestedParam</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd1</span><span class="o">.</span><span class="n">add_variables</span><span class="p">(</span><span class="s2">&quot;ex_param.x&quot;</span><span class="p">,</span> <span class="s2">&quot;ex_param.y&quot;</span><span class="p">,</span> <span class="s2">&quot;k&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">ExNestedParam(ex_param=ExampleParameter(x=1.0, y=2.0, z=0.0), k=3.0)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.add_constant">
<span class="sig-name descname"><span class="pre">add_constant</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.add_constant" title="Permalink to this definition"></a></dt>
<dd><p>Add a value to be set to a constant value in the ParameterDomain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>constant</strong> (<em>str</em>) – Name of the parameter_init field to set to the constant value.</p></li>
<li><p><strong>value</strong> (<em>value</em>) – Value to set the constant to.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.add_constants">
<span class="sig-name descname"><span class="pre">add_constants</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">constants</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.add_constants" title="Permalink to this definition"></a></dt>
<dd><p>Add a number of constant values to the ParameterDomain to be set as constant.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**constants</strong> (<em>kwargs</em>) – args to set as constant and their values.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.add_variable">
<span class="sig-name descname"><span class="pre">add_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">variable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_set=()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_lim=()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_map=&lt;function</span> <span class="pre">pass_var&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.add_variable" title="Permalink to this definition"></a></dt>
<dd><p>Add a variable to the ParameterDomain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>variable</strong> (<em>str</em>) – Name of the variable in parameter_init.</p></li>
<li><p><strong>var_set</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Discrete set constraints for the variable. The default is ().</p></li>
<li><p><strong>var_lim</strong> (<em>tuple</em><em>, </em><em>optional</em>) – Variable limits. The default is ().</p></li>
<li><p><strong>var_map</strong> (<em>function</em><em>, </em><em>optional</em>) – Preprocessing variable mapping, mapping the input to the parameter domain
to the actual variable value. May be used to e.g., encode different discrete
options listed as strings (‘arch1’, ‘arch2’) as integers (1, 2).
The default is pass_var, which passes the input variable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.add_variables">
<span class="sig-name descname"><span class="pre">add_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">*variables</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sets={}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lims={}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var_map=&lt;function</span> <span class="pre">pass_var&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.add_variables" title="Permalink to this definition"></a></dt>
<dd><p>Add a list of variables to the ParameterDomain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*variables</strong> (<em>str</em>) – Names of the variables in parameter_init</p></li>
<li><p><strong>sets</strong> (<em>dict</em><em>, </em><em>optional</em>) – Set constraints for the variables. The default is {}.</p></li>
<li><p><strong>lims</strong> (<em>dict</em><em>, </em><em>optional</em>) – Variable limits. The default is {}.</p></li>
<li><p><strong>var_map</strong> (<em>function</em><em>, </em><em>optional</em>) – Preprocessing variable mapping, mapping the input to the parameter domain
to the actual variable value. May be used to e.g., encode different discrete
options listed as strings (‘arch1’, ‘arch2’) as integers (1, 2).
The default is pass_var, which passes the input variable.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.get_map_vars">
<span class="sig-name descname"><span class="pre">get_map_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.get_map_vars" title="Permalink to this definition"></a></dt>
<dd><p>Get the mapped variables for x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.get_param_kwargs">
<span class="sig-name descname"><span class="pre">get_param_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.get_param_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Get kwargs for the parameter at the given value of x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.get_set_constraints">
<span class="sig-name descname"><span class="pre">get_set_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.get_set_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Get the set constraints at a value of the variables x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*x</strong> (<em>values</em>) – Values of the variables.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>set_constraints</strong> – Set constraint values (True or False) accross the variables.
If False, the constraint is met. If True, the constraint is violated.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.get_var_iters">
<span class="sig-name descname"><span class="pre">get_var_iters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolutions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.get_var_iters" title="Permalink to this definition"></a></dt>
<dd><p>Get iterables for each variable (provided given resolution).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resolution</strong> (<em>float</em><em>, </em><em>optional</em>) – Default resolution for the ranges. The default is 1.</p></li>
<li><p><strong>resolutions</strong> (<em>dict</em><em>, </em><em>optional</em>) – Dict of resolutions for each variable e.g. {‘var1’: 0.1}.
The default is {}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>var_iters</strong> – Dict or iterables for each variable.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">get_var_iters</span><span class="p">()</span>
<span class="go">{&#39;y&#39;: {1.0, 2.0, 3.0, 4.0}, &#39;x&#39;: array([ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10.])}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterDomain.get_x_defaults">
<span class="sig-name descname"><span class="pre">get_x_defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterDomain.get_x_defaults" title="Permalink to this definition"></a></dt>
<dd><p>Get default values for x from parameter.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterHistSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">ParameterHistSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">varnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterHistSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.sample.ParameterResultSample" title="fmdtools.sim.sample.ParameterResultSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterResultSample</span></code></a></p>
<p>Class for sampling parameters from Histories. Extends ParameterResultSample.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.define.container.parameter</span> <span class="kn">import</span> <span class="n">ExampleParameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span> <span class="o">=</span> <span class="n">ParameterDomain</span><span class="p">(</span><span class="n">ExampleParameter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">add_variables</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.analyze.history</span> <span class="kn">import</span> <span class="n">History</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hist</span> <span class="o">=</span> <span class="n">History</span><span class="p">({</span><span class="s1">&#39;scen1.a.y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">],</span> <span class="s1">&#39;scen1.time&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span> <span class="s1">&#39;scen2.a.y&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">10.0</span><span class="p">,</span> <span class="mf">20.0</span><span class="p">,</span> <span class="mf">30.0</span><span class="p">],</span> <span class="s1">&#39;scen2.time&#39;</span><span class="p">:[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phs</span> <span class="o">=</span> <span class="n">ParameterHistSample</span><span class="p">(</span><span class="n">hist</span><span class="p">,</span> <span class="s1">&#39;a.y&#39;</span><span class="p">,</span> <span class="n">paramdomain</span><span class="o">=</span><span class="n">expd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phs</span><span class="o">.</span><span class="n">get_param_ins</span><span class="p">(</span><span class="n">rep</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">phs</span><span class="o">.</span><span class="n">get_param_ins</span><span class="p">(</span><span class="n">rep</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[20.0]</span>
</pre></div>
</div>
<p># Add scenarios to the sample
&gt;&gt;&gt; phs.add_hist_times(‘default’, ‘scen1’)
&gt;&gt;&gt; [s.p for s in phs.scenarios()]
[{‘y’: 1.0}, {‘y’: 2.0}, {‘y’: 3.0}]</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterHistSample.add_hist_groups">
<span class="sig-name descname"><span class="pre">add_hist_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['default']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterHistSample.add_hist_groups" title="Permalink to this definition"></a></dt>
<dd><p>Add scenarios in the comp_groups over given replicates and times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comp_groups</strong> (<em>list</em>) – Names of the comparison group to get the values from.</p></li>
<li><p><strong>reps</strong> (<em>int/str/list</em>) – If int, the number of replicates to sample. If a list, the names of the
replicate scenarios to sample. If ‘all’, all replicates in the group.</p></li>
<li><p><strong>ts</strong> (<em>int/list/tuple/'all'</em>) – If ‘all’, returns all times. If int, returns a range of times with ts
resolution. If a list (of ints), uses as ts_to_sample. IF a tuple, returns
a range with the given input arguments.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Keyword arguments to .add_hist_scenario</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterHistSample.add_hist_reps">
<span class="sig-name descname"><span class="pre">add_hist_reps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ind_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterHistSample.add_hist_reps" title="Permalink to this definition"></a></dt>
<dd><p>Add scenarios in the scenario comp_group over given replicates and times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comp_group</strong> (<em>str</em>) – Name of the comparison group to get the value from.</p></li>
<li><p><strong>reps</strong> (<em>int/str/list</em>) – If int, the number of replicates to sample. If a list, the names of the
replicate scenarios to sample. If ‘all’, all replicates in the group.</p></li>
<li><p><strong>ts</strong> (<em>int/list/tuple/'all'</em>) – If ‘all’, returns all times. If int, returns a range of times with ts
resolution. If a list (of ints), uses as ts_to_sample. IF a tuple, returns
a range with the given input arguments.</p></li>
<li><p><strong>ind_seeds</strong> (<em>bool</em>) – Whether to give replicates independent seeds. The default is True.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Keyword arguments to .add_hist_scenario</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterHistSample.add_hist_scenario">
<span class="sig-name descname"><span class="pre">add_hist_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hist'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterHistSample.add_hist_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Add a scenario from a history (extends add_res_scenario).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterHistSample.add_hist_times">
<span class="sig-name descname"><span class="pre">add_hist_times</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_group</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterHistSample.add_hist_times" title="Permalink to this definition"></a></dt>
<dd><p>Add scenarios in the scenario comp_group and replicate from the given times.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comp_group</strong> (<em>str</em>) – Name of the comparison group to get the value from.</p></li>
<li><p><strong>rep</strong> (<em>str</em>) – Name of the replicate scenario to get the value from.</p></li>
<li><p><strong>ts</strong> (<em>int/list/tuple/'all'</em>) – If ‘all’, returns all times. If int, returns a range of times with ts
resolution. If a list (of ints), uses as ts_to_sample. IF a tuple, returns
a range with the given input arguments.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Keyword arguments to .add_hist_scenario</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterResultSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">ParameterResultSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">varnames</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comp_groups</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterResultSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.sample.ParameterSample" title="fmdtools.sim.sample.ParameterSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">ParameterSample</span></code></a></p>
<p>Class for sampling parameters from Results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vars</strong> (<em>tuple</em>) – Variables to sample from the Result.</p></li>
<li><p><strong>res_to_sample</strong> (<a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.result.Result" title="fmdtools.analyze.result.Result"><em>Result</em></a>) – Subset of input result associated with the variables/groups to sample.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.define.container.parameter</span> <span class="kn">import</span> <span class="n">ExampleParameter</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span> <span class="o">=</span> <span class="n">ParameterDomain</span><span class="p">(</span><span class="n">ExampleParameter</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">expd</span><span class="o">.</span><span class="n">add_variables</span><span class="p">(</span><span class="s2">&quot;y&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.analyze.result</span> <span class="kn">import</span> <span class="n">Result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">Result</span><span class="p">({</span><span class="s1">&#39;scen1.a.y&#39;</span><span class="p">:</span> <span class="mf">1.0</span><span class="p">,</span> <span class="s1">&#39;scen2.a.y&#39;</span><span class="p">:</span> <span class="mf">2.0</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prs</span> <span class="o">=</span> <span class="n">ParameterResultSample</span><span class="p">(</span><span class="n">res</span><span class="p">,</span> <span class="s1">&#39;a.y&#39;</span><span class="p">,</span> <span class="n">paramdomain</span><span class="o">=</span><span class="n">expd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prs</span><span class="o">.</span><span class="n">get_param_ins</span><span class="p">(</span><span class="n">rep</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="go">[1.0]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prs</span><span class="o">.</span><span class="n">get_param_ins</span><span class="p">(</span><span class="n">rep</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[2.0]</span>
</pre></div>
</div>
<p># prs.add_res_scenario can be used to add a given scenario from the result.
&gt;&gt;&gt; prs.add_res_scenario(rep=0)
&gt;&gt;&gt; prs.scenarios()
[ParameterScenario(sequence={}, times=(), p={‘y’: 1.0}, r={}, sp={}, prob=1.0, inputparams={‘comp_group’: ‘default’, ‘rep’: 0}, rangeid=’’, name=’res_0’)]</p>
<p># prs.add_res_reps can be used to add replicate scenarios from the results.
&gt;&gt;&gt; prs.add_res_reps(reps=’all’)
&gt;&gt;&gt; prs
ParameterSample of scenarios:</p>
<blockquote>
<div><ul class="simple">
<li><p>res_0</p></li>
<li><p>res_1</p></li>
<li><p>res_2</p></li>
</ul>
</div></blockquote>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterResultSample.add_res_reps">
<span class="sig-name descname"><span class="pre">add_res_reps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'res'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ind_seeds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterResultSample.add_res_reps" title="Permalink to this definition"></a></dt>
<dd><p>Add multiple scenario replicates from the Restul to the ParameterResultSample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comp_group</strong> (<em>str</em>) – Name of the comparison group to get the value from.</p></li>
<li><p><strong>reps</strong> (<em>int/str/list</em>) – If int, the number of replicates to sample. If a list, the names of the
replicate scenarios to sample. If ‘all’, all replicates in the group.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name prefix for the scenarios. The default is ‘res’.</p></li>
<li><p><strong>ind_seeds</strong> (<em>bool</em>) – Whether to give replicates independent seeds. The default is True.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Keyword arguments to ParameterScenario.add_res_scenario.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterResultSample.add_res_scenario">
<span class="sig-name descname"><span class="pre">add_res_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'res'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterResultSample.add_res_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Add a scenario to the ParameterResultSample from the Result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comp_group</strong> (<em>str</em>) – Name of the comparison group to get the value from.</p></li>
<li><p><strong>rep</strong> (<em>str</em>) – Name of the replicate scenario to get the value from.</p></li>
<li><p><strong>t</strong> (<em>int/None</em><em>, </em><em>optional</em>) – If a History, the time to get. The default is None.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name prefix for the scenario. The default is ‘res’.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Keyword arguments to ParameterSample.add_variable_scenario.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterResultSample.get_param_ins">
<span class="sig-name descname"><span class="pre">get_param_ins</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">comp_group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rep</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterResultSample.get_param_ins" title="Permalink to this definition"></a></dt>
<dd><p>Get the parameter values at the given Result scenario.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>comp_group</strong> (<em>str</em>) – Name of the comparison group to get the value from.</p></li>
<li><p><strong>rep</strong> (<em>str</em>) – Name of the replicate scenario to get the value from.</p></li>
<li><p><strong>t</strong> (<em>int/None</em><em>, </em><em>optional</em>) – If a History, the time to get. The default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>param_list</strong> – List of variable values (self.vars) for the given group and replicate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">ParameterSample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">paramdomain=ParameterDomain</span> <span class="pre">with:</span>&#160; <span class="pre">-</span> <span class="pre">variables:</span> <span class="pre">{}</span>&#160; <span class="pre">-</span> <span class="pre">constants:</span> <span class="pre">{}</span>&#160; <span class="pre">-</span> <span class="pre">parameter_initializer:</span> <span class="pre">Parameter</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp={}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.sample.BaseSample" title="fmdtools.sim.sample.BaseSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSample</span></code></a></p>
<p>Class for sampling parameters and other immutable model attributes.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.seed">
<span class="sig-name descname"><span class="pre">seed</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.seed" title="Permalink to this definition"></a></dt>
<dd><p>Seed for random sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.seedsequence">
<span class="sig-name descname"><span class="pre">seedsequence</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.seedsequence" title="Permalink to this definition"></a></dt>
<dd><p>Corresponding seed sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ramdom.SeedSequence</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.sp">
<span class="sig-name descname"><span class="pre">sp</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.sp" title="Permalink to this definition"></a></dt>
<dd><p>Non-default simparam arguments</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.paramdomain">
<span class="sig-name descname"><span class="pre">paramdomain</span></span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.paramdomain" title="Permalink to this definition"></a></dt>
<dd><p>Parameter domain object to sample</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ParamDomain</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.add_variable_ranges">
<span class="sig-name descname"><span class="pre">add_variable_ranges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">combmethod</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'product'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comb_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n_samp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'range'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">rep_kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.add_variable_ranges" title="Permalink to this definition"></a></dt>
<dd><p>Combine and add a set of ranges to the ParamSample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>combmethod</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the combination method (‘product’, ‘orthogonal’, ‘random’) for the
class. The default is ‘product’.</p></li>
<li><p><strong>comb_kwargs</strong> (<em>dict</em><em>, </em><em>optional</em>) – Keyword arguments to the <a href="#id31"><span class="problematic" id="id32">self.combine_</span></a>’methodname’. The default is {}.</p></li>
<li><p><strong>n_samp</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of values to randomly sample from the set of combinations.
The default is False, which samples all.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name for the range. The default is ‘range’.</p></li>
<li><p><strong>**rep_kwargs</strong> (<em>kwargs</em>) – kwargs to add_variable_replicates (seed, weight, etc.).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">add_variable_ranges</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span>
<span class="go">ParameterSample of scenarios:</span>
<span class="go"> - rep0_range_0</span>
<span class="go"> - rep0_range_1</span>
<span class="go"> - rep0_range_2</span>
<span class="go"> - rep0_range_3</span>
<span class="go"> - rep0_range_4</span>
<span class="go"> - rep0_range_5</span>
<span class="go"> - rep0_range_6</span>
<span class="go"> - rep0_range_7</span>
<span class="go"> - rep0_range_8</span>
<span class="go"> - rep0_range_9</span>
<span class="go"> - ... (44 total)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps2</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps2</span><span class="o">.</span><span class="n">add_variable_ranges</span><span class="p">(</span><span class="n">n_samp</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps2</span>
<span class="go">ParameterSample of scenarios:</span>
<span class="go"> - rep0_range_0</span>
<span class="go"> - rep0_range_1</span>
<span class="go"> - rep0_range_2</span>
<span class="go"> - rep0_range_3</span>
<span class="go"> - rep0_range_4</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.add_variable_replicates">
<span class="sig-name descname"><span class="pre">add_variable_replicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x_combos</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replicates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed_comb</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'shared'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'var'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.add_variable_replicates" title="Permalink to this definition"></a></dt>
<dd><p>Add replicates for the given cominations of variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x_combos</strong> (<em>list</em>) – List of combinations of variable values. [x_1, x_2…]. If empty, the
default values of x are used.</p></li>
<li><p><strong>replicates</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of replicates to add of the variable. The default is 1.</p></li>
<li><p><strong>seed_comb</strong> (<em>str</em><em>, </em><em>optional</em>) – How to combine seeds (‘shared’ or ‘independent’). ‘shared’ uses the same
seed for each value while ‘independent’ uses different seeds over all
variable values. The default is ‘shared’.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name prefix for the set of replicates. The default is ‘var’.</p></li>
<li><p><strong>weight</strong> (<em>float</em><em>, </em><em>optional</em>) – Total weight for the replicates (i.e., total probability to divide between
samples). The default is 1.0.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">add_variable_replicates</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span>
<span class="go">ParameterSample of scenarios:</span>
<span class="go"> - rep0_var_0</span>
<span class="go"> - rep0_var_1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen0</span> <span class="o">=</span><span class="n">ex_ps</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen0</span><span class="o">.</span><span class="n">prob</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen0</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen0</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen0</span><span class="o">.</span><span class="n">inputparams</span>
<span class="go">{0: 1, 1: 1}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen1</span> <span class="o">=</span><span class="n">ex_ps</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen1</span><span class="o">.</span><span class="n">prob</span>
<span class="go">0.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen1</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen1</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scen1</span><span class="o">.</span><span class="n">inputparams</span>
<span class="go">{0: 2, 1: 2}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.add_variable_scenario">
<span class="sig-name descname"><span class="pre">add_variable_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'var'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputparams</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.add_variable_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Add a scenario to the ParamSample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*x</strong> (<em>vars</em>) – Values of the variables defined in the parameter domain.</p></li>
<li><p><strong>seed</strong> (<em>int</em><em>, </em><em>optional</em>) – Seed to include in the ParameterScenario. The default is False.</p></li>
<li><p><strong>sp</strong> (<em>dict</em><em>, </em><em>optional</em>) – SimParam arguments to the ParameterScenario. The default is {}.</p></li>
<li><p><strong>weight</strong> (<em>float</em><em>, </em><em>optional</em>) – Weight (probability) allocated to the scenario. The default is 1.0.</p></li>
<li><p><strong>name</strong> (<em>str</em><em>, </em><em>optional</em>) – Name to assign the scenario. The default is ‘param’.</p></li>
<li><p><strong>inputparams</strong> (<em>dict</em><em>, </em><em>optional</em>) – Input parameters (if different from Parameter input).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">add_variable_scenario</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span>
<span class="go">ParameterSample of scenarios:</span>
<span class="go"> - var_0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;z&#39;</span><span class="p">]</span>
<span class="go">20</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;y&#39;</span><span class="p">]</span>
<span class="go">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">scenarios</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">p</span><span class="p">[</span><span class="s1">&#39;x&#39;</span><span class="p">]</span>
<span class="go">2</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.combine_orthogonal">
<span class="sig-name descname"><span class="pre">combine_orthogonal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolutions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.combine_orthogonal" title="Permalink to this definition"></a></dt>
<dd><p>Create combinations of orthogonal arrays from the parameter domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resolution</strong> (<em>float</em><em>, </em><em>optional</em>) – Default resolution for the ranges. The default is 1.</p></li>
<li><p><strong>resolutions</strong> (<em>dict</em><em>, </em><em>optional</em>) – Resolution for each individual range if not default. The default is {}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>x_combos</strong> – List of combinations of x.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">combine_orthogonal</span><span class="p">()</span>
<span class="go">[[1.0, 1.0], [2.0, 1.0], [3.0, 1.0], [4.0, 1.0], [3.0, 0], [3.0, 1], [3.0, 2], [3.0, 3], [3.0, 4], [3.0, 5], [3.0, 6], [3.0, 7], [3.0, 8], [3.0, 9], [3.0, 10]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.combine_product">
<span class="sig-name descname"><span class="pre">combine_product</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">resolution</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolutions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.combine_product" title="Permalink to this definition"></a></dt>
<dd><p>Find all combinations of possible range values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resolution</strong> (<em>float</em><em>, </em><em>optional</em>) – Default resolution for the ranges. The default is 1.</p></li>
<li><p><strong>resolutions</strong> (<em>dict</em><em>, </em><em>optional</em>) – Resolution for each individual range if not default. The default is {}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>x_combos</strong> – List of combinations of x.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">combine_product</span><span class="p">()</span>
<span class="go">[(1.0, 0), (1.0, 1), (1.0, 2), (1.0, 3), (1.0, 4), (1.0, 5), (1.0, 6), (1.0, 7), (1.0, 8), (1.0, 9), (1.0, 10), (2.0, 0), (2.0, 1), (2.0, 2), (2.0, 3), (2.0, 4), (2.0, 5), (2.0, 6), (2.0, 7), (2.0, 8), (2.0, 9), (2.0, 10), (3.0, 0), (3.0, 1), (3.0, 2), (3.0, 3), (3.0, 4), (3.0, 5), (3.0, 6), (3.0, 7), (3.0, 8), (3.0, 9), (3.0, 10), (4.0, 0), (4.0, 1), (4.0, 2), (4.0, 3), (4.0, 4), (4.0, 5), (4.0, 6), (4.0, 7), (4.0, 8), (4.0, 9), (4.0, 10)]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.combine_random">
<span class="sig-name descname"><span class="pre">combine_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_combos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.combine_random" title="Permalink to this definition"></a></dt>
<dd><p>Create combinations of random variables from the parameter domain.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_combos</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of combinations. The default is 1.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>x_combos</strong> – List of list of combinations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span> <span class="o">=</span> <span class="n">ParameterSample</span><span class="p">(</span><span class="n">expd</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_ps</span><span class="o">.</span><span class="n">combine_random</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">[[2.0, 9.504636963259353]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.ParameterSample.scenarios">
<span class="sig-name descname"><span class="pre">scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.ParameterSample.scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Return list of scenarios that make up the ParameterSample.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">SampleApproach</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemaps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">def_mdl_phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.sample.BaseSample" title="fmdtools.sim.sample.BaseSample"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSample</span></code></a></p>
<p>Class for defining an agglomeration of fault samples accross an entire model.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.mdl">
<span class="sig-name descname"><span class="pre">mdl</span></span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.mdl" title="Permalink to this definition"></a></dt>
<dd><p>Model</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="fmdtools.define.block.html#fmdtools.define.block.base.Simulable" title="fmdtools.define.block.base.Simulable">Simulable</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.phasemaps">
<span class="sig-name descname"><span class="pre">phasemaps</span></span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.phasemaps" title="Permalink to this definition"></a></dt>
<dd><p>Dict of phasemaps {‘phasemapname’: PhaseMap} which map to the various functions
of the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.faultdomains">
<span class="sig-name descname"><span class="pre">faultdomains</span></span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.faultdomains" title="Permalink to this definition"></a></dt>
<dd><p>Dict of the faultdomains to sample {‘domainname’: FaultDomain}</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.faultsamples">
<span class="sig-name descname"><span class="pre">faultsamples</span></span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.faultsamples" title="Permalink to this definition"></a></dt>
<dd><p>Dict of the FaultSamples making up the approach {‘samplename’: FaultSample}</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.add_faultdomain">
<span class="sig-name descname"><span class="pre">add_faultdomain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.add_faultdomain" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate and associates a FaultDomain with the SampleApproach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name to give the faultdomain (in faultdomains).</p></li>
<li><p><strong>add_method</strong> (<em>str</em>) – Method to add faults to the faultdomain with
(e.g., to call Faultdomain.add_all, use “all”)</p></li>
<li><p><strong>*args</strong> (<em>args</em>) – Arguments to add_method.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Keyword arguments to add_method</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">SampleApproach</span><span class="p">(</span><span class="n">Drone</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_faultdomain</span><span class="p">(</span><span class="s2">&quot;all_faults&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">SampleApproach for drone with:</span>
<span class="go"> faultdomains: all_faults</span>
<span class="go"> faultsamples:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">faultdomains</span><span class="p">[</span><span class="s1">&#39;all_faults&#39;</span><span class="p">]</span>
<span class="go">FaultDomain with faults:</span>
<span class="go"> -(&#39;manage_health&#39;, &#39;lostfunction&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;nocharge&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;lowcharge&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;s1p1_short&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;s1p1_degr&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;s1p1_break&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;s1p1_nocharge&#39;)</span>
<span class="go"> -(&#39;store_ee&#39;, &#39;s1p1_lowcharge&#39;)</span>
<span class="go"> -(&#39;dist_ee&#39;, &#39;short&#39;)</span>
<span class="go"> -(&#39;dist_ee&#39;, &#39;degr&#39;)</span>
<span class="go"> -...more</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.add_faultdomains">
<span class="sig-name descname"><span class="pre">add_faultdomains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">faultdomains</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.add_faultdomains" title="Permalink to this definition"></a></dt>
<dd><p>Add dict of faultdomains to the SampleApproach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**faultdomains</strong> (<em>tuple</em>) – FaultDomains to add to the SampleApproach and their arguments.
Has structure::
{‘fd_name’: (<a href="#id15"><span class="problematic" id="id16">*</span></a>args, <a href="#id17"><span class="problematic" id="id18">**</span></a>kwargs)}
where args and kwargs are arguments/kwargs to SampleApproach.add_faultdomain
(after name).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.add_faultsample">
<span class="sig-name descname"><span class="pre">add_faultsample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">add_method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultdomains</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.add_faultsample" title="Permalink to this definition"></a></dt>
<dd><p>Instantiate and associate a FaultSample with the SampleApproach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the faultsample.</p></li>
<li><p><strong>add_method</strong> (<em>str</em>) – Method to add scenarios to the FaultSample with.
(e.g., to call Faultdomain.add_fault_times, use “fault_times”)</p></li>
<li><p><strong>faultdomain</strong> (<em>str</em><em> or </em><em>list</em>) – Name of faultdomain to sample from (must be in SampleApproach already).</p></li>
<li><p><strong>*args</strong> (<em>args</em>) – args to add_method.</p></li>
<li><p><strong>phasemap</strong> (<em>str/PhaseMap/dict/tuple</em><em>, </em><em>optional</em>) – Phasemap to instantiate the FaultSample with. If a dict/tuple is provided,
uses a PhaseMap with the dict/tuple as phases. The default is {}.
If a list, passes to JointFaultSample</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – add_method kwargs.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">examples.multirotor.drone_mdl_rural</span> <span class="kn">import</span> <span class="n">Drone</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">SampleApproach</span><span class="p">(</span><span class="n">Drone</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_faultdomain</span><span class="p">(</span><span class="s2">&quot;all_faults&quot;</span><span class="p">,</span> <span class="s2">&quot;all&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">add_faultsample</span><span class="p">(</span><span class="s2">&quot;start_times&quot;</span><span class="p">,</span> <span class="s2">&quot;fault_times&quot;</span><span class="p">,</span> <span class="s2">&quot;all_faults&quot;</span><span class="p">,</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span>
<span class="go">SampleApproach for drone with:</span>
<span class="go"> faultdomains: all_faults</span>
<span class="go"> faultsamples: start_times</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span><span class="o">.</span><span class="n">faultsamples</span><span class="p">[</span><span class="s1">&#39;start_times&#39;</span><span class="p">]</span>
<span class="go">FaultSample of scenarios:</span>
<span class="go"> - manage_health_lostfunction_t1</span>
<span class="go"> - manage_health_lostfunction_t3</span>
<span class="go"> - manage_health_lostfunction_t4</span>
<span class="go"> - store_ee_nocharge_t1</span>
<span class="go"> - store_ee_nocharge_t3</span>
<span class="go"> - store_ee_nocharge_t4</span>
<span class="go"> - store_ee_lowcharge_t1</span>
<span class="go"> - store_ee_lowcharge_t3</span>
<span class="go"> - store_ee_lowcharge_t4</span>
<span class="go"> - store_ee_s1p1_short_t1</span>
<span class="go"> - ... (171 total)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.add_faultsamples">
<span class="sig-name descname"><span class="pre">add_faultsamples</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">faultsamples</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.add_faultsamples" title="Permalink to this definition"></a></dt>
<dd><p>Add dict of faultsamples to the SampleApproach.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>**faultsamples</strong> (<em>tuple</em>) – FaultSamples to add to othe SampleApproach and their arguments.
Has structure::
fs_name = (<a href="#id19"><span class="problematic" id="id20">*</span></a>args, <a href="#id21"><span class="problematic" id="id22">**</span></a>kwargs)}
where args and kwargs are arguments/kwargs to SampleApproach.add_faultsample
(after name).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.prune_scenarios">
<span class="sig-name descname"><span class="pre">prune_scenarios</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scen_var='rate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comparator=&lt;ufunc</span> <span class="pre">'greater'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value=0.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.prune_scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Prune scenarios from the FaultSample.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scen_var</strong> (<em>str</em><em>, </em><em>optional</em>) – Variable to prune. The default is ‘rate’.</p></li>
<li><p><strong>comparator</strong> (<em>method</em><em>, </em><em>optional</em>) – Numpy method. The default is np.greater_equal.</p></li>
<li><p><strong>value</strong> (<em>float</em><em>, </em><em>optional</em>) – Value to compare against. The default is 0.0.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.scenarios">
<span class="sig-name descname"><span class="pre">scenarios</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.scenarios" title="Permalink to this definition"></a></dt>
<dd><p>Get all scenarios in the SampleApproach.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.sample.SampleApproach.times">
<span class="sig-name descname"><span class="pre">times</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.SampleApproach.times" title="Permalink to this definition"></a></dt>
<dd><p>Get all sampletimes covered by the SampleApproach.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.combine_orthogonal">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">combine_orthogonal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaults</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ranges</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.combine_orthogonal" title="Permalink to this definition"></a></dt>
<dd><p>Create an orthogonal arrays (lists) over the given ranges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>defaults</strong> (<em>tuple</em>) – Default variables</p></li>
<li><p><strong>ranges</strong> (<em>list</em>) – List of lists of non-default values for each value</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>samples</strong> – List of lists of orthogonal x.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">combine_orthogonal</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span><span class="mi">2</span><span class="p">],</span> <span class="p">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span>
<span class="go">[[0, 1], [2, 1], [1, 3], [1, 4]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.combine_random">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">combine_random</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ranges</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_combos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.combine_random" title="Permalink to this definition"></a></dt>
<dd><p>Create random lists from the given ranges.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ranges</strong> (<em>list</em>) – List of potential values (sets) or limits (tuples).</p></li>
<li><p><strong>seed</strong> (<em>seed</em><em>, </em><em>optional</em>) – Seed to sample with. The default is 0.</p></li>
<li><p><strong>num_combos</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of combinations to sample. The default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>x_combos</strong> – List of potential combinations.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">x_comb</span> <span class="o">=</span> <span class="n">combine_random</span><span class="p">([{</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">},</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_comb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">x_comb</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.pass_var">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">pass_var</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.pass_var" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.same_mode">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">same_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modename1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modename2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.same_mode" title="Permalink to this definition"></a></dt>
<dd><p>Check if modename1 and modename2 are the same.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.sample_times_even">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">sample_times_even</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">numpts</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.sample_times_even" title="Permalink to this definition"></a></dt>
<dd><p>Get sample time for the number of points from sampling evenly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>list</em>) – Times to sample.</p></li>
<li><p><strong>numpts</strong> (<em>int</em>) – Number of points to sample.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>sampletimes</strong> (<em>list</em>) – List of times to sample</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – Weights.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sample_times_even</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">,</span> <span class="mf">4.0</span><span class="p">],</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">([1.0, 3.0], [0.5, 0.5])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.sample_times_quad">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">sample_times_quad</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">times</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nodes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.sample_times_quad" title="Permalink to this definition"></a></dt>
<dd><p>Get the sample times for the given quadrature defined by nodes and weights.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>times</strong> (<em>list</em>) – Times to sample.</p></li>
<li><p><strong>nodes</strong> (<em>nodes</em>) – quadrature nodes (ranging between -1 and 1)</p></li>
<li><p><strong>weights</strong> (<em>weights</em>) – corresponding quadrature weights</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>sampletimes</strong> (<em>list</em>) – List of times to sample</p></li>
<li><p><strong>weights</strong> (<em>list</em>) – Weights.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">sample_times_quad</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
<span class="go">([1, 3], [0.5, 0.5])</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.sample.x_to_kwargs">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.sample.</span></span><span class="sig-name descname"><span class="pre">x_to_kwargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">constants</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">variables</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.sample.x_to_kwargs" title="Permalink to this definition"></a></dt>
<dd><p>Convert x over the defined variables into a set of kwargs.</p>
</dd></dl>

</section>
<section id="module-fmdtools.sim.search">
<span id="fmdtools-sim-search"></span><h2>fmdtools.sim.search<a class="headerlink" href="#module-fmdtools.sim.search" title="Permalink to this heading"></a></h2>
<p>Description: Functions and Classes to enable optimization and search of fault model states and parameters.</p>
<dl class="simple">
<dt>Classes:</dt><dd><ul class="simple">
<li><p><a class="reference internal" href="#fmdtools.sim.search.ProblemArchitecture" title="fmdtools.sim.search.ProblemArchitecture"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProblemArchitecture</span></code></a>:  Enables the representation of combined joint optimization problems</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.search.DynamicInterface" title="fmdtools.sim.search.DynamicInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicInterface</span></code></a>:  Creates an interface for model simulations for dynamic optimization of a single sim</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.search.SimpleProblem" title="fmdtools.sim.search.SimpleProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleProblem</span></code></a>: Creates an interface for simple optimazation problem without any model constructs</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.search.DisturbanceProblem" title="fmdtools.sim.search.DisturbanceProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">DisturbanceProblem</span></code></a>: Enables optimizing disturbances that occur at a set time</p></li>
<li><p><a class="reference internal" href="#fmdtools.sim.search.SingleFaultScenarioProblem" title="fmdtools.sim.search.SingleFaultScenarioProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">SingleFaultScenarioProblem</span></code></a>: Enables optimizing the time of a given fault scenario</p></li>
</ul>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">BaseConnector</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseConnector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dataobject</span></code></p>
<p>Base class for connectors.</p>
<p>Connectectors are used in ProblemArchitectures to link the outputs of one problem
as the inputs to another.</p>
<p>…</p>
<p>name : name to give the Connector</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseConnector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.BaseConnector.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseObjCon">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">BaseObjCon</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseObjCon" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dataobject</span></code></p>
<p>Base class for objectives and constraints.</p>
<p>…</p>
<dl class="simple">
<dt>name<span class="classifier">str</span></dt><dd><p>Name of the objective/constraint</p>
</dd>
<dt>value<span class="classifier">float</span></dt><dd><p>Value of the objective/constraint</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseObjCon.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.BaseObjCon.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseObjCon.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.BaseObjCon.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">BaseProblem</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base optimization problem.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.variables">
<span class="sig-name descname"><span class="pre">variables</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.variables" title="Permalink to this definition"></a></dt>
<dd><p>Variables being optimized.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.objectives">
<span class="sig-name descname"><span class="pre">objectives</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.objectives" title="Permalink to this definition"></a></dt>
<dd><p>Objectives returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.constraints">
<span class="sig-name descname"><span class="pre">constraints</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.constraints" title="Permalink to this definition"></a></dt>
<dd><p>Constraints returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.add_constraint">
<span class="sig-name descname"><span class="pre">add_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conclass=&lt;class</span> <span class="pre">'fmdtools.sim.search.Constraint'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.add_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Add a constraint to the Problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.add_constraint_callable">
<span class="sig-name descname"><span class="pre">add_constraint_callable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.add_constraint_callable" title="Permalink to this definition"></a></dt>
<dd><p>Add callable constraint function with name name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.add_objective">
<span class="sig-name descname"><span class="pre">add_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objclass=&lt;class</span> <span class="pre">'fmdtools.sim.search.Objective'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.add_objective" title="Permalink to this definition"></a></dt>
<dd><p>Add an objective to the Problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.add_objective_callable">
<span class="sig-name descname"><span class="pre">add_objective_callable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.add_objective_callable" title="Permalink to this definition"></a></dt>
<dd><p>Add callable objective function with name.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.call_constraint">
<span class="sig-name descname"><span class="pre">call_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">constraint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.call_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Call a given constraint at x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.call_objective">
<span class="sig-name descname"><span class="pre">call_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objective</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.call_objective" title="Permalink to this definition"></a></dt>
<dd><p>Call a given objective at x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.call_outputs">
<span class="sig-name descname"><span class="pre">call_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.call_outputs" title="Permalink to this definition"></a></dt>
<dd><p>Get all outputs at the given value of x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*x</strong> (<em>values</em>) – Variable values</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>objectives</strong> (<em>list</em>) – values of the objectives</p></li>
<li><p><strong>constraints</strong> (<em>list</em>) – values of the constraints</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.current_x">
<span class="sig-name descname"><span class="pre">current_x</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.current_x" title="Permalink to this definition"></a></dt>
<dd><p>Get the current variable value x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.get_constraints">
<span class="sig-name descname"><span class="pre">get_constraints</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.get_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Get all current constraint values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.get_default_x">
<span class="sig-name descname"><span class="pre">get_default_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.get_default_x" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.get_objectives">
<span class="sig-name descname"><span class="pre">get_objectives</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.get_objectives" title="Permalink to this definition"></a></dt>
<dd><p>Get all current objective values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.log_hist">
<span class="sig-name descname"><span class="pre">log_hist</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.log_hist" title="Permalink to this definition"></a></dt>
<dd><p>Log the history for objectives, constraints, time, etc.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.log_time">
<span class="sig-name descname"><span class="pre">log_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.log_time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.name_repr">
<span class="sig-name descname"><span class="pre">name_repr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.name_repr" title="Permalink to this definition"></a></dt>
<dd><p>Single-line name representation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.new_x">
<span class="sig-name descname"><span class="pre">new_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.new_x" title="Permalink to this definition"></a></dt>
<dd><p>Check if a given x is the same as the current value of x.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.prob_repr">
<span class="sig-name descname"><span class="pre">prob_repr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.prob_repr" title="Permalink to this definition"></a></dt>
<dd><p>Representation of the problem variables, objectives, constraints.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.time_execution">
<span class="sig-name descname"><span class="pre">time_execution</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.time_execution" title="Permalink to this definition"></a></dt>
<dd><p>Time the amount of time it takes to update the problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*x</strong> (<em>vars</em>) – Variable values to execute at, optional. If not provided, uses the current
values.</p></li>
<li><p><strong>reps</strong> (<em>int</em><em>, </em><em>optional</em>) – Number of replicates to average/loop over. The default is 1.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>t_ave</strong> – Avarage time over all replicates</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseProblem.update_variables">
<span class="sig-name descname"><span class="pre">update_variables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseProblem.update_variables" title="Permalink to this definition"></a></dt>
<dd><p>Update variables at x.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">BaseSimProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseProblem" title="fmdtools.sim.search.BaseProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseProblem</span></code></a></p>
<p>Base optimization problem for optimizing over simulations.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.prop_method">
<span class="sig-name descname"><span class="pre">prop_method</span></span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.prop_method" title="Permalink to this definition"></a></dt>
<dd><p>Method in propagate to call.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.add_history_constraint">
<span class="sig-name descname"><span class="pre">add_history_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.add_history_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Add an objective corresponding to a given history attribute.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.add_history_objective">
<span class="sig-name descname"><span class="pre">add_history_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.add_history_objective" title="Permalink to this definition"></a></dt>
<dd><p>Add an objective corresponding to a given history attribute.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.add_result_constraint">
<span class="sig-name descname"><span class="pre">add_result_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.add_result_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Add an objective corresponding to a possible desired_result.</p>
<p>Associates a callable to the problem with name ‘name’ which may be called to
evaluate the constraint at a value of x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name to give the constraint.</p></li>
<li><p><strong>varname</strong> (<em>str</em>) – Name of the variable to get for the constraint.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Arguments to ResultConstraint</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.add_result_objective">
<span class="sig-name descname"><span class="pre">add_result_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">varname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.add_result_objective" title="Permalink to this definition"></a></dt>
<dd><p>Add an objective corresponding to a possible desired_result.</p>
<p>Associates a callable to the problem with name ‘name’ which may be called to
evaluate the objective at a value of x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name to give the objective</p></li>
<li><p><strong>varname</strong> (<em>str</em>) – Name of the variable to get for the variable.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – Arguments to ResultObjective</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.get_end_time">
<span class="sig-name descname"><span class="pre">get_end_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.get_end_time" title="Permalink to this definition"></a></dt>
<dd><p>Get the end_time for the simulation that minimizes simulation time.</p>
<p>Used so that simulations only run until the last objective is called, rather
than the full set of potential timesteps.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>end_time</strong> – Simulation time to simulate to.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.obj_con_des_res">
<span class="sig-name descname"><span class="pre">obj_con_des_res</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.obj_con_des_res" title="Permalink to this definition"></a></dt>
<dd><p>Get the desired_result argument for the problem given objectives/constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>des_res</strong> – desired_result argument to prop_method.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.BaseSimProblem.update_objectives">
<span class="sig-name descname"><span class="pre">update_objectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.BaseSimProblem.update_objectives" title="Permalink to this definition"></a></dt>
<dd><p>Update objectives/constraints by simulating the model at x.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">Constraint</span></span><a class="headerlink" href="#fmdtools.sim.search.Constraint" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.Objective" title="fmdtools.sim.search.Objective"><code class="xref py py-class docutils literal notranslate"><span class="pre">Objective</span></code></a></p>
<p>Base class for constraints which derive from results.</p>
<p>…</p>
<dl class="simple">
<dt>threshold<span class="classifier">float</span></dt><dd><p>Theshold for the constraint. Default is 0.0</p>
</dd>
<dt>comparator<span class="classifier">str</span></dt><dd><p>Whether the constraint is ‘greater’ or ‘less’.</p>
</dd>
<dt>satisfied<span class="classifier">bool</span></dt><dd><p>Whether the constraint is satisfied.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.comparator">
<span class="sig-name descname"><span class="pre">comparator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.Constraint.comparator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.con_from_value">
<span class="sig-name descname"><span class="pre">con_from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.Constraint.con_from_value" title="Permalink to this definition"></a></dt>
<dd><p>Get the constraint given the value of its variable given threshold.</p>
<dl class="simple">
<dt>By default, constraints follow the form:</dt><dd><p>g(x) = threshold - value &gt; 0.0 for ‘greater’ constraints or
g(x) = value - theshold &gt; 0.0 for ‘less’ constraints.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>value</strong> (<em>float</em>) – Variable value corresponding to the constraint</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>con</strong> – Constraint function at value.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.Constraint.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.negative">
<span class="sig-name descname"><span class="pre">negative</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.Constraint.negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.satisfied">
<span class="sig-name descname"><span class="pre">satisfied</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.Constraint.satisfied" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.Constraint.threshold" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.Constraint.update" title="Permalink to this definition"></a></dt>
<dd><p>Update with given value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Constraint.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.Constraint.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ConstraintConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ConstraintConnector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ConstraintConnector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.ObjectiveConnector" title="fmdtools.sim.search.ObjectiveConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">ObjectiveConnector</span></code></a></p>
<p>Class for linking constraints. Same as VariableConnector but used differently.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ConstraintConnector.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.search.ConstraintConnector.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ConstraintConnector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.ConstraintConnector.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ConstraintConnector.values">
<span class="sig-name descname"><span class="pre">values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#fmdtools.sim.search.ConstraintConnector.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.DisturbanceProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">DisturbanceProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">disturbances</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DisturbanceProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.ScenarioProblem" title="fmdtools.sim.search.ScenarioProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScenarioProblem</span></code></a></p>
<p>Class for optimizing disturbances that occur at a set time.</p>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.DisturbanceProblem.gen_scenario">
<span class="sig-name descname"><span class="pre">gen_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DisturbanceProblem.gen_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Generate the scenario to simulate in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) – Fault scenario time.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scen</strong> – SingleFaultScenario to simulate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#fmdtools.sim.scenario.SingleFaultScenario" title="fmdtools.sim.scenario.SingleFaultScenario">SingleFaultScenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.DisturbanceProblem.get_start_time">
<span class="sig-name descname"><span class="pre">get_start_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DisturbanceProblem.get_start_time" title="Permalink to this definition"></a></dt>
<dd><p>Get the scenario start time to copy the model at.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">DynamicInterface</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mdl_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_max</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">track</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">run_stochastic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'track_pdf'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_end_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Interface for dynamic search of model states (e.g., AST).</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.t">
<span class="sig-name descname"><span class="pre">t</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.t" title="Permalink to this definition"></a></dt>
<dd><p>time</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.t_max">
<span class="sig-name descname"><span class="pre">t_max</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.t_max" title="Permalink to this definition"></a></dt>
<dd><p>max time</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.t_ind">
<span class="sig-name descname"><span class="pre">t_ind</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.t_ind" title="Permalink to this definition"></a></dt>
<dd><p>time index in log</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.desired_result">
<span class="sig-name descname"><span class="pre">desired_result</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.desired_result" title="Permalink to this definition"></a></dt>
<dd><p>variables to get from the model at each time-step</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.hist">
<span class="sig-name descname"><span class="pre">hist</span></span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.hist" title="Permalink to this definition"></a></dt>
<dd><p>mdlhist for simulation</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.history.History" title="fmdtools.analyze.history.History">History</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.check_sim_end">
<span class="sig-name descname"><span class="pre">check_sim_end</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">external_condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.check_sim_end" title="Permalink to this definition"></a></dt>
<dd><p>Check the model end-condition (and sim time) and clips the simulation log.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>external_condition</strong> (<em>bool</em><em>, </em><em>optional</em>) – External end-condition to trigger simulation end. The default is False.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>end</strong> – Whether the simulation is finished</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.DynamicInterface.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">disturbances</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.DynamicInterface.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the model states at the simulation time and iterates time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seed</strong> (<em>seed</em><em>, </em><em>optional</em>) – Seed for the simulation. The default is {}.</p></li>
<li><p><strong>faults</strong> (<em>dict</em><em>, </em><em>optional</em>) – faults to inject in the model, with structure {fxn:[faults]}.
The default is {}.</p></li>
<li><p><strong>disturbances</strong> (<em>dict</em><em>, </em><em>optional</em>) – Variables to change in the model, with structure {fxn.var:value}.
The default is {}.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>returns</strong> – dictionary of returns with values corresponding to desired_result</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">HistoryConstraint</span></span><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.ResultConstraint" title="fmdtools.sim.search.ResultConstraint"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultConstraint</span></code></a></p>
<p>Same as ResultConstraint but with different name.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.comparator">
<span class="sig-name descname"><span class="pre">comparator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.comparator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.metric">
<span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">callable</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.metric" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.negative">
<span class="sig-name descname"><span class="pre">negative</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.satisfied">
<span class="sig-name descname"><span class="pre">satisfied</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.satisfied" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.threshold" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryConstraint.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryConstraint.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryObjective">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">HistoryObjective</span></span><a class="headerlink" href="#fmdtools.sim.search.HistoryObjective" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.ResultObjective" title="fmdtools.sim.search.ResultObjective"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultObjective</span></code></a></p>
<p>Same as ResultObjective but marks that the result is a history.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">HistoryObjective</span><span class="p">(</span><span class="s2">&quot;a.b&quot;</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hist</span> <span class="o">=</span> <span class="n">History</span><span class="p">({</span><span class="s1">&#39;t1p0.a.b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">5.0</span><span class="p">,</span> <span class="mf">10.0</span><span class="p">],</span> <span class="s1">&#39;t2p0.a.b&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">13.0</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">get_result_value</span><span class="p">(</span><span class="n">hist</span><span class="p">)</span>
<span class="go">13.0</span>
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryObjective.metric">
<span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">callable</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryObjective.metric" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryObjective.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryObjective.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryObjective.negative">
<span class="sig-name descname"><span class="pre">negative</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryObjective.negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryObjective.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryObjective.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.HistoryObjective.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.HistoryObjective.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.Objective">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">Objective</span></span><a class="headerlink" href="#fmdtools.sim.search.Objective" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseObjCon" title="fmdtools.sim.search.BaseObjCon"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseObjCon</span></code></a></p>
<p>…</p>
<dl class="simple">
<dt>negative<span class="classifier">bool</span></dt><dd><p>Whether the objective is the negative of the value.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Objective.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.Objective.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Objective.negative">
<span class="sig-name descname"><span class="pre">negative</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.Objective.negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.Objective.obj_from_value">
<span class="sig-name descname"><span class="pre">obj_from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.Objective.obj_from_value" title="Permalink to this definition"></a></dt>
<dd><p>Get the (+ or 0) objective corresponding to value give self.negative.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.Objective.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.Objective.update" title="Permalink to this definition"></a></dt>
<dd><p>Update with given value.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.Objective.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.Objective.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ObjectiveConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ObjectiveConnector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ObjectiveConnector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.VariableConnector" title="fmdtools.sim.search.VariableConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">VariableConnector</span></code></a></p>
<p>Class for linking objectives. Same as VariableConnector but used differently.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ObjectiveConnector.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.search.ObjectiveConnector.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ObjectiveConnector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.ObjectiveConnector.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ObjectiveConnector.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">valuedict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ObjectiveConnector.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the value of the connector given a dict of values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>valuedict</strong> (<em>dict</em>) – dict with structure {k: value}, where k corresponds to a key in self.keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ObjectiveConnector.values">
<span class="sig-name descname"><span class="pre">values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#fmdtools.sim.search.ObjectiveConnector.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ParameterSimProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ParameterSimProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parameterdomain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prop_method</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ParameterSimProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseSimProblem" title="fmdtools.sim.search.BaseSimProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSimProblem</span></code></a></p>
<p>Optimization problem defining the optimization of model parameters over simulations.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.sim.sample</span> <span class="kn">import</span> <span class="n">expd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.define.block.function</span> <span class="kn">import</span> <span class="n">ExampleFunction</span>
</pre></div>
</div>
<p>below, we show basic setup of a parameter problem where objectives get values
from the sim at particular times.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span> <span class="o">=</span> <span class="n">ParameterSimProblem</span><span class="p">(</span><span class="n">ExampleFunction</span><span class="p">(),</span> <span class="n">expd</span><span class="p">,</span> <span class="s2">&quot;nominal&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">add_result_objective</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="s2">&quot;s.x&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">add_result_objective</span><span class="p">(</span><span class="s2">&quot;f2&quot;</span><span class="p">,</span> <span class="s2">&quot;s.y&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">add_result_constraint</span><span class="p">(</span><span class="s2">&quot;g1&quot;</span><span class="p">,</span> <span class="s2">&quot;s.x&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">comparator</span><span class="o">=</span><span class="s1">&#39;greater&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span>
<span class="go">ParameterSimProblem with:</span>
<span class="go">VARIABLES</span>
<span class="go"> -y                                                             nan</span>
<span class="go"> -x                                                             nan</span>
<span class="go">OBJECTIVES</span>
<span class="go"> -f1                                                            nan</span>
<span class="go"> -f2                                                            nan</span>
<span class="go">CONSTRAINTS</span>
<span class="go"> -g1                                                            nan</span>
</pre></div>
</div>
<p>once this is set up, you can use the objectives/constraints as callables, like so:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">5.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">10.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">0.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">g1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">-10.0</span>
</pre></div>
</div>
<p>below, we use the endclass as an objective instead of the variable:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span> <span class="o">=</span> <span class="n">ParameterSimProblem</span><span class="p">(</span><span class="n">ExampleFunction</span><span class="p">(),</span> <span class="n">expd</span><span class="p">,</span> <span class="s2">&quot;nominal&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">add_result_objective</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="s2">&quot;endclass.xy&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">100.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">200.0</span>
</pre></div>
</div>
<p>finally, note that this class can work with a variety of methods:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span> <span class="o">=</span> <span class="n">ParameterSimProblem</span><span class="p">(</span><span class="n">ExampleFunction</span><span class="p">(</span><span class="s2">&quot;ex&quot;</span><span class="p">),</span> <span class="n">expd</span><span class="p">,</span> <span class="s2">&quot;one_fault&quot;</span><span class="p">,</span> <span class="s2">&quot;ex&quot;</span><span class="p">,</span> <span class="s2">&quot;short&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">add_result_objective</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="s2">&quot;s.y&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">add_result_objective</span><span class="p">(</span><span class="s2">&quot;f2&quot;</span><span class="p">,</span> <span class="s2">&quot;s.y&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">exprob</span><span class="o">.</span><span class="n">f2</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">4.0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ParameterSimProblem.sim_mdl">
<span class="sig-name descname"><span class="pre">sim_mdl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ParameterSimProblem.sim_mdl" title="Permalink to this definition"></a></dt>
<dd><p>Simulate the model at the given variable value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*x</strong> (<em>args</em>) – Variable inputs for parameterdomain.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>res</strong> (<em>Result</em>) – result for the sim.</p></li>
<li><p><strong>hist</strong> (<em>History</em>) – history for the sim.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ProblemArchitecture</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseProblem" title="fmdtools.sim.search.BaseProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseProblem</span></code></a></p>
<p>Class enabling the representation of combined joint optimization problems.</p>
<p>Combined optimization problems involve multiple variables and objectives which
interact (e.g., Integrated Resilience Optimization, Two-Stage Optimization, etc.)</p>
<p>Note that ProblemArchitectures are (presently) limited in the sense that they assume
problems are sequentially linked in the order of instantiation. While this works
well for nested problems, there are some limitations when workign with parallel
problems which we hope to resolve in future work.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.connectors">
<span class="sig-name descname"><span class="pre">connectors</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.connectors" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of Connector (variables, models, etc) added using .add_connector</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.problems">
<span class="sig-name descname"><span class="pre">problems</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.problems" title="Permalink to this definition"></a></dt>
<dd><p>Dictionary of optimization problems added using .add_problem</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.problem_graph">
<span class="sig-name descname"><span class="pre">problem_graph</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.problem_graph" title="Permalink to this definition"></a></dt>
<dd><p>Graph structure containing information about how each problem is connected.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>nx.DiGraph</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.var_mapping">
<span class="sig-name descname"><span class="pre">var_mapping</span></span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.var_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Dict mapping inputs to each problem to problem variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>Below we connect three example problems in a single architecture, linking the vars
x0 and x1 from ex_sp to be inputs to the scenario simulation (time) as well as the
disturbance simulation variable (s.y).</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span> <span class="o">=</span> <span class="n">ProblemArchitecture</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">add_connector_variable</span><span class="p">(</span><span class="s2">&quot;x0&quot;</span><span class="p">,</span> <span class="s2">&quot;x0&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">add_connector_variable</span><span class="p">(</span><span class="s2">&quot;x1&quot;</span><span class="p">,</span> <span class="s2">&quot;x1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">add_problem</span><span class="p">(</span><span class="s2">&quot;ex_sp&quot;</span><span class="p">,</span> <span class="n">ex_sp</span><span class="p">,</span> <span class="n">outputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x0&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x0&quot;</span><span class="p">],</span> <span class="s2">&quot;x1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;x1&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">add_problem</span><span class="p">(</span><span class="s2">&quot;ex_scenprob&quot;</span><span class="p">,</span> <span class="n">ex_scenprob</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x0&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;time&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">add_problem</span><span class="p">(</span><span class="s2">&quot;ex_dp&quot;</span><span class="p">,</span> <span class="n">ex_dp</span><span class="p">,</span> <span class="n">inputs</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;x1&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;s.y&quot;</span><span class="p">]})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span>
<span class="go">ProblemArchitecture with:</span>
<span class="go">CONNECTORS</span>
<span class="go"> -x0                                                          [nan]</span>
<span class="go"> -x1                                                          [nan]</span>
<span class="go">PROBLEMS</span>
<span class="go"> -ex_sp({&#39;ex_sp_xloc&#39;: [&#39;x0&#39;, &#39;x1&#39;]}) -&gt; [&#39;x0&#39;, &#39;x1&#39;]</span>
<span class="go"> -ex_scenprob({&#39;x0&#39;: [&#39;time&#39;]}) -&gt; []</span>
<span class="go"> -ex_dp({&#39;x1&#39;: [&#39;s.y&#39;]}) -&gt; []</span>
<span class="go">VARIABLES</span>
<span class="go"> -ex_sp_xloc                                              [nan nan]</span>
<span class="go">OBJECTIVES</span>
<span class="go"> -ex_sp_f1                                                      nan</span>
<span class="go"> -ex_scenprob_f1                                                nan</span>
<span class="go"> -ex_dp_f1                                                      nan</span>
<span class="go">CONSTRAINTS</span>
<span class="go"> -ex_sp_g1                                                      nan</span>
</pre></div>
</div>
<p>Setting up this problem gives us callables for each problem which we can use to
call each objective in each problem in terms of its local variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">ex_sp_f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">ex_scenprob_f1</span><span class="p">()</span>
<span class="go">16.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">ex_dp_f1</span><span class="p">()</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>We can also call these in terms of the full set of variables:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">ex_scenprob_f1_full</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="go">13.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">ex_dp_f1_full</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">3.0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_connector">
<span class="sig-name descname"><span class="pre">add_connector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conclass=&lt;class</span> <span class="pre">'fmdtools.sim.search.VariableConnector'&gt;</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_connector" title="Permalink to this definition"></a></dt>
<dd><p>Add a connector linking variables between problems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the connector</p></li>
<li><p><strong>*args</strong> (<em>strs</em>) – arguments to conclass</p></li>
<li><p><strong>conclass</strong> (<em>Connector</em>) – Class to instantiate.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_connector_constraint">
<span class="sig-name descname"><span class="pre">add_connector_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">connames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_connector_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Add a connector linking a constraint to an input variable in another problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the connector</p></li>
<li><p><strong>*varnames</strong> (<em>strs</em>) – Names of the constraint values to link as a part of the connector.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_connector_objective">
<span class="sig-name descname"><span class="pre">add_connector_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">objnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_connector_objective" title="Permalink to this definition"></a></dt>
<dd><p>Add a connector linking an objective to an input variable in another problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the connector</p></li>
<li><p><strong>*objnames</strong> (<em>strs</em>) – Names of the objective values to link as a part of the connector.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_connector_variable">
<span class="sig-name descname"><span class="pre">add_connector_variable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">varnames</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_connector_variable" title="Permalink to this definition"></a></dt>
<dd><p>Add a connector linking variables between problems.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the connector</p></li>
<li><p><strong>*varnames</strong> (<em>strs</em>) – Names of the variable values (used in each problem) to link as a part of the
connector.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_constraint_callable">
<span class="sig-name descname"><span class="pre">add_constraint_callable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_constraint_callable" title="Permalink to this definition"></a></dt>
<dd><p>Add callable constraint function from problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_constraint_callables">
<span class="sig-name descname"><span class="pre">add_constraint_callables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_constraint_callables" title="Permalink to this definition"></a></dt>
<dd><p>Add callable constraint function from problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_objective_callable">
<span class="sig-name descname"><span class="pre">add_objective_callable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_objective_callable" title="Permalink to this definition"></a></dt>
<dd><p>Add callable objective function from problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_objective_callables">
<span class="sig-name descname"><span class="pre">add_objective_callables</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_objective_callables" title="Permalink to this definition"></a></dt>
<dd><p>Add callable objective functions from problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.add_problem">
<span class="sig-name descname"><span class="pre">add_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">problem</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.add_problem" title="Permalink to this definition"></a></dt>
<dd><p>Add a problem to the ProblemArchitecture.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the problem.</p></li>
<li><p><strong>problem</strong> (<em>BaseProblem/ScenProblem/SimpleProblem</em><em>...</em>) – Problem object to add to the architecture.</p></li>
<li><p><strong>inputs</strong> (<em>dict</em><em>, </em><em>optional</em>) – List of input connector names (by name) and their corresponding problem
variables. The default is [].</p></li>
<li><p><strong>outputs</strong> (<em>dict</em><em>, </em><em>optional</em>) – List of output connector names (by name) and their corresponding problem
variables/objectives/constraints. The default is [].</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.call_constraint">
<span class="sig-name descname"><span class="pre">call_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x_loc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.call_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Call constraint of a problem over partial its local variables <a href="#id23"><span class="problematic" id="id24">*</span></a>x_loc.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.call_full_constraint">
<span class="sig-name descname"><span class="pre">call_full_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x_full</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.call_full_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Call objective of a problem over full set of variables <a href="#id25"><span class="problematic" id="id26">*</span></a>x_full.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.call_full_objective">
<span class="sig-name descname"><span class="pre">call_full_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x_full</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.call_full_objective" title="Permalink to this definition"></a></dt>
<dd><p>Call objective of a problem over full set of variables <a href="#id27"><span class="problematic" id="id28">*</span></a>x_full.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.call_objective">
<span class="sig-name descname"><span class="pre">call_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x_loc</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.call_objective" title="Permalink to this definition"></a></dt>
<dd><p>Call objective of a problem over partial its local variables <a href="#id29"><span class="problematic" id="id30">*</span></a>x_loc.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.create_var_mapping">
<span class="sig-name descname"><span class="pre">create_var_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.create_var_mapping" title="Permalink to this definition"></a></dt>
<dd><p>Create a dict mapping problem variables to input/connector variables.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.find_inconsistent_upstream">
<span class="sig-name descname"><span class="pre">find_inconsistent_upstream</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.find_inconsistent_upstream" title="Permalink to this definition"></a></dt>
<dd><p>Check that all upstream problems are consistent with current probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.find_input_vars">
<span class="sig-name descname"><span class="pre">find_input_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.find_input_vars" title="Permalink to this definition"></a></dt>
<dd><p>Find variables for a problem that are in an input connector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.find_inputs">
<span class="sig-name descname"><span class="pre">find_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.find_inputs" title="Permalink to this definition"></a></dt>
<dd><p>List input connectors for a given problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>probname</strong> (<em>str</em>) – Name of the problem.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>inputs</strong> – List of names of connectors used as inputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.find_outputs">
<span class="sig-name descname"><span class="pre">find_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.find_outputs" title="Permalink to this definition"></a></dt>
<dd><p>List output connectors for a given problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>probname</strong> (<em>str</em>) – Name of the problem.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>outputs</strong> – List of names of connectors used as outputs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.find_xloc_vars">
<span class="sig-name descname"><span class="pre">find_xloc_vars</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.find_xloc_vars" title="Permalink to this definition"></a></dt>
<dd><p>Find variables for a problem that aren’t in an input connector.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.get_default_x">
<span class="sig-name descname"><span class="pre">get_default_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.get_default_x" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.get_downstream_probs">
<span class="sig-name descname"><span class="pre">get_downstream_probs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.get_downstream_probs" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of all problems to be executed after the problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.get_inputs">
<span class="sig-name descname"><span class="pre">get_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.get_inputs" title="Permalink to this definition"></a></dt>
<dd><p>Return a dict of input connectors for problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.get_inputs_as_x">
<span class="sig-name descname"><span class="pre">get_inputs_as_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.get_inputs_as_x" title="Permalink to this definition"></a></dt>
<dd><p>Get variable values for inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>probname</strong> (<em>str</em>) – Name of the problem..</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>inputs</strong> – Input connectors and their values.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.get_outputs">
<span class="sig-name descname"><span class="pre">get_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.get_outputs" title="Permalink to this definition"></a></dt>
<dd><p>Return a dict of output connectors for problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.get_upstream_probs">
<span class="sig-name descname"><span class="pre">get_upstream_probs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.get_upstream_probs" title="Permalink to this definition"></a></dt>
<dd><p>Return a list of all problems to be executed before the problem probname.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.prob_repr">
<span class="sig-name descname"><span class="pre">prob_repr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.prob_repr" title="Permalink to this definition"></a></dt>
<dd><p>Representation of the problem variables, objectives, constraints.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.show_sequence">
<span class="sig-name descname"><span class="pre">show_sequence</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.show_sequence" title="Permalink to this definition"></a></dt>
<dd><p>Show a visualization of the problem architecture.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p><strong>fig</strong> (<em>mpl.figure</em>) – Figure object.</p></li>
<li><p><strong>ax</strong> (<em>mpl.axis</em>) – Axis object.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_downstream_consistency">
<span class="sig-name descname"><span class="pre">update_downstream_consistency</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_downstream_consistency" title="Permalink to this definition"></a></dt>
<dd><p>Mark downstream problems as inconsistent (when current problem updated).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_full_problem">
<span class="sig-name descname"><span class="pre">update_full_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x_full</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">probname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_full_problem" title="Permalink to this definition"></a></dt>
<dd><p>Update the variables for the entire problem (or, problems up to probname).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>*x_full</strong> (<em>float</em>) – Variable values for all local variables in the problem architecture up to
the probname.</p></li>
<li><p><strong>probname</strong> (<em>str</em><em>, </em><em>optional</em>) – If provided, the problems will be updated up to the given problem.
The default is ‘’.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">update_full_problem</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span>
<span class="go">ProblemArchitecture with:</span>
<span class="go">CONNECTORS</span>
<span class="go"> -x0                                                           [1.]</span>
<span class="go"> -x1                                                           [2.]</span>
<span class="go">PROBLEMS</span>
<span class="go"> -ex_sp({&#39;ex_sp_xloc&#39;: [&#39;x0&#39;, &#39;x1&#39;]}) -&gt; [&#39;x0&#39;, &#39;x1&#39;]</span>
<span class="go"> -ex_scenprob({&#39;x0&#39;: [&#39;time&#39;]}) -&gt; []</span>
<span class="go"> -ex_dp({&#39;x1&#39;: [&#39;s.y&#39;]}) -&gt; []</span>
<span class="go">VARIABLES</span>
<span class="go"> -ex_sp_xloc                                                [1. 2.]</span>
<span class="go">OBJECTIVES</span>
<span class="go"> -ex_sp_f1                                                   3.0000</span>
<span class="go"> -ex_scenprob_f1                                            16.0000</span>
<span class="go"> -ex_dp_f1                                                   2.0000</span>
<span class="go">CONSTRAINTS</span>
<span class="go"> -ex_sp_g1                                                  -4.0000</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">problems</span><span class="p">[</span><span class="s1">&#39;ex_dp&#39;</span><span class="p">]</span>
<span class="go">DisturbanceProblem with:</span>
<span class="go">VARIABLES</span>
<span class="go"> -s.y                                                        2.0000</span>
<span class="go">OBJECTIVES</span>
<span class="go"> -f1                                                         2.0000</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_objectives">
<span class="sig-name descname"><span class="pre">update_objectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_objectives" title="Permalink to this definition"></a></dt>
<dd><p>Take place of update_objectives in base problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_problem">
<span class="sig-name descname"><span class="pre">update_problem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_update</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_problem" title="Permalink to this definition"></a></dt>
<dd><p>Update a given problem with new values for inputs (and non-input variables).</p>
<p>Additionally updates output connectors.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probname</strong> (<em>str</em>) – Name of the problem to update.</p></li>
<li><p><strong>*x</strong> (<em>float</em>) – Input variables to update (aside from inputs).</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">update_problem</span><span class="p">(</span><span class="s2">&quot;ex_sp&quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">problems</span><span class="p">[</span><span class="s2">&quot;ex_sp&quot;</span><span class="p">]</span>
<span class="go">SimpleProblem with:</span>
<span class="go">VARIABLES</span>
<span class="go"> -x0                                                         1.0000</span>
<span class="go"> -x1                                                         2.0000</span>
<span class="go">OBJECTIVES</span>
<span class="go"> -f1                                                         3.0000</span>
<span class="go">CONSTRAINTS</span>
<span class="go"> -g1                                                        -4.0000</span>
</pre></div>
</div>
<p>This update should further update connectors:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">get_outputs</span><span class="p">(</span><span class="s2">&quot;ex_sp&quot;</span><span class="p">)</span>
<span class="go">{&#39;x0&#39;: VariableConnector(name=&#39;x0&#39;, keys=(&#39;x0&#39;,), values=array([1.])), &#39;x1&#39;: VariableConnector(name=&#39;x1&#39;, keys=(&#39;x1&#39;,), values=array([2.]))}</span>
</pre></div>
</div>
<p>Which should then propagate to downstream sims:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">update_problem</span><span class="p">(</span><span class="s2">&quot;ex_scenprob&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_pa</span><span class="o">.</span><span class="n">problems</span><span class="p">[</span><span class="s2">&quot;ex_scenprob&quot;</span><span class="p">]</span>
<span class="go">SingleScenarioProblem(examplefunction, short) with:</span>
<span class="go">VARIABLES</span>
<span class="go"> -time                                                       1.0000</span>
<span class="go">OBJECTIVES</span>
<span class="go"> -f1                                                        16.0000</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_problem_constraints">
<span class="sig-name descname"><span class="pre">update_problem_constraints</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_problem_constraints" title="Permalink to this definition"></a></dt>
<dd><p>Update architecture-level constraints from problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_problem_objectives">
<span class="sig-name descname"><span class="pre">update_problem_objectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_problem_objectives" title="Permalink to this definition"></a></dt>
<dd><p>Update architecture-level objectives from problem.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ProblemArchitecture.update_problem_outputs">
<span class="sig-name descname"><span class="pre">update_problem_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ProblemArchitecture.update_problem_outputs" title="Permalink to this definition"></a></dt>
<dd><p>Update the output connectors from a problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>probname</strong> (<em>str</em>) – Name of the problem.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ResultConstraint</span></span><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.ResultObjective" title="fmdtools.sim.search.ResultObjective"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResultObjective</span></code></a></p>
<p>Base class for constraints which derive from results.</p>
<p>…</p>
<dl class="simple">
<dt>threshold<span class="classifier">float</span></dt><dd><p>Theshold for the constraint. Default is 0.0</p>
</dd>
<dt>comparator<span class="classifier">str</span></dt><dd><p>Whether the constraint is ‘greater’ or ‘less’.</p>
</dd>
<dt>satisfied<span class="classifier">bool</span></dt><dd><p>Whether the constraint is satisfied.</p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.comparator">
<span class="sig-name descname"><span class="pre">comparator</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.comparator" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.con_from_value">
<span class="sig-name descname"><span class="pre">con_from_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.con_from_value" title="Permalink to this definition"></a></dt>
<dd><p>Call con_from_value from Constraint for the ResultConstraint.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">con</span> <span class="o">=</span> <span class="n">ResultConstraint</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">comparator</span><span class="o">=</span><span class="s1">&#39;greater&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">con</span><span class="o">.</span><span class="n">con_from_value</span><span class="p">(</span><span class="mf">11.0</span><span class="p">)</span>
<span class="go">-1.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">con2</span> <span class="o">=</span> <span class="n">ResultConstraint</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">10.0</span><span class="p">,</span> <span class="n">comparator</span><span class="o">=</span><span class="s1">&#39;less&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">con2</span><span class="o">.</span><span class="n">con_from_value</span><span class="p">(</span><span class="mf">11.0</span><span class="p">)</span>
<span class="go">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.metric">
<span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">callable</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.metric" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.negative">
<span class="sig-name descname"><span class="pre">negative</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.satisfied">
<span class="sig-name descname"><span class="pre">satisfied</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.satisfied" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.threshold">
<span class="sig-name descname"><span class="pre">threshold</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.threshold" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the value of the constraint given the result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultConstraint.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultConstraint.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ResultObjective</span></span><a class="headerlink" href="#fmdtools.sim.search.ResultObjective" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.Objective" title="fmdtools.sim.search.Objective"><code class="xref py py-class docutils literal notranslate"><span class="pre">Objective</span></code></a></p>
<p>Base class of objectives which derive from Results.</p>
<p>…</p>
<dl class="simple">
<dt>time<span class="classifier">float</span></dt><dd><p>Time the objective is called at. If None, time will be the end of the sim.</p>
</dd>
<dt>metric<span class="classifier">callable</span></dt><dd><p>Metric to tabulate for the objective. Default is np.sum.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.get_result_value">
<span class="sig-name descname"><span class="pre">get_result_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.get_result_value" title="Permalink to this definition"></a></dt>
<dd><p>Get the value corresponding to the objective from the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>res</strong> (<a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.result.Result" title="fmdtools.analyze.result.Result"><em>Result</em></a>) – Result containing the metric desired.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>val</strong> – Value corresponding to the result.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>value</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.analyze.result</span> <span class="kn">import</span> <span class="n">Result</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ResultObjective</span><span class="p">(</span><span class="s2">&quot;a.b&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">Result</span><span class="p">({</span><span class="s1">&#39;t1p0.a.b&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span> <span class="s1">&#39;t2p0.a.b&#39;</span><span class="p">:</span> <span class="mf">13.0</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">get_result_value</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="go">10.0</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span> <span class="o">=</span> <span class="n">ResultObjective</span><span class="p">(</span><span class="s2">&quot;a.b&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">Result</span><span class="p">({</span><span class="s1">&#39;scen1.t1p0.a.b&#39;</span><span class="p">:</span> <span class="mf">10.0</span><span class="p">,</span> <span class="s1">&#39;scen2.t1p0.a.b&#39;</span><span class="p">:</span> <span class="mf">12.0</span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">obj</span><span class="o">.</span><span class="n">get_result_value</span><span class="p">(</span><span class="n">res</span><span class="p">)</span>
<span class="go">22.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.metric">
<span class="sig-name descname"><span class="pre">metric</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">callable</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.metric" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.negative">
<span class="sig-name descname"><span class="pre">negative</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">bool</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.negative" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.time">
<span class="sig-name descname"><span class="pre">time</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.time" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the value of the objective given the result.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ResultObjective.value">
<span class="sig-name descname"><span class="pre">value</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">float</span></em><a class="headerlink" href="#fmdtools.sim.search.ResultObjective.value" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.ScenarioProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">ScenarioProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faultdomain</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ScenarioProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseSimProblem" title="fmdtools.sim.search.BaseSimProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSimProblem</span></code></a></p>
<p>Base class for optimizing scenario parameters.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.ScenarioProblem.prepped_sims">
<span class="sig-name descname"><span class="pre">prepped_sims</span></span><a class="headerlink" href="#fmdtools.sim.search.ScenarioProblem.prepped_sims" title="Permalink to this definition"></a></dt>
<dd><p>Dict of outputs from propagate.nom_helper. Used for staged execution of
scenarios (where the model is copied instead of re-simulated).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ScenarioProblem.prep_sim">
<span class="sig-name descname"><span class="pre">prep_sim</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ScenarioProblem.prep_sim" title="Permalink to this definition"></a></dt>
<dd><p>Prepare simulation by simulating it until the start of the scenario.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.ScenarioProblem.sim_mdl">
<span class="sig-name descname"><span class="pre">sim_mdl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.ScenarioProblem.sim_mdl" title="Permalink to this definition"></a></dt>
<dd><p>Simulate the model at the given variable value.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*x</strong> (<em>args</em>) – Variable inputs for parameterdomain.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>res</strong> (<em>Result</em>) – result for the sim.</p></li>
<li><p><strong>hist</strong> (<em>History</em>) – history for the sim.</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.SimpleProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">SimpleProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">variables</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SimpleProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseProblem" title="fmdtools.sim.search.BaseProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseProblem</span></code></a></p>
<p>Simple optimization problem (without any given model constructs).</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.SimpleProblem.callables">
<span class="sig-name descname"><span class="pre">callables</span></span><a class="headerlink" href="#fmdtools.sim.search.SimpleProblem.callables" title="Permalink to this definition"></a></dt>
<dd><p>dict of callables for objectives/constraints</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_sp</span> <span class="o">=</span> <span class="n">SimpleProblem</span><span class="p">(</span><span class="s2">&quot;x0&quot;</span><span class="p">,</span> <span class="s2">&quot;x1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">:</span> <span class="n">x0</span> <span class="o">+</span> <span class="n">x1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_sp</span><span class="o">.</span><span class="n">add_objective</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="n">f1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g1</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x0</span><span class="p">,</span> <span class="n">x1</span><span class="p">:</span> <span class="n">x0</span> <span class="o">-</span> <span class="n">x1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_sp</span><span class="o">.</span><span class="n">add_constraint</span><span class="p">(</span><span class="s2">&quot;g1&quot;</span><span class="p">,</span> <span class="n">g1</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">3.0</span><span class="p">,</span> <span class="n">comparator</span><span class="o">=</span><span class="s2">&quot;less&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_sp</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_sp</span><span class="o">.</span><span class="n">g1</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">-3.0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.SimpleProblem.add_constraint">
<span class="sig-name descname"><span class="pre">add_constraint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">call</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SimpleProblem.add_constraint" title="Permalink to this definition"></a></dt>
<dd><p>Add an constraint to the problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the objective.</p></li>
<li><p><strong>call</strong> (<em>callable</em>) – Function to call for the objective in terms of the variables.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – kwargs to Constraint</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.SimpleProblem.add_objective">
<span class="sig-name descname"><span class="pre">add_objective</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">call</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SimpleProblem.add_objective" title="Permalink to this definition"></a></dt>
<dd><p>Add an objective to the problem.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name for the objective.</p></li>
<li><p><strong>call</strong> (<em>callable</em>) – Function to call for the objective in terms of the variables.</p></li>
<li><p><strong>**kwargs</strong> (<em>kwargs</em>) – kwargs to Objective.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.SimpleProblem.update_objectives">
<span class="sig-name descname"><span class="pre">update_objectives</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SimpleProblem.update_objectives" title="Permalink to this definition"></a></dt>
<dd><p>Update objectives/constraints by calling callables.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">SingleFaultScenarioProblem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mdl</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">faulttup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phasemap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">t_start</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.ScenarioProblem" title="fmdtools.sim.search.ScenarioProblem"><code class="xref py py-class docutils literal notranslate"><span class="pre">ScenarioProblem</span></code></a></p>
<p>Class for optimizing the time of a given fault scenario.</p>
<p>…</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem.faultdomain">
<span class="sig-name descname"><span class="pre">faultdomain</span></span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem.faultdomain" title="Permalink to this definition"></a></dt>
<dd><p>FaultDomain containing the fault</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#fmdtools.sim.sample.FaultDomain" title="fmdtools.sim.sample.FaultDomain">FaultDomain</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem.phasemap">
<span class="sig-name descname"><span class="pre">phasemap</span></span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem.phasemap" title="Permalink to this definition"></a></dt>
<dd><p>PhaseMap for fault sampling</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="fmdtools.analyze.html#fmdtools.analyze.phases.PhaseMap" title="fmdtools.analyze.phases.PhaseMap">PhaseMap</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem.t_start">
<span class="sig-name descname"><span class="pre">t_start</span></span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem.t_start" title="Permalink to this definition"></a></dt>
<dd><p>Minimum start time for the simulation and lower bound on scenario time..
Default is 0.0.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">fmdtools.define.block.function</span> <span class="kn">import</span> <span class="n">ExampleFunction</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_scenprob</span> <span class="o">=</span> <span class="n">SingleFaultScenarioProblem</span><span class="p">(</span><span class="n">ExampleFunction</span><span class="p">(),</span> <span class="p">(</span><span class="s2">&quot;examplefunction&quot;</span><span class="p">,</span> <span class="s2">&quot;short&quot;</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_scenprob</span><span class="o">.</span><span class="n">add_result_objective</span><span class="p">(</span><span class="s2">&quot;f1&quot;</span><span class="p">,</span> <span class="s2">&quot;s.y&quot;</span><span class="p">,</span> <span class="n">time</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<p>objective value should be 1.0 (init value) + 3 * time_with_fault</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ex_scenprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
<span class="go">4.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ex_scenprob</span><span class="o">.</span><span class="n">f1</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
<span class="go">7.0</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem.gen_scenario">
<span class="sig-name descname"><span class="pre">gen_scenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem.gen_scenario" title="Permalink to this definition"></a></dt>
<dd><p>Generate the scenario to simulate in the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>x</strong> (<em>float</em>) – Fault scenario time.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>scen</strong> – SingleFaultScenario to simulate.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#fmdtools.sim.scenario.SingleFaultScenario" title="fmdtools.sim.scenario.SingleFaultScenario">SingleFaultScenario</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem.get_start_time">
<span class="sig-name descname"><span class="pre">get_start_time</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem.get_start_time" title="Permalink to this definition"></a></dt>
<dd><p>Get the scenario start time to copy the model at.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.SingleFaultScenarioProblem.name_repr">
<span class="sig-name descname"><span class="pre">name_repr</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.SingleFaultScenarioProblem.name_repr" title="Permalink to this definition"></a></dt>
<dd><p>Get name of the class and faults.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">VariableConnector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.VariableConnector" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference internal" href="#fmdtools.sim.search.BaseConnector" title="fmdtools.sim.search.BaseConnector"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseConnector</span></code></a></p>
<p>Class connecting variables in one problem to use as variables in another problem.</p>
<dl class="simple">
<dt>keys<span class="classifier">tuple</span></dt><dd><p>Names of the variables.</p>
</dd>
<dt>values<span class="classifier">np.array</span></dt><dd><p>Array of values for the variables.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaultval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.get" title="Permalink to this definition"></a></dt>
<dd><p>Get a value for a particular key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.in_">
<span class="sig-name descname"><span class="pre">in_</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.in_" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.items">
<span class="sig-name descname"><span class="pre">items</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.items" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.keys">
<span class="sig-name descname"><span class="pre">keys</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">tuple</span></em><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.keys" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">str</span></em><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.name" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">valuedict</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.update" title="Permalink to this definition"></a></dt>
<dd><p>Update the value of the connector given a dict of values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>valuedict</strong> (<em>dict</em>) – dict with structure {k: value}, where k corresponds to a key in self.keys.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.update_values">
<span class="sig-name descname"><span class="pre">update_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.update_values" title="Permalink to this definition"></a></dt>
<dd><p>Update values of the connector given input variable x.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>*x</strong> (<em>iterable</em>) – Variable values to update (must be in order of self.keys).</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="fmdtools.sim.search.VariableConnector.values">
<span class="sig-name descname"><span class="pre">values</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">array</span></em><a class="headerlink" href="#fmdtools.sim.search.VariableConnector.values" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.f1">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">f1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.f1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.g1">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">g1</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.g1" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.obj_name">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">obj_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objname</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.obj_name" title="Permalink to this definition"></a></dt>
<dd><p>Create architecture-level objective name for problem.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="fmdtools.sim.search.unpack_x">
<span class="sig-prename descclassname"><span class="pre">fmdtools.sim.search.</span></span><span class="sig-name descname"><span class="pre">unpack_x</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#fmdtools.sim.search.unpack_x" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="fmdtools.define.object.html" class="btn btn-neutral float-left" title="fmdtools.define.object" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="fmdtools.analyze.html" class="btn btn-neutral float-right" title="fmdtools.analyze" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, United States Government as represented by the Administrator of the National Aeronautics and Space Administration. All Rights Reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>